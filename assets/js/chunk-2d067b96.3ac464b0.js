(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d067b96"],{3120:function(e,t,a){"use strict";a("e753")},3445:function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filtros-dinamicos"},[t("div",{staticClass:"filtros-header"},[t("h4",[t("i",{staticClass:"ti-filter"}),e._v("\n      Filtros ("+e._s(e.camposDisponibles.length)+" campos)\n    ")]),e.hasActiveFilters?t("button",{staticClass:"btn-clear-filters",on:{click:e.limpiarFiltros}},[t("i",{staticClass:"ti-close"}),e._v(" Limpiar\n    ")]):e._e()]),t("div",{staticClass:"filtros-content"},[0===e.camposDisponibles.length?t("div",{staticClass:"text-center text-muted"},[t("p",[e._v("No hay campos disponibles para filtrar")])]):t("div",{staticClass:"row"},e._l(e.camposDisponibles,(function(a){return t("div",{key:a.nombre||a,staticClass:"col-md-6 col-lg-4 mb-3"},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"filtro-"+(a.nombre||a)}},[e._v("\n            "+e._s((a.nombre||a).charAt(0).toUpperCase()+(a.nombre||a).slice(1))+"\n          ")]),"texto"===a.tipo||"email"===a.tipo?t("input",{directives:[{name:"model",rawName:"v-model",value:e.filtros[a.nombre||a],expression:"filtros[campo.nombre || campo]"}],staticClass:"form-control",attrs:{id:"filtro-"+(a.nombre||a),type:"text",placeholder:"Filtrar por "+(a.nombre||a)},domProps:{value:e.filtros[a.nombre||a]},on:{input:[function(t){t.target.composing||e.$set(e.filtros,a.nombre||a,t.target.value)},e.aplicarFiltros]}}):"relacional"===a.tipo?t("select",{directives:[{name:"model",rawName:"v-model",value:e.filtros[a.nombre||a],expression:"filtros[campo.nombre || campo]"}],staticClass:"form-control",attrs:{id:"filtro-"+(a.nombre||a)},on:{change:[function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.filtros,a.nombre||a,t.target.multiple?o:o[0])},e.aplicarFiltros]}},[t("option",{attrs:{value:""}},[e._v("Todos")]),e._l(e.getOpcionesRelacionadas(a.seccion),(function(a){return t("option",{key:a,domProps:{value:a}},[e._v("\n              "+e._s(a)+"\n            ")])}))],2):e._e(),"relacional"===a.tipo?t("small",{staticClass:"text-muted"},[e._v("\n            Opciones: "+e._s(e.getOpcionesRelacionadas(a.seccion).length)+"\n          ")]):"fecha"===a.tipo?t("input",{directives:[{name:"model",rawName:"v-model",value:e.filtros[a.nombre||a],expression:"filtros[campo.nombre || campo]"}],staticClass:"form-control",attrs:{id:"filtro-"+(a.nombre||a),type:"date"},domProps:{value:e.filtros[a.nombre||a]},on:{change:e.aplicarFiltros,input:function(t){t.target.composing||e.$set(e.filtros,a.nombre||a,t.target.value)}}}):"numero"===a.tipo?t("input",{directives:[{name:"model",rawName:"v-model",value:e.filtros[a.nombre||a],expression:"filtros[campo.nombre || campo]"}],staticClass:"form-control",attrs:{id:"filtro-"+(a.nombre||a),type:"number",placeholder:"Filtrar por "+(a.nombre||a)},domProps:{value:e.filtros[a.nombre||a]},on:{input:[function(t){t.target.composing||e.$set(e.filtros,a.nombre||a,t.target.value)},e.aplicarFiltros]}}):e._e()])])})),0)])])},n=[],r=a("2b0e"),i={name:"FiltrosDinamicos",props:{camposDisponibles:{type:Array,default:()=>[]},secciones:{type:Array,default:()=>[]}},emits:["filtros-cambiados"],setup(e,{emit:t}){console.log("🎯 FiltrosDinamicos - Secciones recibidas:",e.secciones),console.log("🎯 FiltrosDinamicos - Campos disponibles:",e.camposDisponibles);const a=Object(r["ref"])({}),o=Object(r["computed"])(()=>Object.values(a.value).some(e=>e&&""!==e.toString().trim()));let n=null;const i=()=>{clearTimeout(n),n=setTimeout(()=>{const e={};Object.entries(a.value).forEach(([t,a])=>{a&&""!==a.toString().trim()&&(e[t]=a)}),t("filtros-cambiados",e)},300)},s=()=>{a.value={},t("filtros-cambiados",{})},l=t=>{console.log("🔍 Buscando opciones para sección:",t),console.log("📋 Secciones disponibles:",e.secciones.map(e=>e.nombre));const a=e.secciones.find(e=>(e.slug||c(e.nombre))===(t?c(t):""));if(!a)return console.log("❌ No se encontró la sección:",t),[];if(!a.columnas||0===a.columnas.length)return console.log("❌ La sección no tiene columnas:",a.nombre),[];const o=a.columnas[0].nombre;console.log("🔑 Campo clave:",o);let n=[];if(!a.datos||!Array.isArray(a.datos))return console.log("⚠️ No hay datos disponibles para la sección:",a.nombre),[];n=a.datos,console.log("✅ Datos encontrados en seccion.datos:",n.length);const r=n.map(e=>e.valores&&void 0!==e.valores[o]?e.valores[o]:void 0!==e[o]?e[o]:null).filter(Boolean),i=[...new Set(r)];return console.log("📊 Valores únicos encontrados:",i),i};function c(e){return e.toString().toLowerCase().normalize("NFD").replace(/[ \u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}return{filtros:a,hasActiveFilters:o,aplicarFiltros:i,limpiarFiltros:s,getOpcionesRelacionadas:l}}},s=i,l=(a("ed18"),a("2877")),c=Object(l["a"])(s,o,n,!1,null,"b3363d70",null);t["a"]=c.exports},"4b04":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"a",(function(){return gapi}));var gapi=window.gapi=window.gapi||{};gapi._bs=(new Date).getTime(),function(){var aa="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,a){return e==Array.prototype||e==Object.prototype||(e[t]=a.value),e},da=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var t=0;t<e.length;++t){var a=e[t];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")},ea=da(this),fa=function(e,t){if(t)e:{var a=ea;e=e.split(".");for(var o=0;o<e.length-1;o++){var n=e[o];if(!(n in a))break e;a=a[n]}e=e[e.length-1],o=a[e],t=t(o),t!=o&&null!=t&&aa(a,e,{configurable:!0,writable:!0,value:t})}},ha=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}};fa("Symbol",(function(e){if(e)return e;var t=function(e,t){this.ba=e,aa(this,"description",{configurable:!0,writable:!0,value:t})};t.prototype.toString=function(){return this.ba};var a=0,o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return new t("jscomp_symbol_"+(e||"")+"_"+a++,e)};return o})),fa("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),a=0;a<t.length;a++){var o=ea[t[a]];"function"===typeof o&&"function"!=typeof o.prototype[e]&&aa(o.prototype,e,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return e}));var ia=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},ja=function(e,t){e instanceof String&&(e+="");var a=0,o=!1,n={next:function(){if(!o&&a<e.length){var n=a++;return{value:t(n,e[n]),done:!1}}return o=!0,{done:!0,value:void 0}}};return n[Symbol.iterator]=function(){return n},n};fa("Array.prototype.keys",(function(e){return e||function(){return ja(this,(function(e){return e}))}}));var m=this||self,ka=function(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"},la=function(e,t,a){return e.call.apply(e.bind,arguments)},ma=function(e,t,a){if(!e)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,o),e.apply(t,a)}}return function(){return e.apply(t,arguments)}},na=function(e,t,a){return na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma,na.apply(null,arguments)},oa=function(e,t){function a(){}a.prototype=t.prototype,e.ma=t.prototype,e.prototype=new a,e.prototype.constructor=e,e.A=function(e,a,o){for(var n=Array(arguments.length-2),r=2;r<arguments.length;r++)n[r-2]=arguments[r];return t.prototype[a].apply(e,n)}},pa=function(e){return e},qa=function(e){var t=null,a=m.trustedTypes;if(!a||!a.createPolicy)return t;try{t=a.createPolicy(e,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(o){m.console&&m.console.error(o.message)}return t};function q(e){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}oa(q,Error),q.prototype.name="CustomError";var ra=function(e,t){e=e.split("%s");for(var a="",o=e.length-1,n=0;n<o;n++)a+=e[n]+(n<t.length?t[n]:"%s");q.call(this,a+e[o])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(e,t,a,o){var n="Assertion failed";if(a){n+=": "+a;var r=o}else e&&(n+=": "+e,r=t);throw new ra(""+n,r||[])},ta=function(e,t,a){return e||sa("",null,t,Array.prototype.slice.call(arguments,2)),e},ua=function(e,t){throw new ra("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},va=function(e,t,a){"string"!==typeof e&&sa("Expected string but got %s: %s.",[ka(e),e],t,Array.prototype.slice.call(arguments,2))},xa=function(e,t){e:{try{var a=e&&e.ownerDocument,o=a&&(a.defaultView||a.parentWindow);if(o=o||m,o.Element&&o.Location){var n=o;break e}}catch(i){}n=null}if(n&&"undefined"!=typeof n[t]&&(!e||!(e instanceof n[t])&&(e instanceof n.Location||e instanceof n.Element))){if(n=typeof e,"object"==n&&null!=e||"function"==n)try{var r=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(i){r="<object could not be stringified>"}else r=void 0===e?"undefined":null===e?"null":typeof e;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,r)}return e},ya,t=function(e,t){this.P=e===za&&t||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(e){return e instanceof t&&e.constructor===t&&e.ca===Aa?e.P:(ua("expected object of type Const, got '"+e+"'"),"type_error:Const")},Aa={},za={},v=function(e,t){this.N=t===Ca?e:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(e){return e instanceof v&&e.constructor===v?e.N:(ua("expected object of type SafeUrl, got '"+e+"' of type "+ka(e)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(e){return e instanceof v?e:(e="object"==typeof e&&e.J?e.H():String(e),ta(Ea.test(e),"%s does not match the safe URL pattern",e)||(e="about:invalid#zClosurez"),new v(e,Ca))},Ca={},w=function(e,t,a){this.M=a===Ga?e:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(e){return e instanceof w&&e.constructor===w?e.M:(ua("expected object of type SafeHtml, got '"+e+"' of type "+ka(e)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(e){var t,a=!1;return function(){return a||(t=e(),a=!0),t}}((function(){if("undefined"===typeof document)return!1;var e=document.createElement("div"),t=document.createElement("div");return t.appendChild(document.createElement("div")),e.appendChild(t),!!e.firstChild&&(t=e.firstChild.firstChild,e.innerHTML=Ha(Ia),!t.parentElement)})),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(e,t,a){return e[t]=e[t]||a},Oa=function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1},Pa=function(e){e=e.sort();for(var t=[],a=void 0,o=0;o<e.length;o++){var n=e[o];n!=a&&t.push(n),a=n}return t},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(e){return String(e).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var e;if((e=Object.create)&&Na.test(e))e=e(null);else for(var t in e={},e)e[t]=void 0;return e},C=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Xa=function(e){if(Na.test(Object.keys))return Object.keys(e);var t,a=[];for(t in e)C(e,t)&&a.push(t);return a},D=function(e,t){for(var a in e=e||{},e)C(e,a)&&(t[a]=e[a])},Ya=function(e){return function(){x.setTimeout(e,0)}},E=function(e,t){if(!e)throw Error(t||"")},F=A(x,"gapi",{}),H=function(e,t,a){var o=new RegExp("([#].*&|[#])"+t+"=([^&#]*)","g");if(t=new RegExp("([?#].*&|[?#])"+t+"=([^&#]*)","g"),e=e&&(o.exec(e)||t.exec(e)))try{a=decodeURIComponent(e[2])}catch(n){}return a},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(e){e=String(e),e=e.replace($a,(function(e){try{return encodeURIComponent(e)}catch(t){return encodeURIComponent(e.replace(/^[^%]+$/g,"�"))}})).replace(ab,(function(e){return e.replace(/%/g,"%25")})).replace(bb,(function(e){return e.toUpperCase()})),e=e.match(Za)||[];var t=B(),a=function(e){return e.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},o=!!(e[1]||"").match(cb);return t.A=a((e[1]||"")+(e[2]||"")+(e[3]||(e[2]&&o?"/":""))),o=function(e){return a(e.replace(/\?/g,"%3F").replace(/#/g,"%23"))},t.query=e[5]?[o(e[5])]:[],t.g=e[7]?[o(e[7])]:[],t},db=function(e){return e.A+(0<e.query.length?"?"+e.query.join("&"):"")+(0<e.g.length?"#"+e.g.join("&"):"")},eb=function(e,t){var a=[];if(e)for(var o in e)if(C(e,o)&&null!=e[o]){var n=t?t(e[o]):e[o];a.push(encodeURIComponent(o)+"="+encodeURIComponent(n))}return a},fb=function(e,t,a,o){return e=I(e),e.query.push.apply(e.query,eb(t,o)),e.g.push.apply(e.g,eb(a,o)),db(e)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(e,a){var o=I(a);a=o.A,o.query.length&&(a+="?"+o.query.join("")),o.g.length&&(a+="#"+o.g.join(""));var n="";2e3<a.length&&(n=a,a=a.substr(0,2e3),a=a.replace(gb,""),n=n.substr(a.length));var r=e.createElement("div");if(e=e.createElement("a"),o=I(a),a=o.A,o.query.length&&(a+="?"+o.query.join("")),o.g.length&&(a+="#"+o.g.join("")),a=new v(a,Ca),xa(e,"HTMLAnchorElement"),a=a instanceof v?a:Fa(a),e.href=Da(a),r.appendChild(e),a=r.innerHTML,o=new t(za,"Assignment to self."),va(Ba(o),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(o)),"must provide non-empty justification"),void 0===ya&&(ya=qa("gapi#html")),a=(o=ya)?o.createHTML(a):a,a=new w(a,null,Ga),r.tagName&&Ja[r.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+r.tagName+".");if(Ka())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Ha(a),a=String(r.firstChild.href),r.parentNode&&r.parentNode.removeChild(r),o=I(a+n),n=o.A,o.query.length&&(n+="?"+o.query.join("")),o.g.length&&(n+="#"+o.g.join("")),n},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(e,t,a,o){x[a+"EventListener"]?x[a+"EventListener"](e,t,!1):x[o+"tachEvent"]&&x[o+"tachEvent"]("on"+e,t)},kb=function(){var e=z.readyState;return"complete"===e||"interactive"===e&&-1==navigator.userAgent.indexOf("MSIE")},nb=function(e){var t=lb;if(!kb())try{t()}catch(a){}mb(e)},mb=function(e){if(kb())e();else{var t=!1,a=function(){if(!t)return t=!0,e.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",a,!1),x.addEventListener("DOMContentLoaded",a,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",(function(){kb()&&a.apply(this,arguments)})),x.attachEvent("onload",a))}},ob=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(e){return K.dpo?K.h:H(e,"jsh",K.h)},rb=function(e){var t=A(K,"sws",[]);t.push.apply(t,e)},sb=function(e){return A(K,"watt",B())[e]},tb=function(e){var t=A(K,"PQ",[]);K.PQ=[];var a=t.length;if(0===a)e();else for(var o=0,n=function(){++o===a&&e()},r=0;r<a;r++)t[r](n)},ub=function(e){return A(A(K,"H",B()),e,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(e,t,a){var o=vb.r;"function"===typeof o?o(e,t,a):o.push([e,t,a])},L=function(e,t,a){wb[e]=!t&&wb[e]||a||(new Date).getTime(),yb(e)},Ab=function(e,t,a){t&&0<t.length&&(t=zb(t),a&&0<a.length&&(t+="___"+zb(a)),28<t.length&&(t=t.substr(0,28)+(t.length-28)),a=t,t=A(xb,"_p",B()),A(t,a,B())[e]=(new Date).getTime(),yb(e,"_p",a))},zb=function(e){return e.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(e){throw Error("Bad hint"+(e?": "+e:""))};N.push(["jsl",function(e){for(var t in e)if(C(e,t)){var a=e[t];"object"==typeof a?K[t]=A(K,t,[]).concat(a):A(K,t,a)}(t=e.u)&&(e=A(K,"us",[]),e.push(t),(t=/^https:(.*)$/.exec(t))&&e.push("http:"+t[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(e,t,a,o){var n=e.split(";"),r=n.shift(),i=Bb[r],s=null;return i?s=i(n,t,a,o):O("no hint processor for: "+r),s||O("failed to generate load url"),t=s,a=t.match(Hb),(o=t.match(Ib))&&1===o.length&&Jb.test(t)&&a&&1===a.length||O("failed sanity: "+e),s},Nb=function(e,t,a,o){e=Lb(e),Fb.test(a)||O("invalid_callback"),t=Mb(t),o=o&&o.length?Mb(o):null;var n=function(e){return encodeURIComponent(e).replace(/%2C/g,",")};return[encodeURIComponent(e.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",n(e.version),"/m=",n(t),o?"/exm="+n(o):"","/rt=j/sv=1/d=1/ed=1",e.S?"/am="+n(e.S):"",e.Z?"/rs="+n(e.Z):"",e.aa?"/t="+n(e.aa):"","/cb=",n(a)].join("")},Lb=function(e){"/"!==e.charAt(0)&&O("relative path");for(var t=e.substring(1).split("/"),a=[];t.length;){if(e=t.shift(),e.length&&0!=e.indexOf(".")){if(0<e.indexOf("=")){t.unshift(e);break}}else O("empty/relative directory");a.push(e)}e={};for(var o=0,n=t.length;o<n;++o){var r=t[o].split("="),i=decodeURIComponent(r[0]),s=decodeURIComponent(r[1]);2==r.length&&i&&s&&(e[i]=e[i]||s)}for(t="/"+a.join("/"),Cb.test(t)||O("invalid_prefix"),a=0,o=Db.length;a<o;++a)Db[a].test(t)&&O("invalid_prefix");return a=Ob(e,"k",!0),o=Ob(e,"am"),n=Ob(e,"rs"),e=Ob(e,"t"),{pathPrefix:t,version:a,S:o,Z:n,aa:e}},Mb=function(e){for(var t=[],a=0,o=e.length;a<o;++a){var n=e[a].replace(/\./g,"_").replace(/-/g,"_");Gb.test(n)&&t.push(n)}return t.join(",")},Ob=function(e,t,a){if(e=e[t],!e&&a&&O("missing: "+t),e){if(Eb.test(e))return e;O("invalid: "+t)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var e=qb(La.href);if(!e)throw Error("Bad hint");return e};Bb.m=function(e,t,a,o){return(e=e[0])||O("missing_hint"),"https://apis.google.com"+Nb(e,t,a,o)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(e,t){for(var a=[],o=0;o<e.length;++o){var n=e[o];n&&0>Oa.call(t,n)&&a.push(n)}return a},Tb=function(){var e=K.nonce;return void 0!==e?e&&e===String(e)&&e.match(Rb)?e:K.nonce=null:z.querySelector&&(e=z.querySelector("script[nonce]"))?(e=e.nonce||e.getAttribute("nonce")||"",e&&e===String(e)&&e.match(Rb)?K.nonce=e:K.nonce=null):null},Wb=function(e){if("loading"!=z.readyState)Ub(e);else{var t=Tb(),a="";null!==t&&(a=' nonce="'+t+'"'),e="<"+Qb+' src="'+encodeURI(e)+'"'+a+"></"+Qb+">",z.write(Vb?Vb.createHTML(e):e)}},Ub=function(e){var t=z.createElement(Qb);t.setAttribute("src",Vb?Vb.createScriptURL(e):e),e=Tb(),null!==e&&t.setAttribute("nonce",e),t.async="true",(e=z.getElementsByTagName(Qb)[0])?e.parentNode.insertBefore(t,e):(z.head||z.body||z.documentElement).appendChild(t)},Xb=function(e,t){var a=t&&t._c;if(a)for(var o=0;o<N.length;o++){var n=N[o][0],r=N[o][1];r&&C(a,n)&&r(a[n],e,t)}},Zb=function(e,t,a){Yb((function(){var a=t===qb(La.href)?A(F,"_",B()):B();a=A(ub(t),"_",a),e(a)}),a)},ac=function(e,t){var a=t||{};"function"==typeof t&&(a={},a.callback=t),Xb(e,a),t=e?e.split(":"):[];var o=a.h||Pb(),n=A(K,"ah",B());if(n["::"]&&t.length){e=[];for(var r=null;r=t.shift();){var i=r.split(".");i=n[r]||n[i[1]&&"ns:"+i[0]||""]||o;var s=e.length&&e[e.length-1]||null,l=s;s&&s.hint==i||(l={hint:i,V:[]},e.push(l)),l.V.push(r)}var c=e.length;if(1<c){var u=a.callback;u&&(a.callback=function(){0==--c&&u()})}for(;t=e.shift();)$b(t.V,a,t.hint)}else $b(t||[],a,o)},$b=function(e,t,a){e=Pa(e)||[];var o=t.callback,n=t.config,r=t.timeout,i=t.ontimeout,s=t.onerror,l=void 0;"function"==typeof s&&(l=s);var c=null,u=!1;if(r&&!i||!r&&i)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";s=A(ub(a),"r",[]).sort();var d=A(ub(a),"L",[]).sort(),p=[].concat(s),v=function(e,t){if(u)return 0;x.clearTimeout(c),d.push.apply(d,m);var o=((F||{}).config||{}).update;if(o?o(n):n&&A(K,"cu",[]).push(n),t){Ab("me0",e,p);try{Zb(t,a,l)}finally{Ab("me1",e,p)}}return 1};0<r&&(c=x.setTimeout((function(){u=!0,i()}),r));var m=Sb(e,d);if(m.length){m=Sb(e,s);var g=A(K,"CP",[]),f=g.length;if(g[f]=function(e){if(!e)return 0;Ab("ml1",m,p);var t=function(t){g[f]=null,v(m,e)&&tb((function(){o&&o(),t()}))},a=function(){var e=g[f+1];e&&e()};0<f&&g[f-1]?g[f]=function(){t(a)}:t(a)},m.length){var h="loaded_"+K.I++;F[h]=function(e){g[f](e),F[h]=null},e=Kb(a,m,"gapi."+h,s),s.push.apply(s,m),Ab("ml0",m,p),t.sync||x.___gapisync?Wb(e):Ub(e)}else g[f](Ma)}else v(m)&&o&&o()},Vb=qa("gapi#gapi"),Yb=function(e,t){if(K.hee&&0<K.hel)try{return e()}catch(a){t&&t(a),K.hel--,ac("debug_error",(function(){try{window.___jsl.hefn(a)}catch(e){throw a}}))}else try{return e()}catch(a){throw t&&t(a),a}};F.load=function(e,t){return Yb((function(){return ac(e,t)}))};var bc=function(e){var t=window.___jsl=window.___jsl||{};return t[e]=t[e]||[],t[e]},cc=function(e){var t=window.___jsl=window.___jsl||{};return t.cfg=!e&&t.cfg||{},t.cfg},dc=function(e){return"object"===typeof e&&/\[native code\]/.test(e.push)},P=function(e,t,a){if(t&&"object"===typeof t)for(var o in t)!Object.prototype.hasOwnProperty.call(t,o)||a&&"___goc"===o&&"undefined"===typeof t[o]||(e[o]&&t[o]&&"object"===typeof e[o]&&"object"===typeof t[o]&&!dc(e[o])&&!dc(t[o])?P(e[o],t[o]):t[o]&&"object"===typeof t[o]?(e[o]=dc(t[o])?[]:{},P(e[o],t[o])):e[o]=t[o])},ec=function(e){if(e&&!/^\s+$/.test(e)){for(;0==e.charCodeAt(e.length-1);)e=e.substring(0,e.length-1);try{var t=window.JSON.parse(e)}catch(a){}if("object"===typeof t)return t;try{t=new Function("return ("+e+"\n)")()}catch(a){}if("object"===typeof t)return t;try{t=new Function("return ({"+e+"\n})")()}catch(a){}return"object"===typeof t?t:{}}},fc=function(e,t){var a={___goc:void 0};e.length&&e[e.length-1]&&Object.hasOwnProperty.call(e[e.length-1],"___goc")&&"undefined"===typeof e[e.length-1].___goc&&(a=e.pop()),P(a,t),e.push(a)},gc=function(e){cc(!0);var t=window.___gcfg,a=bc("cu"),o=window.___gu;t&&t!==o&&(fc(a,t),window.___gu=t),t=bc("cu");var n=document.scripts||document.getElementsByTagName("script")||[];o=[];var r=[];r.push.apply(r,bc("us"));for(var i=0;i<n.length;++i)for(var s=n[i],l=0;l<r.length;++l)s.src&&0==s.src.indexOf(r[l])&&o.push(s);for(0==o.length&&0<n.length&&n[n.length-1].src&&o.push(n[n.length-1]),n=0;n<o.length;++n)o[n].getAttribute("gapi_processed")||(o[n].setAttribute("gapi_processed",!0),(r=o[n])?(i=r.nodeType,r=3==i||4==i?r.nodeValue:r.textContent||r.innerText||r.innerHTML||""):r=void 0,(r=ec(r))&&t.push(r));for(e&&fc(a,e),o=bc("cd"),e=0,t=o.length;e<t;++e)P(cc(),o[e],!0);for(o=bc("ci"),e=0,t=o.length;e<t;++e)P(cc(),o[e],!0);for(e=0,t=a.length;e<t;++e)P(cc(),a[e],!0)},Q=function(e){var t=cc();if(!e)return t;e=e.split("/");for(var a=0,o=e.length;t&&"object"===typeof t&&a<o;++a)t=t[e[a]];return a===e.length&&void 0!==t?t:void 0},hc=function(e,t){var a;if("string"===typeof e){var o=a={};e=e.split("/");for(var n=0,r=e.length;n<r-1;++n){var i={};o=o[e[n]]=i}o[e[n]]=t}else a=e;gc(a)},ic=function(){var e=window.__GOOGLEAPIS;e&&(e.googleapis&&!e["googleapis.config"]&&(e["googleapis.config"]=e.googleapis),A(K,"ci",[]).push(e),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var e=document.getElementsByTagName("meta"),t=0;t<e.length;++t){var a=e[t].name.toLowerCase();if(0==a.lastIndexOf("google-signin-",0)){a=a.substring(14);var o=e[t].content;jc[a]&&o&&(lc[a]=o)}}if(window.self!==window.top)for(var n in e=document.location.toString(),jc)0<jc[n]&&(t=H(e,n,""))&&(lc[n]=t);kc=!0}return n=B(),D(lc,n),n},nc=function(e){return!!(e.clientid&&e.scope&&e.callback)},oc=window.console,pc=function(e){oc&&oc.log&&oc.log(e)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(e){for(var t in R)e(R[t])},tc=function(e,t){(e=R[e])&&e.state<t&&(e.state=t)},uc,vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(e){var t=Q("googleapis.config/sessionIndex");if("string"===typeof t&&254<t.length&&(t=null),null==t&&(t=window.__X_GOOG_AUTHUSER),"string"===typeof t&&254<t.length&&(t=null),null==t){var a=window.google;a&&(t=a.authuser)}return"string"===typeof t&&254<t.length&&(t=null),null==t&&(e=e||window.location.href,t=H(e,"authuser")||null,null==t&&(t=(t=e.match(vc))?t[1]:null)),null==t?null:(t=String(t),254<t.length&&(t=null),t)},yc=function(e){var t=Q("googleapis.config/sessionDelegate");return"string"===typeof t&&21<t.length&&(t=null),null==t&&(t=(e=(e||window.location.href).match(wc))?e[1]:null),null==t?null:(t=String(t),21<t.length&&(t=null),t)},zc,S,T=void 0,U=function(e){try{return m.JSON.parse.call(m.JSON,e)}catch(t){return!1}},V=function(e){return Object.prototype.toString.call(e)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function(e,t){if(t)for(var a=0,o=t.length;a<o;++a)if(e===t[a])throw new TypeError("Converting circular structure to JSON");if(o=typeof e,"undefined"!==o){a=Array.prototype.slice.call(t||[],0),a[a.length]=e,t=[];var n=V(e);if(null!=e&&"function"===typeof e.toJSON&&(Object.prototype.hasOwnProperty.call(e,"toJSON")||(n!==Fc||e.constructor!==Array&&e.constructor!==Object)&&(n!==Ec||e.constructor!==Array&&e.constructor!==Object)&&n!==Dc&&n!==Ac&&n!==Cc&&n!==Bc))return W(e.toJSON.call(e),a);if(null==e)t[t.length]="null";else if(n===Ac)e=Number(e),isNaN(e)||isNaN(e-e)?e="null":-0===e&&0>1/e&&(e="-0"),t[t.length]=String(e);else if(n===Cc)t[t.length]=String(!!Number(e));else{if(n===Bc)return W(e.toISOString.call(e),a);if(n===Fc&&V(e.length)===Ac){t[t.length]="[";var r=0;for(o=Number(e.length)>>0;r<o;++r)r&&(t[t.length]=","),t[t.length]=W(e[r],a)||"null";t[t.length]="]"}else if(n==Dc&&V(e.length)===Ac){for(t[t.length]='"',r=0,a=Number(e.length)>>0;r<a;++r)o=String.prototype.charAt.call(e,r),n=String.prototype.charCodeAt.call(e,r),t[t.length]="\b"===o?"\\b":"\f"===o?"\\f":"\n"===o?"\\n":"\r"===o?"\\r":"\t"===o?"\\t":"\\"===o||'"'===o?"\\"+o:31>=n?"\\u"+(n+65536).toString(16).substr(1):32<=n&&65535>=n?o:"�";t[t.length]='"'}else{if("object"!==o)return;for(r in t[t.length]="{",o=0,e)Object.prototype.hasOwnProperty.call(e,r)&&(n=W(e[r],a),void 0!==n&&(o++&&(t[t.length]=","),t[t.length]=W(r),t[t.length]=":",t[t.length]=n));t[t.length]="}"}}return t.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b))return!1;if(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,"")))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval("(function (var_args) {\n  return Array.prototype.slice.call(arguments, 0);\n})(\n"+a+"\n)")}catch(c){return!1}return!(!b||1!==b.length)&&b[0]},Yc=function(){var e=((m.document||{}).scripts||[]).length;if((void 0===zc||void 0===T||S!==e)&&-1!==S){zc=T=!1,S=-1;try{try{T=!!m.JSON&&'{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'===m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})&&!0===U("true")&&3===U('[{"a":3}]')[0].a}catch(t){}zc=T&&!U("[00]")&&!U('""')&&!U('"\\0"')&&!U('"\\v"')}finally{S=e}}},Zc=function(e){return-1!==S&&(Yc(),(zc?U:Xc)(e))},$c=function(e){if(-1!==S)return Yc(),T?m.JSON.stringify.call(m.JSON,e):W(e)},ad=!Date.prototype.toISOString||"function"!==typeof Date.prototype.toISOString||"1970-01-01T00:00:00.000Z"!==new Date(0).toISOString(),bd=function(){var e=Date.prototype.getUTCFullYear.call(this);return[0>e?"-"+String(1e6-e).substr(1):9999>=e?String(1e4+e).substr(1):"+"+String(1e6+e).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var e=1;e<this.j;++e)this.C[e]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(e,t,a){a||(a=0);var o=e.da;if("string"===typeof t)for(var n=0;16>n;n++)o[n]=t.charCodeAt(a)<<24|t.charCodeAt(a+1)<<16|t.charCodeAt(a+2)<<8|t.charCodeAt(a+3),a+=4;else for(n=0;16>n;n++)o[n]=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3],a+=4;for(n=16;80>n;n++){var r=o[n-3]^o[n-8]^o[n-14]^o[n-16];o[n]=4294967295&(r<<1|r>>>31)}t=e.b[0],a=e.b[1];var i=e.b[2],s=e.b[3],l=e.b[4];for(n=0;80>n;n++){if(40>n)if(20>n){r=s^a&(i^s);var c=1518500249}else r=a^i^s,c=1859775393;else 60>n?(r=a&i|s&(a|i),c=2400959708):(r=a^i^s,c=3395469782);r=(t<<5|t>>>27)+r+l+c+o[n]&4294967295,l=s,s=i,i=4294967295&(a<<30|a>>>2),a=t,t=r}e.b[0]=e.b[0]+t&4294967295,e.b[1]=e.b[1]+a&4294967295,e.b[2]=e.b[2]+i&4294967295,e.b[3]=e.b[3]+s&4294967295,e.b[4]=e.b[4]+l&4294967295};dd.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var a=t-this.j,o=0,n=this.G,r=this.o;o<t;){if(0==r)for(;o<=a;)ed(this,e,o),o+=this.j;if("string"===typeof e){for(;o<t;)if(n[r]=e.charCodeAt(o),++r,++o,r==this.j){ed(this,n),r=0;break}}else for(;o<t;)if(n[r]=e[o],++r,++o,r==this.j){ed(this,n),r=0;break}}this.o=r,this.D+=t}},dd.prototype.digest=function(){var e=[],t=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var a=this.j-1;56<=a;a--)this.G[a]=255&t,t/=256;for(ed(this,this.G),a=t=0;5>a;a++)for(var o=24;0<=o;o-=8)e[t]=this.b[a]>>o&255,++t;return e};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function(e){e=e||x.event;var t=e.screenX+e.clientX<<16;t+=e.screenY+e.clientY,t*=(new Date).getTime()%1e6,kd=kd*t%ld,0<id&&++jd==id&&jb("mousemove",nd,"remove","de")},od=function(e){var t=new fd;e=unescape(encodeURIComponent(e));for(var a=[],o=0,n=e.length;o<n;++o)a.push(e.charCodeAt(o));for(t.O.update(a),t=t.O.digest(),e="",a=0;a<t.length;a++)e+="0123456789ABCDEF".charAt(Math.floor(t[a]/16))+"0123456789ABCDEF".charAt(t[a]%16);return e};hd=!!gd&&"function"==typeof gd.getRandomValues,hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+(new Date).getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,0!=id&&jb("mousemove",nd,"add","at"));var pd=function(){var e=kd;return e+=parseInt(md.substr(0,20),16),md=od(md),e/(ld+Math.pow(16,20))},qd=function(){var e=new x.Uint32Array(1);return gd.getRandomValues(e),Number("0."+e[0])},rd=function(){var e=K.onl;if(!e){e=B(),K.onl=e;var t=B();e.e=function(e){var a=t[e];a&&(delete t[e],a())},e.a=function(e,a){t[e]=a},e.r=function(e){delete t[e]}}return e},sd=function(e,t){return t=t.onload,"function"===typeof t?(rd().a(e,t),t):null},td=function(e){return E(/^\w+$/.test(e),"Unsupported id - "+e),rd(),'onload="window.___jsl.onl.e(&#34;'+e+'&#34;)"'},ud=function(e){rd().r(e)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(e){E(!e||ib.test(e),"Illegal url for new iframe - "+e)},zd=function(e,t,a,o,n){yd(a.src);var r,i=sd(o,a),s=i?td(o):"";try{document.all&&(r=e.createElement('<iframe frameborder="'+Wa(String(a.frameborder))+'" scrolling="'+Wa(String(a.scrolling))+'" '+s+' name="'+Wa(String(a.name))+'"/>'))}catch(c){}finally{r||(r=e.createElement("iframe"),i&&(r.onload=function(){r.onload=null,i.call(this)},ud(o)))}for(var l in r.setAttribute("ng-non-bindable",""),a)e=a[l],"style"===l&&"object"===typeof e?D(e,r.style):wd[l]||r.setAttribute(l,String(e));return(l=n&&n.beforeNode||null)||n&&n.dontclear||ob(t),t.insertBefore(r,l),r=l?l.previousSibling:t.lastChild,a.allowtransparency&&(r.allowTransparency=!0),r},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var e=xc()||"0",t=yc(),a=xc(void 0)||e,o=yc(void 0),n="";a&&(n+="u/"+encodeURIComponent(String(a))+"/"),o&&(n+="b/"+encodeURIComponent(String(o))+"/"),a=n||null,(n=(o=!1===Q("isLoggedIn"))?"_/im/":"")&&(a="");var r=Q("iframes/:socialhost:"),i=Q("iframes/:im_socialhost:");return uc={socialhost:r,ctx_socialhost:o?i:r,session_index:e,session_delegate:t,session_prefix:a,im_prefix:n}},Dd=function(e,t){return Cd()[t]||""},Ed=function(e){return function(t,a){return e?Cd()[a]||e[a]||"":Cd()[a]||""}},Fd=function(e){var t;return e.match(/^https?%3A/i)&&(t=decodeURIComponent(e)),hb(document,t||e)},Gd=function(e){e=e||"canonical";for(var t=document.getElementsByTagName("link"),a=0,o=t.length;a<o;a++){var n=t[a],r=n.getAttribute("rel");if(r&&r.toLowerCase()==e&&(n=n.getAttribute("href"))&&(n=Fd(n))&&null!=n.match(/^https?:\/\/[\w\-_\.]+/i))return n}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(e,t,a){var o,n={},r=o=e;for(var i in"plus"==e&&t.action&&(o=e+"_"+t.action,r=e+"/"+t.action),(o=Q("iframes/"+o+"/url"))||(o=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+r+"?usegapi=1"),Hd)n[i]=i+"/"+(t[i]||Hd[i])+"/";if(n=hb(z,o.replace(Bd,Ed(n))),i="iframes/"+e+"/params/",r={},D(t,r),(o=Q("lang")||Q("gwidget/lang"))&&(r.hl=o),Id[e]||(r.origin=window.location.origin||window.location.protocol+"//"+window.location.host),r.exp=Q(i+"exp"),i=Q(i+"location"))for(o=0;o<i.length;o++){var s=i[o];r[s]=x.location[s]}switch(e){case"plus":case"follow":i=r.href,o=t.action?void 0:"publisher",i=(i="string"==typeof i?i:void 0)?Fd(i):Gd(o),r.url=i,delete r.href;break;case"plusone":i=(i=t.href)?Fd(i):Gd(),r.url=i,i=t.db,o=Q(),null==i&&o&&(i=o.db,null==i&&(i=o.gwidget&&o.gwidget.db)),r.db=i||void 0,i=t.ecp,o=Q(),null==i&&o&&(i=o.ecp,null==i&&(i=o.gwidget&&o.gwidget.ecp)),r.ecp=i||void 0,delete r.href;break;case"signin":r.url=Gd()}for(var l in K.ILI&&(r.iloader="1"),delete r["data-onload"],delete r.rd,Hd)r[l]&&delete r[l];for(var c in r.gsrc=Q("iframes/:source:"),l=Q("inline/css"),"undefined"!==typeof l&&0<a&&l>=a&&(r.ic="1"),l=/^#|^fr-/,a={},r)C(r,c)&&l.test(c)&&(a[c.replace(l,"")]=r[c],delete r[c]);for(var u in c="q"==Q("iframes/"+e+"/params/si")?r:a,l=mc(),l)!C(l,u)||C(r,u)||C(a,u)||(c[u]=l[u]);for(var d in u=[].concat(Kd),(c=Q("iframes/"+e+"/methods"))&&"object"===typeof c&&Na.test(c.push)&&(u=u.concat(c)),t)C(t,d)&&/^on/.test(d)&&("plus"!=e||"onconnect"!=d)&&(u.push(d),delete r[d]);return delete r.callback,a._methods=u.join(","),fb(n,r,a)},Nd=["style","data-gapiscan"],Pd=function(e){for(var t=B(),a=0!=e.nodeName.toLowerCase().indexOf("g:"),o=0,n=e.attributes.length;o<n;o++){var r=e.attributes[o],i=r.name,s=r.value;0<=Oa.call(Nd,i)||a&&0!=i.indexOf("data-")||"null"===s||"specified"in r&&!r.specified||(a&&(i=i.substr(5)),t[i.toLowerCase()]=s)}return e=e.style,(a=Od(e&&e.height))&&(t.height=String(a)),(e=Od(e&&e.width))&&(t.width=String(e)),t},Od=function(e){var t=void 0;return"number"===typeof e?t=e:"string"===typeof e&&(t=parseInt(e,10)),t},Rd=function(){var e=K.drw;sc((function(t){if(e!==t.id&&4!=t.state&&"share"!=t.type){var a=t.id,o=t.type,n=t.url;t=t.userParams;var r=z.getElementById(a);if(r){var i=Md(o,t,0);i?(r=r.parentNode,n.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==i.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(t.dontclear=!0,t.rd=!0,t.ri=!0,t.type=o,Qd(r,t),(o=R[r.lastChild.id])&&(o.oid=a),tc(a,4))):delete R[a]}else delete R[a]}}))},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(e,t){Yd(void 0,!1,e,t)},Yd=function(e,t,a,o){L("ps0",!0),a=("string"===typeof a?document.getElementById(a):a)||z;var n=z.documentMode;if(a.querySelectorAll&&(!n||8<n)){n=o?[o]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var r=[],i=0;i<n.length;i++){var s=n[i];r.push(".g-"+s,"g\\:"+s)}n=a.querySelectorAll(r.join(","))}else n=a.getElementsByTagName("*");for(a=B(),r=0;r<n.length;r++){i=n[r];var l=i;s=o;var c=l.nodeName.toLowerCase(),u=void 0;if(l.getAttribute("data-gapiscan"))s=null;else{var d=c.indexOf("g:");0==d?u=c.substr(2):(d=(d=String(l.className||l.getAttribute("class")))&&Wd.exec(d))&&(u=d[1]),s=!u||!(Sd[u]||Td[u]||X[u])||s&&u!==s?null:u}s&&(Xd[s]||0==i.nodeName.toLowerCase().indexOf("g:")||0!=Xa(Pd(i)).length)&&(i.setAttribute("data-gapiscan",!0),A(a,s,[]).push(i))}if(t)for(var p in a)for(t=a[p],o=0;o<t.length;o++)t[o].setAttribute("data-onload",!0);for(var v in a)Ud.push(v);if(L("ps1",!0),(p=Ud.join(":"))||e)try{F.load(p,e)}catch(g){return void pc(g)}if($d(Vd||{}))for(var m in a){for(e=a[m],v=0,t=e.length;v<t;v++)e[v].removeAttribute("data-gapiscan");ae(m)}else{for(m in o=[],a)for(e=a[m],v=0,t=e.length;v<t;v++)n=e[v],be(m,n,Pd(n),o,t);ce(p,o)}},de=function(e){var t=A(F,e,{});t.go||(t.go=function(t){return Zd(t,e)},t.render=function(t,a){return a=a||{},a.type=e,Qd(t,a)})},ee=function(e){Sd[e]=!0},fe=function(e){Td[e]=!0},ge=function(e){X[e]=!0},ae=function(e,t){var a=sb(e);t&&a?(a(t),(a=t.iframeNode)&&a.setAttribute("data-gapiattached",!0)):F.load(e,(function(){var a=sb(e),o=t&&t.iframeNode,n=t&&t.userParams;o&&a?(a(t),o.setAttribute("data-gapiattached",!0)):(a=F[e].go,a("signin2"==e?o:o&&o.parentNode,n))}))},$d=function(){return!1},ce=function(){},be=function(e,t,a,o,n,r,i){switch(he(t,e,r)){case 0:e=X[e]?e+"_annotation":e,o={},o.iframeNode=t,o.userParams=a,ae(e,o);break;case 1:if(t.parentNode){for(var s in a)if((r=C(a,s))&&(r=a[s],r=!!r&&"object"===typeof r&&(!r.toString||r.toString===Object.prototype.toString||r.toString===Array.prototype.toString)),r)try{a[s]=$c(a[s])}catch(g){delete a[s]}if(r=!0,a.dontclear&&(r=!1),delete a.dontclear,rc(),s=Md(e,a,n),n=i||{},n.allowPost=1,n.attributes=Jd,n.dontclear=!r,i={},i.userParams=a,i.url=s,i.type=e,a.rd)var l=t;else l=document.createElement("div"),t.setAttribute("data-gapistub",!0),l.style.cssText="position:absolute;width:450px;left:-10000px;",t.parentNode.insertBefore(l,t);i.siteElement=l,l.id||(t=l,A(Ld,e,0),r="___"+e+"_"+Ld[e]++,t.id=r),t=B(),t[">type"]=e,D(a,t),r=s,a=l,s=n||{},t=s.attributes||{},E(!(s.allowPost||s.forcePost)||!t.onload,"onload is not supported by post iframe (allowPost or forcePost)"),n=t=r,Ad.test(t)&&(n=Q("iframes/"+n.substring(1)+"/url"),E(!!n,"Unknown iframe url config for - "+t)),r=hb(z,n.replace(Bd,Dd)),t=a.ownerDocument||z,l=0;do{n=s.id||["I",xd++,"_",(new Date).getTime()].join("")}while(t.getElementById(n)&&5>++l);E(5>l,"Error creating iframe id"),l={};var c={};t.documentMode&&9>t.documentMode&&(l.hostiemode=t.documentMode),D(s.queryParams||{},l),D(s.fragmentParams||{},c);var u=s.pfname,d=B();Q("iframes/dropLegacyIdParam")||(d.id=n),d._gfid=n,d.parent=t.location.protocol+"//"+t.location.host;var p=H(t.location.href,"parent");if(u=u||"",!u&&p&&(p=H(t.location.href,"_gfid","")||H(t.location.href,"id",""),u=H(t.location.href,"pfname",""),u=p?u+"/"+p:""),u||(p=Zc(H(t.location.href,"jcp","")))&&"object"==typeof p&&(u=(u=p.id)?p.pfname+"/"+u:""),d.pfname=u,s.connectWithJsonParam&&(p={},p.jcp=$c(d),d=p),p=H(r,"rpctoken")||l.rpctoken||c.rpctoken,p||(p=s.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),d.rpctoken=p),s.rpctoken=p,D(d,s.connectWithQueryParams?l:c),p=t.location.href,d=B(),(u=H(p,"_bsh",K.bsh))&&(d._bsh=u),(p=qb(p))&&(d.jsh=p),s.hintInFragment?D(d,c):D(d,l),r=fb(r,l,c,s.paramsSerializer),c=B(),D(vd,c),D(s.attributes,c),c.name=c.id=n,c.src=r,s.eurl=r,l=s||{},d=!!l.allowPost,l.forcePost||d&&2e3<r.length){if(l=I(r),c.src="",s.dropDataPostorigin||(c["data-postorigin"]=r),r=zd(t,a,c,n),-1!=navigator.userAgent.indexOf("WebKit")){var m=r.contentWindow.document;m.open(),c=m.createElement("div"),d={},p=n+"_inner",d.name=p,d.src="",d.style="display:none",zd(t,c,d,p,s)}for(c=(s=l.query[0])?s.split("&"):[],s=[],d=0;d<c.length;d++)p=c[d].split("=",2),s.push([decodeURIComponent(p[0]),decodeURIComponent(p[1])]);for(l.query=[],c=db(l),E(ib.test(c),"Invalid URL: "+c),l=t.createElement("form"),l.method="POST",l.target=n,l.style.display="none",n=c instanceof v?c:Fa(c),xa(l,"HTMLFormElement").action=Da(n),n=0;n<s.length;n++)c=t.createElement("input"),c.type="hidden",c.name=s[n][0],c.value=s[n][1],l.appendChild(c);a.appendChild(l),l.submit(),l.parentNode.removeChild(l),m&&m.close(),m=r}else m=zd(t,a,c,n,s);i.iframeNode=m,i.id=m.getAttribute("id"),m=i.id,a=B(),a.id=m,a.userParams=i.userParams,a.url=i.url,a.type=i.type,a.state=1,R[m]=a,m=i}else m=null;m&&((i=m.id)&&o.push(i),ae(e,m))}},he=function(e,t,a){if(e&&1===e.nodeType&&t){if(a)return 1;if(X[t]){if(pb[e.nodeName.toLowerCase()])return(e=e.innerHTML)&&e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[t])return 0;if(Sd[t])return 1}}return null},Qd=function(e,t){var a=t.type;delete t.type;var o=("string"===typeof e?document.getElementById(e):e)||void 0;if(o){for(var n in e={},t)C(t,n)&&(e[n.toLowerCase()]=t[n]);e.rd=1,(t=!!e.ri)&&delete e.ri,n=[],be(a,o,e,n,0,t,void 0),ce(a,n)}else pc("string"==="gapi."+a+".render: missing element "+typeof e?e:"")};A(F,"platform",{}).go=Zd,$d=function(e){for(var t=["_c","jsl","h"],a=0;a<t.length&&e;a++)e=e[t[a]];return t=qb(La.href),!e||0!=e.indexOf("n;")&&0!=t.indexOf("n;")&&e!==t},ce=function(e,t){ie(e,t)};var lb=function(e){Yd(e,!0)},je=function(e,t){t=t||[];for(var a=0;a<t.length;++a)e(t[a]);for(e=0;e<t.length;e++)de(t[e])};N.push(["platform",function(e,t,a){if(Vd=a,t&&Ud.push(t),je(ee,e),je(fe,a._c.annotation),je(ge,a._c.bimodal),ic(),gc(),"explicit"!=Q("parsetags")){if(rb(e),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),a&&(e=a.callback)){var o=Ya(e);delete a.callback}nb((function(){lb(o)}))}}]),F._pl=!0;var ke=function(e){if(e=(e=R[e])?e.oid:void 0,e){var t=z.getElementById(e);t&&t.parentNode.removeChild(t),delete R[e],ke(e)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(e,t){function a(){jb("message",o,"remove","de")}function o(o){var r=o.data,i=o.origin;if(oe(r,t)){var s=n;n=!1,s&&L("rqe"),pe(e,(function(){s&&L("rqd"),a();for(var e=A(K,"RPMQ",[]),t=0;t<e.length;t++)e[t]({data:r,origin:i})}))}}if(0!==t.length){ne=H(La.href,"pfname","");var n=!0;jb("message",o,"add","at"),ac(e,a)}},oe=function(e,t){if(e=String(e),le.test(e))return!0;var a=!1;if(me.test(e)&&(a=!0,e=e.substr(2)),!/^\{/.test(e))return!1;var o=Zc(e);if(!o)return!1;if(e=o.f,o.s&&e&&-1!=Oa.call(t,e)){if(("_renderstart"===o.s||o.s===ne+"/"+e+"::_renderstart")&&(o=o.a&&o.a[a?0:1],t=z.getElementById(e),tc(e,2),o&&t&&o.width&&o.height)){e:{if(a=t.parentNode,e=o||{},qc()){var n=t.id;if(n){if(o=(o=R[n])?o.state:void 0,1===o||4===o)break e;ke(n)}}(o=a.nextSibling)&&o.getAttribute&&o.getAttribute("data-gapistub")&&(a.parentNode.removeChild(o),a.style.cssText=""),o=e.width;var r=e.height,i=a.style;i.textIndent="0",i.margin="0",i.padding="0",i.background="transparent",i.borderStyle="none",i.cssFloat="none",i.styleFloat="none",i.lineHeight="normal",i.fontSize="1px",i.verticalAlign="baseline",a=a.style,a.display="inline-block",i=t.style,i.position="static",i.left="0",i.top="0",i.visibility="visible",o&&(a.width=i.width=o+"px"),r&&(a.height=i.height=r+"px"),e.verticalAlign&&(a.verticalAlign=e.verticalAlign),n&&tc(n,3)}t["data-csi-wdt"]=(new Date).getTime()}return!0}return!1},pe=function(e,t){ac(e,t)},qe=function(e,t){this.L=e,e=t||{},this.fa=Number(e.maxAge)||0,this.U=e.domain,this.X=e.path,this.ga=!!e.secure};qe.prototype.read=function(){for(var e=this.L+"=",t=document.cookie.split(/;\s*/),a=0;a<t.length;++a){var o=t[a];if(0==o.indexOf(e))return o.substr(e.length)}},qe.prototype.write=function(e,t){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(e))throw"Invalid cookie value";if(e=this.L+"="+e,this.U&&(e+=";domain="+this.U),this.X&&(e+=";path="+this.X),t="number"===typeof t?t:this.fa,0<=t){var a=new Date;a.setSeconds(a.getSeconds()+t),e+=";expires="+a.toUTCString()}return this.ga&&(e+=";secure"),document.cookie=e,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(e){for(var t=document.cookie.split(/;\s*/),a=0;a<t.length;++a){var o=t[a].split("="),n=o.shift();e(n,o.join("="))}};var te=function(e){this.B=e};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(e){return Y[this.B]=e,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(e){for(var t in Y)Y.hasOwnProperty(t)&&e(t,Y[t])};var ue="https:"===window.location.protocol,ve=ue||"http:"===window.location.protocol?qe:te,we=function(e){var t=e.substr(1),a="",o=window.location.hostname;if(""!==t){if(a=parseInt(t,10),isNaN(a))return null;if(t=o.split("."),t.length<a-1)return null;t.length==a-1&&(o="."+o)}else o="";return{i:"S"==e.charAt(0),domain:o,l:a}},xe=function(){var e,t=null;return ve.iterate((function(a,o){0===a.indexOf("G_AUTHUSER_")&&(a=we(a.substring(11)),!e||a.i&&!e.i||a.i==e.i&&a.l>e.l)&&(e=a,t=o)})),{ea:e,F:t}},ye=function(e){if(0!==e.indexOf("GCSC"))return null;var t={W:!1};if(e=e.substr(4),!e)return t;var a=e.charAt(0);e=e.substr(1);var o=e.lastIndexOf("_");if(-1==o)return t;var n=we(e.substr(o+1));return null==n?t:(e=e.substring(0,o),"_"!==e.charAt(0)?t:(o="E"===a&&n.i,!o&&("U"!==a||n.i)||o&&!ue?t:{W:!0,i:o,ja:e.substr(1),domain:n.domain,l:n.l}))},ze=function(e){return e?(e=e.split("="),e[1]?e[1].split("|"):[]):[]},Ae=function(e){return e=e.split(":"),{clientId:e[0].split("=")[1],ia:ze(e[1]),la:ze(e[2]),ka:ze(e[3])}},Be=function(){var e,t=xe(),a=t.ea;if((t=t.F,null!==t)&&(ve.iterate((function(t,o){(t=ye(t))&&t.W&&t.i==a.i&&t.l==a.l&&(e=o)})),e)){var o=Ae(e),n=o&&o.ia[Number(t)];if(o=o&&o.clientId,n)return{F:t,ha:n,clientId:o}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;for(var De=0;64>De;++De);var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var e=Be();(e=e&&e.F)&&hc("googleapis.config/sessionIndex",e),Ee||(Ee=A(K,"ss",new Z)),e=Ee,e.$&&e.$()};var Ce=function(){var e=Be(),t=e&&e.ha||null,a=e&&e.clientId;return ac("auth",{callback:function(){var e=x.gapi.auth,o={client_id:a,session_state:t};e.checkSessionState(o,(function(t){var a=o.session_state,n=Q("isLoggedIn");t=!Q("debug/forceIm")&&(a&&t||!a&&!t),(n=n!=t)&&(hc("isLoggedIn",t),rc(),Rd(),t||((t=e.signOut)?t():(t=e.setToken)&&t(null))),t=mc();var r=Q("savedUserState");a=e._guss(t.cookiepolicy),r=r!=a&&"undefined"!=typeof r,hc("savedUserState",a),(n||r)&&nc(t)&&!Q("disableRealtimeCallback")&&e._pimf(t,!0)}))}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}.call(void 0);var gapiComplete=gapi.load("",{callback:window["gapi_onload"],_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}})}).call(this,__webpack_require__("c8ba"))},"6bf6":function(e,t,a){"use strict";a("eefa")},"8a7f":function(e,t,a){},ac6c:function(e,t,a){"use strict";a("f8ac")},c2af:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"crm-seccion-container"},[t("div",{staticClass:"page-header"},[t("div",{staticClass:"header-content"},[t("h1",{staticClass:"page-title"},[e._v("\n        "+e._s(e.seccionActual?e.seccionActual.nombre:"Sección no encontrada")+"\n      ")])])]),e.cargando?t("div",{staticClass:"text-center"},[e._v("Cargando...")]):e.seccionActual?t("div",{staticClass:"main-content"},[e._e(),t("div",{staticClass:"view-selector-section"},[t("div",{staticClass:"view-tabs"},[t("button",{staticClass:"view-tab",class:{active:"table"===e.currentView},on:{click:function(t){e.currentView="table"}}},[t("i",{staticClass:"ti-list"}),e._v(" Tabla\n        ")]),e.calendarEnabled?t("button",{staticClass:"view-tab",class:{active:"calendar"===e.currentView},on:{click:function(t){e.currentView="calendar"}}},[t("i",{staticClass:"ti-calendar"}),e._v(" Calendario\n        ")]):e._e()])]),"table"===e.currentView?t("div",{staticClass:"filtros-section"},[t("div",{staticClass:"filtros-header-collapsible",on:{click:e.toggleFiltros}},[t("div",{staticClass:"filtros-title"},[t("i",{staticClass:"ti-filter"}),t("span",[e._v("Filtros Avanzados")]),e.filtrosActivos?t("span",{staticClass:"filtros-count"},[e._v("("+e._s(Object.keys(e.filtrosActivos).length)+" activos)")]):e._e()]),t("div",{staticClass:"filtros-toggle"},[t("i",{staticClass:"ti-angle-down",class:{rotated:e.filtrosAbiertos}})])]),e.filtrosAbiertos?t("div",{staticClass:"filtros-content-collapsible"},[e.seccionActual&&e.seccionActual.columnas?t("FiltrosDinamicos",{attrs:{"campos-disponibles":e.seccionActual.columnas,secciones:e.secciones},on:{"filtros-cambiados":e.aplicarFiltros}}):t("div",{staticClass:"text-center text-muted"},[t("p",[e._v("Cargando campos de filtros...")])])],1):e._e()]):e._e(),"table"===e.currentView?t("div",{staticClass:"table-section"},[t("div",{staticClass:"table-header"},[t("div",{staticClass:"header-left"},[t("h2",[e._v("Datos de "+e._s(e.seccionActual.nombre))]),t("span",{staticClass:"record-count"},[e._v("\n            "+e._s(e.pagination.totalItems||0)+" registros\n          ")])]),t("div",{staticClass:"header-right"},[t("button",{staticClass:"btn-add-header",on:{click:function(t){e.showAddModal=!0}}},[t("i",{staticClass:"ti-plus"}),e._v(" Agregar Registro\n          ")])])]),t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-striped table-hover"},[t("thead",[t("tr",[e._l(e.seccionActual.columnas,(function(a){return t("th",{key:a.nombre||a,staticClass:"text-capitalize"},[e._v("\n                "+e._s((a.nombre||a).charAt(0).toUpperCase()+(a.nombre||a).slice(1))+"\n              ")])})),t("th",{staticClass:"text-center"},[e._v("Acciones")])],2)]),t("tbody",[e.loading?t("tr",[t("td",{staticClass:"text-center",attrs:{colspan:e.seccionActual.columnas.length+1}},[t("i",{staticClass:"ti-reload",staticStyle:{animation:"spin 1s linear infinite"}}),e._v("\n                Cargando registros...\n              ")])]):e.registros&&0!==e.registros.length?e._e():t("tr",[t("td",{staticClass:"text-center text-muted",attrs:{colspan:e.seccionActual.columnas.length+1}},[Object.keys(e.filtrosActivos).length>0?t("div",[t("i",{staticClass:"ti-search",staticStyle:{"font-size":"2rem",color:"#ccc","margin-bottom":"10px"}}),t("p",[e._v("No se encontraron registros con los filtros aplicados.")]),t("button",{staticClass:"btn-clear-filters",on:{click:e.limpiarFiltros}},[t("i",{staticClass:"ti-close"}),e._v(" Limpiar Filtros\n                  ")])]):t("div",[t("i",{staticClass:"ti-database",staticStyle:{"font-size":"2rem",color:"#ccc","margin-bottom":"10px"}}),t("p",[e._v("No hay registros aún.")]),t("button",{staticClass:"btn-add",on:{click:function(t){e.showAddModal=!0}}},[t("i",{staticClass:"ti-plus"}),e._v(" Agregar primer registro\n                  ")])])])]),e._l(e.registros,(function(a,o){return t("tr",{key:a._id||o},[e._l(e.seccionActual.columnas,(function(n){return t("td",{key:n.nombre||n},[a._id&&e.filaEditando!==a._id?[e._v("\n                  "+e._s(a.valores[n.nombre])+"\n                ")]:["relacional"===n.tipo?[t("div",{staticClass:"search-select-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.valores[n.nombre],expression:"fila.valores[columna.nombre]"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Buscar en "+n.seccionRelacionada,autocomplete:"off"},domProps:{value:a.valores[n.nombre]},on:{input:[function(t){t.target.composing||e.$set(a.valores,n.nombre,t.target.value)},function(t){return e.filtrarOpciones(t,n,a,o)}],focus:function(t){return e.mostrarOpciones(n,a,o)}}}),e.opcionesVisibles[n.nombre+"_"+o]?t("div",{staticClass:"opciones-dropdown"},[e._l(e.opcionesFiltradas[n.nombre+"_"+o],(function(r){return t("div",{key:r,staticClass:"opcion-item",on:{mousedown:function(t){return t.preventDefault(),e.seleccionarOpcion(r,n.nombre,a,o)}}},[e._v("\n                          "+e._s(r)+"\n                        ")])})),0===e.opcionesFiltradas[n.nombre+"_"+o].length?t("div",{staticClass:"no-opciones"},[e._v("\n                          No se encontraron resultados\n                        ")]):e._e()],2):e._e()])]:"numero"===n.tipo?[t("input",{directives:[{name:"model",rawName:"v-model",value:a.valores[n.nombre],expression:"fila.valores[columna.nombre]"}],staticClass:"form-control form-control-sm",attrs:{type:"number",placeholder:"Ingrese "+n.nombre},domProps:{value:a.valores[n.nombre]},on:{input:function(t){t.target.composing||e.$set(a.valores,n.nombre,t.target.value)}}})]:"fecha"===n.tipo?[t("input",{directives:[{name:"model",rawName:"v-model",value:a.valores[n.nombre],expression:"fila.valores[columna.nombre]"}],staticClass:"form-control form-control-sm",attrs:{type:"date",placeholder:"Ingrese "+n.nombre},domProps:{value:a.valores[n.nombre]},on:{input:function(t){t.target.composing||e.$set(a.valores,n.nombre,t.target.value)}}})]:"select"===n.tipo?[t("select",{directives:[{name:"model",rawName:"v-model",value:a.valores[n.nombre],expression:"fila.valores[columna.nombre]"}],staticClass:"form-control form-control-sm",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a.valores,n.nombre,t.target.multiple?o:o[0])}}},[t("option",{attrs:{value:""}},[e._v("Selecciona una opción")]),e._l(n.opciones,(function(a){return t("option",{key:a,domProps:{value:a}},[e._v("\n                        "+e._s(a)+"\n                      ")])}))],2)]:"archivo"===n.tipo?[t("div",{staticClass:"file-upload-container"},[t("FileUpload",{key:`file-upload-${a._id||o}-${n.nombre}`,attrs:{"case-id":e.seccionActual._id||e.seccionActual.id,"case-name":e.seccionActual.nombre},on:{"files-uploaded":e.onFilesUploaded},model:{value:a.valores[n.nombre],callback:function(t){e.$set(a.valores,n.nombre,t)},expression:"fila.valores[columna.nombre]"}})],1)]:[t("input",{directives:[{name:"model",rawName:"v-model",value:a.valores[n.nombre],expression:"fila.valores[columna.nombre]"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Ingrese "+n.nombre},domProps:{value:a.valores[n.nombre]},on:{input:function(t){t.target.composing||e.$set(a.valores,n.nombre,t.target.value)}}})]]],2)})),t("td",{staticClass:"text-center"},[t("button",{staticClass:"btn-delete",attrs:{title:"Eliminar fila"},on:{click:function(t){return e.eliminarFila(o)}}},[t("i",{staticClass:"ti-trash"})]),a._id?[e.filaEditando!==a._id?t("button",{staticClass:"btn-edit ml-2",attrs:{title:"Editar"},on:{click:function(t){e.filaEditando=a._id}}},[t("i",{staticClass:"ti-pencil"})]):e._e(),e.filaEditando===a._id?t("button",{staticClass:"btn-add",attrs:{title:"Guardar cambios"},on:{click:function(t){e.guardarFilaEditada(a,o),e.filaEditando=null}}},[t("i",{staticClass:"ti-save"})]):e._e(),e.filaEditando===a._id?t("button",{staticClass:"btn-edit",attrs:{title:"Cancelar"},on:{click:function(t){e.revertirFila(a,o),e.filaEditando=null}}},[t("i",{staticClass:"ti-close"})]):e._e()]:[t("button",{staticClass:"btn-add",attrs:{title:"Guardar"},on:{click:function(t){return e.guardarFilaEditada(a,o)}}},[t("i",{staticClass:"ti-save"})])]],2)],2)}))],2)])]),e.pagination&&e.pagination.totalPages>1?t("div",{staticClass:"paginacion-controls"},[t("div",{staticClass:"pagination-info"},[t("span",[e._v("\n            Mostrando "+e._s(e.pagination.currentPage*e.pagination.itemsPerPage-e.pagination.itemsPerPage+1)+" \n            a "+e._s(Math.min(e.pagination.currentPage*e.pagination.itemsPerPage,e.pagination.totalItems))+" \n            de "+e._s(e.pagination.totalItems)+" registros\n          ")])]),t("div",{staticClass:"pagination-buttons"},[t("button",{staticClass:"btn-pagination",attrs:{disabled:!e.pagination.hasPrevPage},on:{click:function(t){return e.cambiarPagina(e.pagination.prevPage)}}},[t("i",{staticClass:"ti-angle-left"}),e._v(" Anterior\n          ")]),t("span",{staticClass:"page-info"},[e._v("\n            Página "+e._s(e.pagination.currentPage)+" de "+e._s(e.pagination.totalPages)+"\n          ")]),t("button",{staticClass:"btn-pagination",attrs:{disabled:!e.pagination.hasNextPage},on:{click:function(t){return e.cambiarPagina(e.pagination.nextPage)}}},[e._v("\n            Siguiente "),t("i",{staticClass:"ti-angle-right"})])])]):e._e()]):e._e(),"calendar"===e.currentView?t("div",{staticClass:"calendar-section"},[e.calendarConfigs.length>1?t("div",{staticClass:"calendar-selector"},[t("h6",[e._v("Calendarios de "+e._s(e.seccionActual.nombre)+":")]),t("div",{staticClass:"calendar-tabs"},e._l(e.calendarConfigs,(function(a){return t("button",{key:a._id,staticClass:"calendar-tab",class:{active:e.selectedCalendar&&e.selectedCalendar._id===a._id},on:{click:function(t){return e.selectCalendar(a)}}},[t("span",{staticClass:"calendar-color",style:{backgroundColor:a.defaultColor}}),e._v("\n            "+e._s(a.title)+"\n            "),a.enabled?e._e():t("span",{staticClass:"disabled-badge"},[e._v("Deshabilitado")])])})),0)]):e._e(),t("div",{staticClass:"table-header"},[t("h2",[e._v(e._s(e.calendarTitle||"Calendario"))]),t("div",{staticClass:"calendar-controls"},[t("span",{staticClass:"record-count"},[e._v(e._s(e.calendarEvents.length)+" eventos")]),t("button",{staticClass:"btn-config",on:{click:function(t){e.showCalendarSettings=!0}}},[t("i",{staticClass:"ti-settings"}),e._v(" Configurar Calendario\n          ")])])]),t("div",{staticClass:"debug-info"},[t("h6",[e._v("Estado del Calendario:")]),t("p",[e._v("✅ Calendario habilitado: "+e._s(e.calendarEnabled))]),t("p",[e._v("📅 Campo de fecha: "+e._s(e.dateFieldName||"No configurado"))]),t("p",[e._v("📝 Campo de título: "+e._s(e.titleFieldName||"No configurado"))]),t("p",[e._v("📊 Eventos disponibles: "+e._s(e.calendarEvents.length))]),t("p",[e._v("👁️ Vista actual: "+e._s(e.currentView))]),t("button",{staticClass:"btn-test",on:{click:function(t){e.currentView="calendar"}}},[e._v("\n          🔄 Forzar Vista Calendario\n        ")])]),e.calendarEnabled&&e.dateFieldName&&e.titleFieldName?t("CalendarView",{key:"calendar-"+(e.seccionActual?e.seccionActual._id||e.seccionActual.id:"no-section"),attrs:{events:e.calendarEvents,"date-field":e.dateFieldName,"title-field":e.titleFieldName,"available-fields":{},columns:e.seccionActual.columnas,loading:e.calendarLoading},on:{"add-event":e.addCalendarEvent,"update-event":e.updateCalendarEvent,"delete-event":e.deleteCalendarEvent,"month-changed":e.loadCalendarData}}):e._e(),e.calendarEnabled&&e.dateFieldName&&e.titleFieldName&&0===e.calendarEvents.length?t("div",{staticClass:"no-events"},[t("i",{staticClass:"ti-calendar",staticStyle:{"font-size":"3rem",color:"#ccc","margin-bottom":"15px"}}),t("h6",[e._v("No hay eventos en el calendario")]),t("p",[e._v("Agrega algunos registros con fechas para verlos en el calendario.")])]):e._e()],1):e._e()]):t("div",{staticClass:"main-content"},[t("div",{staticClass:"table-section"},[t("div",{staticClass:"text-center"},[t("i",{staticClass:"ti-alert",staticStyle:{"font-size":"4rem",color:"#dc3545","margin-bottom":"20px"}}),t("h3",[e._v("Sección no encontrada")]),t("p",[e._v("La sección que buscas no existe o ha sido eliminada.")]),t("button",{staticClass:"btn-add",on:{click:function(t){return e.$router.push("/crm-dinamico")}}},[t("i",{staticClass:"ti-arrow-left"}),e._v(" Volver al CRM\n        ")])])])]),t("b-modal",{attrs:{title:"Confirmar acción","hide-footer":""},model:{value:e.showClearModal,callback:function(t){e.showClearModal=t},expression:"showClearModal"}},[t("div",{staticClass:"text-center"},[t("p",[e._v("¿Estás seguro de que quieres eliminar todos los datos de la sección "),t("strong",[e._v(e._s(e.seccionActual?e.seccionActual.nombre:""))]),e._v("?")]),t("p",{staticClass:"text-danger"},[e._v("Esta acción no se puede deshacer.")]),t("div",{staticClass:"mt-3"},[t("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:e.confirmarLimpiarSeccion}},[e._v("Eliminar Todo")]),t("b-button",{attrs:{variant:"secondary"},on:{click:function(t){e.showClearModal=!1}}},[e._v("Cancelar")])],1)])]),t("b-modal",{attrs:{title:"Configuración del Calendario",size:"lg","hide-footer":""},model:{value:e.showCalendarSettings,callback:function(t){e.showCalendarSettings=t},expression:"showCalendarSettings"}},[t("div",{staticClass:"calendar-settings"},[t("div",{staticClass:"setting-section"},[t("h5",[e._v("Seleccionar Calendario")]),t("p",[e._v("Elige un calendario existente o crea uno nuevo:")]),t("div",{staticClass:"calendar-selection"},[t("div",{staticClass:"calendar-options"},[e._l(e.calendarConfigs,(function(a){return t("div",{key:a._id,staticClass:"calendar-option",class:{active:e.selectedCalendar&&e.selectedCalendar._id===a._id},on:{click:function(t){return e.selectCalendarFromModal(a)}}},[t("div",{staticClass:"option-header"},[t("span",{staticClass:"option-color",style:{backgroundColor:a.defaultColor}}),t("span",{staticClass:"option-title"},[e._v(e._s(a.title))]),a.enabled?e._e():t("span",{staticClass:"option-status"},[e._v("Deshabilitado")])]),t("div",{staticClass:"option-details"},[t("small",[e._v(e._s(a.dateField)+" → "+e._s(a.titleField))])])])})),t("div",{staticClass:"calendar-option new-option",on:{click:e.createNewCalendar}},[t("div",{staticClass:"option-header"},[t("span",{staticClass:"option-icon"},[e._v("+")]),t("span",{staticClass:"option-title"},[e._v("Crear Nuevo Calendario")])]),t("div",{staticClass:"option-details"},[t("small",[e._v("Configurar desde cero")])])])],2)])]),e.selectedCalendar||e.calendarEnabled?t("div",{staticClass:"setting-section"},[t("h5",[e._v(e._s(e.selectedCalendar?"Configurar: "+e.selectedCalendar.title:"Nuevo Calendario"))]),t("p",[e._v("Configura los campos y opciones del calendario:")]),t("div",{staticClass:"form-group"},[t("label",{staticClass:"checkbox-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.calendarEnabled,expression:"calendarEnabled"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.calendarEnabled)?e._i(e.calendarEnabled,null)>-1:e.calendarEnabled},on:{change:[function(t){var a=e.calendarEnabled,o=t.target,n=!!o.checked;if(Array.isArray(a)){var r=null,i=e._i(a,r);o.checked?i<0&&(e.calendarEnabled=a.concat([r])):i>-1&&(e.calendarEnabled=a.slice(0,i).concat(a.slice(i+1)))}else e.calendarEnabled=n},e.toggleCalendar]}}),t("span",{staticClass:"checkmark"}),e._v("\n            Habilitar calendario para esta sección\n          ")])])]):e._e(),e.calendarEnabled?t("div",{staticClass:"setting-section"},[t("h6",[e._v("Configuración de Campos")]),t("div",{staticClass:"form-group"},[t("label",[e._v("Título del calendario:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.calendarTitle,expression:"calendarTitle"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ej: Calendario de Citas, Eventos del Mes...",disabled:!e.calendarEnabled},domProps:{value:e.calendarTitle},on:{input:[function(t){t.target.composing||(e.calendarTitle=t.target.value)},e.onTitleChange]}}),t("small",{staticClass:"text-muted"},[e._v('Valor actual: "'+e._s(e.calendarTitle)+'"')])]),t("div",{staticClass:"form-group"},[t("label",[e._v("Campo de fecha:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.dateFieldName,expression:"dateFieldName"}],staticClass:"form-control",attrs:{disabled:!e.calendarEnabled},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.dateFieldName=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v("Selecciona un campo de fecha")]),e._l(e.dateFields,(function(a){return t("option",{key:a.nombre,domProps:{value:a.nombre}},[e._v("\n              "+e._s(a.nombre)+"\n            ")])}))],2)]),t("div",{staticClass:"form-group"},[t("label",[e._v("Campo de título:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.titleFieldName,expression:"titleFieldName"}],staticClass:"form-control",attrs:{disabled:!e.calendarEnabled},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.titleFieldName=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:""}},[e._v("Selecciona un campo para el título")]),e._l(e.textFields,(function(a){return t("option",{key:a.nombre,domProps:{value:a.nombre}},[e._v("\n              "+e._s(a.nombre)+"\n            ")])}))],2)]),t("div",{staticClass:"form-group"},[t("label",[e._v("Campos para mostrar en el calendario:")]),t("div",{staticClass:"fields-checkboxes"},[0===e.availableFieldsForCalendar.length?t("div",{staticClass:"no-fields"},[t("p",[e._v("No hay campos adicionales disponibles para mostrar.")])]):e._l(e.availableFieldsForCalendar,(function(a){return t("div",{key:a,staticClass:"field-checkbox"},[t("label",{staticClass:"checkbox-label"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedDisplayFields,expression:"selectedDisplayFields"}],attrs:{type:"checkbox",disabled:!e.calendarEnabled},domProps:{value:a,checked:Array.isArray(e.selectedDisplayFields)?e._i(e.selectedDisplayFields,a)>-1:e.selectedDisplayFields},on:{change:function(t){var o=e.selectedDisplayFields,n=t.target,r=!!n.checked;if(Array.isArray(o)){var i=a,s=e._i(o,i);n.checked?s<0&&(e.selectedDisplayFields=o.concat([i])):s>-1&&(e.selectedDisplayFields=o.slice(0,s).concat(o.slice(s+1)))}else e.selectedDisplayFields=r}}}),t("span",{staticClass:"checkmark"}),e._v("\n                  "+e._s(a)+"\n                ")])])}))],2)]),t("div",{staticClass:"form-group"},[t("label",[e._v("Color por defecto:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.defaultEventColor,expression:"defaultEventColor"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.defaultEventColor=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:"#007bff"}},[e._v("Azul")]),t("option",{attrs:{value:"#28a745"}},[e._v("Verde")]),t("option",{attrs:{value:"#ffc107"}},[e._v("Amarillo")]),t("option",{attrs:{value:"#dc3545"}},[e._v("Rojo")]),t("option",{attrs:{value:"#6f42c1"}},[e._v("Púrpura")]),t("option",{attrs:{value:"#fd7e14"}},[e._v("Naranja")])])])]):e._e(),t("div",{staticClass:"setting-actions"},[t("div",{staticClass:"config-status"},[e.calendarEnabled&&e.dateFieldName&&e.titleFieldName?t("span",{staticClass:"status-ok"},[t("i",{staticClass:"ti-check"}),e._v(" Configuración válida\n            ")]):e.calendarEnabled?t("span",{staticClass:"status-warning"},[t("i",{staticClass:"ti-alert"}),e._v(" Campos requeridos incompletos\n            ")]):t("span",{staticClass:"status-disabled"},[t("i",{staticClass:"ti-close"}),e._v(" Calendario deshabilitado\n            ")])]),t("div",{staticClass:"action-buttons"},[t("button",{staticClass:"btn-save",on:{click:e.saveCalendarSettings}},[t("i",{staticClass:"ti-save"}),e._v(" Guardar en Servidor\n            ")]),t("button",{staticClass:"btn-cancel",on:{click:function(t){e.showCalendarSettings=!1}}},[t("i",{staticClass:"ti-close"}),e._v(" Cancelar\n            ")])])])])]),t("b-modal",{attrs:{title:"Configuración de Campos",size:"lg","hide-footer":""},on:{hidden:e.limpiarFormularioCampo},model:{value:e.showFieldsModal,callback:function(t){e.showFieldsModal=t},expression:"showFieldsModal"}},[t("div",{staticClass:"fields-modal-content"},[t("div",{staticClass:"new-field-section"},[t("h5",{staticClass:"section-title"},[t("i",{staticClass:"ti-plus"}),e._v(" Agregar Nuevo Campo\n        ")]),t("div",{staticClass:"field-form-modal"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Nombre del campo")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nuevoCampo.nombre,expression:"nuevoCampo.nombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ej: nombre, email, teléfono..."},domProps:{value:e.nuevoCampo.nombre},on:{input:function(t){t.target.composing||e.$set(e.nuevoCampo,"nombre",t.target.value)}}})])]),t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Tipo de campo")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.nuevoCampo.tipo,expression:"nuevoCampo.tipo"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.nuevoCampo,"tipo",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"texto"}},[e._v("Texto")]),t("option",{attrs:{value:"numero"}},[e._v("Número")]),t("option",{attrs:{value:"fecha"}},[e._v("Fecha")]),t("option",{attrs:{value:"select"}},[e._v("Select")]),t("option",{attrs:{value:"relacional"}},[e._v("Relacional")]),t("option",{attrs:{value:"archivo"}},[e._v("Archivo (Google Drive)")])])])]),"relacional"===e.nuevoCampo.tipo?t("div",{staticClass:"col-md-3"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Sección relacionada")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.nuevoCampo.seccionRelacionada,expression:"nuevoCampo.seccionRelacionada"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.nuevoCampo,"seccionRelacionada",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Selecciona una sección")]),e._l(e.otrasSecciones,(function(a){return t("option",{key:a.nombre,domProps:{value:a.nombre}},[e._v("\n                    "+e._s(a.nombre)+"\n                  ")])}))],2)])]):e._e(),"relacional"===e.nuevoCampo.tipo?t("div",{staticClass:"col-md-2"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Campo a mostrar")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.nuevoCampo.campoMostrar,expression:"nuevoCampo.campoMostrar"}],staticClass:"form-control",attrs:{disabled:!e.nuevoCampo.seccionRelacionada},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.nuevoCampo,"campoMostrar",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Selecciona campo")]),e._l(e.camposSeccionRelacionada,(function(a){return t("option",{key:a,domProps:{value:a}},[e._v("\n                    "+e._s(a)+"\n                  ")])}))],2)])]):e._e(),"select"===e.nuevoCampo.tipo?t("div",{staticClass:"col-md-5"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Opciones del select (separadas por comas)")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.nuevoCampo.opcionesSelect,expression:"nuevoCampo.opcionesSelect"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ej: Opción 1, Opción 2, Opción 3"},domProps:{value:e.nuevoCampo.opcionesSelect},on:{input:function(t){t.target.composing||e.$set(e.nuevoCampo,"opcionesSelect",t.target.value)}}}),t("small",{staticClass:"text-muted"},[e._v("Ingresa las opciones separadas por comas")])])]):e._e()]),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-12"},[t("button",{staticClass:"btn-add text-center",staticStyle:{width:"100%","justify-content":"center"},attrs:{disabled:!e.puedeAgregarCampo},on:{click:e.agregarCampo}},[t("i",{staticClass:"ti-plus"}),e._v(" Agregar Campo\n              ")]),t("button",{staticClass:"btn-secondary ml-2 mt-3",on:{click:e.limpiarFormularioCampo}},[t("i",{staticClass:"ti-refresh"}),e._v(" Limpiar\n              ")])])])])]),e.seccionActual&&e.seccionActual.columnas.length>0?t("div",{staticClass:"existing-fields-section"},[t("h5",{staticClass:"section-title"},[t("i",{staticClass:"ti-list"}),e._v(" Campos Existentes ("+e._s(e.seccionActual.columnas.length)+")\n        ")]),e.mensajeExitoCampo?t("div",{staticClass:"alert alert-success",staticStyle:{"margin-bottom":"16px"}},[e._v("\n          "+e._s(e.mensajeExitoCampo)+"\n        ")]):e._e(),t("div",{staticClass:"fields-accordion"},e._l(e.seccionActual.columnas,(function(a,o){return t("div",{key:o,staticClass:"accordion-item"},[t("button",{staticClass:"accordion-header",on:{click:function(t){e.campoAcordeonAbierto=e.campoAcordeonAbierto===o?null:o}}},[t("span",[e._v("\n                "+e._s((a.nombre||a).charAt(0).toUpperCase()+(a.nombre||a).slice(1))+"\n              ")]),t("span",{staticClass:"field-type-badge",class:e.getTipoClase(a)},[e._v("\n                "+e._s(e.getTipoTexto(a))+"\n              ")]),t("span",{staticClass:"accordion-arrow",class:{open:e.campoAcordeonAbierto===o}},[e._v("▼")])]),e.campoAcordeonAbierto===o?t("div",{staticClass:"accordion-body"},[t("div",{staticClass:"field-details"},[t("div",{staticClass:"field-info-grid"},[t("div",{staticClass:"field-info-item"},[t("label",[e._v("Nombre:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.seccionActual.columnas[o].nombre,expression:"seccionActual.columnas[index].nombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre del campo"},domProps:{value:e.seccionActual.columnas[o].nombre},on:{input:function(t){t.target.composing||e.$set(e.seccionActual.columnas[o],"nombre",t.target.value)}}})]),t("div",{staticClass:"field-info-item"},[t("label",[e._v("Tipo:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.seccionActual.columnas[o].tipo,expression:"seccionActual.columnas[index].tipo"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.seccionActual.columnas[o],"tipo",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"texto"}},[e._v("Texto")]),t("option",{attrs:{value:"numero"}},[e._v("Número")]),t("option",{attrs:{value:"fecha"}},[e._v("Fecha")]),t("option",{attrs:{value:"select"}},[e._v("Select")]),t("option",{attrs:{value:"relacional"}},[e._v("Relacional")]),t("option",{attrs:{value:"archivo"}},[e._v("Archivo (Google Drive)")])])]),"relacional"===e.seccionActual.columnas[o].tipo?t("div",{staticClass:"field-info-item"},[t("label",[e._v("Sección relacionada:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.seccionActual.columnas[o].seccionRelacionada,expression:"seccionActual.columnas[index].seccionRelacionada"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.seccionActual.columnas[o],"seccionRelacionada",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Selecciona una sección")]),e._l(e.otrasSecciones,(function(a){return t("option",{key:a.nombre,domProps:{value:a.nombre}},[e._v("\n                        "+e._s(a.nombre)+"\n                      ")])}))],2)]):e._e(),"relacional"===e.seccionActual.columnas[o].tipo?t("div",{staticClass:"field-info-item"},[t("label",[e._v("Campo a mostrar:")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.seccionActual.columnas[o].campoMostrar,expression:"seccionActual.columnas[index].campoMostrar"}],staticClass:"form-control",attrs:{disabled:!e.seccionActual.columnas[o].seccionRelacionada},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.seccionActual.columnas[o],"campoMostrar",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:""}},[e._v("Selecciona campo")]),e._l(e.camposSeccionRelacionada,(function(a){return t("option",{key:a,domProps:{value:a}},[e._v("\n                        "+e._s(a)+"\n                      ")])}))],2)]):e._e(),"select"===e.seccionActual.columnas[o].tipo?t("div",{staticClass:"field-info-item"},[t("label",[e._v("Opciones del select:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.seccionActual.columnas[o].opcionesString,expression:"seccionActual.columnas[index].opcionesString"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Opciones separadas por comas"},domProps:{value:e.seccionActual.columnas[o].opcionesString},on:{input:[function(t){t.target.composing||e.$set(e.seccionActual.columnas[o],"opcionesString",t.target.value)},function(t){return e.actualizarOpcionesSelect(o)}]}}),t("small",{staticClass:"text-muted"},[e._v("Opciones actuales: "+e._s(e.seccionActual.columnas[o].opciones?e.seccionActual.columnas[o].opciones.join(", "):"Ninguna"))])]):e._e()]),t("div",{staticClass:"field-actions"},[t("button",{staticClass:"btn-add",on:{click:function(t){return e.guardarCambiosCampo(o)}}},[t("i",{staticClass:"ti-save"}),e._v(" Guardar Cambios\n                  ")]),t("button",{staticClass:"btn-delete-sm",attrs:{title:"Eliminar campo"},on:{click:function(t){return e.eliminarCampo(o)}}},[t("i",{staticClass:"ti-trash"}),e._v(" Eliminar Campo\n                  ")])])])]):e._e()])})),0)]):t("div",{staticClass:"empty-fields-state"},[t("div",{staticClass:"text-center"},[t("i",{staticClass:"ti-folder",staticStyle:{"font-size":"3rem",color:"#ccc","margin-bottom":"15px"}}),t("h6",[e._v("No hay campos definidos")]),t("p",[e._v("Agrega campos para comenzar a gestionar datos en esta sección.")])])])])]),t("b-modal",{attrs:{title:"Agregar Nuevo Registro",size:"lg","hide-footer":""},model:{value:e.showAddModal,callback:function(t){e.showAddModal=t},expression:"showAddModal"}},[t("div",{staticClass:"add-record-modal"},[e._l(e.seccionActual.columnas,(function(a){return t("div",{key:a.nombre,staticClass:"form-group"},[t("label",{staticClass:"form-label",attrs:{for:"modal-"+a.nombre}},[e._v("\n          "+e._s(a.nombre.charAt(0).toUpperCase()+a.nombre.slice(1))+"\n        ")]),"texto"===a.tipo||"email"===a.tipo?t("input",{directives:[{name:"model",rawName:"v-model",value:e.nuevaFila.valores[a.nombre],expression:"nuevaFila.valores[columna.nombre]"}],staticClass:"form-control",attrs:{id:"modal-"+a.nombre,type:"text",placeholder:"Ingrese "+a.nombre},domProps:{value:e.nuevaFila.valores[a.nombre]},on:{input:function(t){t.target.composing||e.$set(e.nuevaFila.valores,a.nombre,t.target.value)}}}):"relacional"===a.tipo?t("div",{staticClass:"search-select-container"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.nuevaFila.valores[a.nombre],expression:"nuevaFila.valores[columna.nombre]"}],staticClass:"form-control",attrs:{id:"modal-"+a.nombre,type:"text",placeholder:"Buscar en "+a.seccionRelacionada,autocomplete:"off"},domProps:{value:e.nuevaFila.valores[a.nombre]},on:{input:[function(t){t.target.composing||e.$set(e.nuevaFila.valores,a.nombre,t.target.value)},function(t){return e.filtrarOpcionesNuevaFila(t,a)}],focus:function(t){return e.mostrarOpcionesNueva(a)},blur:function(t){return e.ocultarOpcionesNueva(a)}}}),e.opcionesVisibles[a.nombre+"_nueva"]?t("div",{staticClass:"opciones-dropdown"},[e._l(e.opcionesFiltradas[a.nombre+"_nueva"],(function(o){return t("div",{key:o,staticClass:"opcion-item",on:{mousedown:function(t){return t.preventDefault(),e.seleccionarOpcionNuevaFila(o,a.nombre)}}},[e._v("\n              "+e._s(o)+"\n            ")])})),0===e.opcionesFiltradas[a.nombre+"_nueva"].length?t("div",{staticClass:"no-opciones"},[e._v("\n              No se encontraron resultados\n            ")]):e._e()],2):e._e()]):"fecha"===a.tipo?t("input",{directives:[{name:"model",rawName:"v-model",value:e.nuevaFila.valores[a.nombre],expression:"nuevaFila.valores[columna.nombre]"}],staticClass:"form-control",attrs:{id:"modal-"+a.nombre,type:"date"},domProps:{value:e.nuevaFila.valores[a.nombre]},on:{input:function(t){t.target.composing||e.$set(e.nuevaFila.valores,a.nombre,t.target.value)}}}):"select"===a.tipo?t("select",{directives:[{name:"model",rawName:"v-model",value:e.nuevaFila.valores[a.nombre],expression:"nuevaFila.valores[columna.nombre]"}],staticClass:"form-control",attrs:{id:"modal-"+a.nombre},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.nuevaFila.valores,a.nombre,t.target.multiple?o:o[0])}}},[t("option",{attrs:{value:""}},[e._v("Selecciona una opción")]),e._l(a.opciones,(function(a){return t("option",{key:a,domProps:{value:a}},[e._v("\n            "+e._s(a)+"\n          ")])}))],2):"numero"===a.tipo?t("input",{directives:[{name:"model",rawName:"v-model",value:e.nuevaFila.valores[a.nombre],expression:"nuevaFila.valores[columna.nombre]"}],staticClass:"form-control",attrs:{id:"modal-"+a.nombre,type:"number",placeholder:"Ingrese "+a.nombre},domProps:{value:e.nuevaFila.valores[a.nombre]},on:{input:function(t){t.target.composing||e.$set(e.nuevaFila.valores,a.nombre,t.target.value)}}}):"archivo"===a.tipo?t("div",{staticClass:"file-upload-container"},[t("FileUpload",{key:"modal-file-upload-"+a.nombre,attrs:{"case-id":e.seccionActual._id||e.seccionActual.id,"case-name":e.seccionActual.nombre},on:{"files-uploaded":e.onFilesUploaded},model:{value:e.nuevaFila.valores[a.nombre],callback:function(t){e.$set(e.nuevaFila.valores,a.nombre,t)},expression:"nuevaFila.valores[columna.nombre]"}})],1):e._e()])})),t("div",{staticClass:"modal-actions"},[t("button",{staticClass:"btn-modal-primary",on:{click:e.agregarFilaDesdeModal}},[t("i",{staticClass:"ti-plus"}),e._v(" Agregar Registro\n        ")]),t("button",{staticClass:"btn-modal-secondary",on:{click:function(t){e.showAddModal=!1}}},[t("i",{staticClass:"ti-close"}),e._v(" Cancelar\n        ")])])],2)])],1)},n=[],r=a("2b0e"),i=a("b9d1"),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"calendar-container"},[t("div",{staticClass:"calendar-header"},[t("div",{staticClass:"calendar-controls"},[t("button",{staticClass:"btn-nav",on:{click:e.previousMonth}},[t("i",{staticClass:"ti-angle-left"})]),t("h3",{staticClass:"current-month"},[e._v(e._s(e.currentMonthYear))]),t("button",{staticClass:"btn-nav",on:{click:e.nextMonth}},[t("i",{staticClass:"ti-angle-right"})])]),t("div",{staticClass:"calendar-actions"},[t("button",{staticClass:"btn-today",on:{click:e.goToToday}},[t("i",{staticClass:"ti-calendar"}),e._v(" Hoy\n      ")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedView,expression:"selectedView"}],staticClass:"view-selector",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedView=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:"month"}},[e._v("Mes")]),t("option",{attrs:{value:"week"}},[e._v("Semana")])])])]),"month"===e.selectedView?t("div",{staticClass:"calendar-grid"},[e.loading?t("div",{staticClass:"calendar-loading"},[t("div",{staticClass:"loading-spinner"}),t("p",[e._v("Cargando eventos...")])]):e._e(),t("div",{staticClass:"calendar-weekdays"},e._l(e.weekDays,(function(a){return t("div",{key:a,staticClass:"weekday"},[e._v("\n        "+e._s(a)+"\n      ")])})),0),t("div",{staticClass:"calendar-days"},e._l(e.calendarDays,(function(a){return t("div",{key:a.date,staticClass:"calendar-day",class:{"other-month":!a.isCurrentMonth,today:a.isToday,"has-events":a.events.length>0},on:{click:function(t){return e.selectDay(a)}}},[t("div",{staticClass:"day-number"},[e._v(e._s(a.dayNumber))]),t("div",{staticClass:"day-events"},[e._l(a.events.slice(0,2),(function(a,o){return t("div",{key:`event-${o}-${a.id||"no-id"}`,staticClass:"event-item",style:{backgroundColor:e.getEventColor(a)},attrs:{title:a.title},on:{click:function(t){return t.stopPropagation(),e.showEventDetails(a)}}},[t("div",{staticClass:"event-title"},[e._v(e._s(e.getEventTitle(a)))]),e.getEventSubtitle(a)?t("div",{staticClass:"event-subtitle"},[e._v(e._s(e.getEventSubtitle(a)))]):e._e()])})),a.events.length>2?t("div",{staticClass:"more-events"},[e._v("\n            +"+e._s(a.events.length-2)+" más\n          ")]):e._e()],2)])})),0)]):t("div",{staticClass:"week-view"},[t("div",{staticClass:"week-header"},e._l(e.weekDays,(function(a){return t("div",{key:a,staticClass:"weekday-header"},[e._v("\n        "+e._s(a)+"\n      ")])})),0),t("div",{staticClass:"week-grid"},e._l(e.weekDays,(function(a){return t("div",{key:a,staticClass:"week-day",class:{today:e.isToday(a)}},[t("div",{staticClass:"week-day-number"},[e._v(e._s(e.getDayNumber(a)))]),t("div",{staticClass:"week-day-events"},e._l(e.getWeekDayEvents(a),(function(a,o){return t("div",{key:`week-event-${o}-${a.id||"no-id"}`,staticClass:"week-event",style:{backgroundColor:e.getEventColor(a)},on:{click:function(t){return e.showEventDetails(a)}}},[t("div",{staticClass:"event-title"},[e._v(e._s(a.title))]),t("div",{staticClass:"event-time"},[e._v(e._s(e.formatTime(a.date)))])])})),0)])})),0)]),t("b-modal",{attrs:{title:"Detalles del Registro",size:"lg","hide-footer":""},model:{value:e.showEventModal,callback:function(t){e.showEventModal=t},expression:"showEventModal"}},[e.selectedEvent?t("div",{staticClass:"event-details"},[t("div",{staticClass:"event-fields"},[e.getRegistroValues(e.selectedEvent)?t("div",{staticClass:"field-section"},e._l(e.getRegistroValues(e.selectedEvent),(function(a,o){return t("div",{key:"valor-"+o,staticClass:"event-field"},[t("label",{staticClass:"field-label"},[e._v(e._s(e.formatFieldName(o))+":")]),t("span",{staticClass:"field-value"},[e._v(e._s(a))])])})),0):e._e()]),t("div",{staticClass:"event-actions"},[t("button",{staticClass:"btn-edit",on:{click:function(t){return e.editEvent(e.selectedEvent)}}},[t("i",{staticClass:"ti-pencil"}),e._v(" Editar\n        ")]),t("button",{staticClass:"btn-delete",on:{click:function(t){return e.deleteEvent(e.selectedEvent)}}},[t("i",{staticClass:"ti-trash"}),e._v(" Eliminar\n        ")])])]):e._e()]),t("b-modal",{attrs:{title:e.editingEvent?"Editar Evento":"Nuevo Evento",size:"lg","hide-footer":""},model:{value:e.showEventForm,callback:function(t){e.showEventForm=t},expression:"showEventForm"}},[t("div",{staticClass:"event-form"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Título del evento")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventForm.title,expression:"eventForm.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese el título del evento"},domProps:{value:e.eventForm.title},on:{input:function(t){t.target.composing||e.$set(e.eventForm,"title",t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",[e._v("Fecha")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventForm.date,expression:"eventForm.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:e.eventForm.date},on:{input:function(t){t.target.composing||e.$set(e.eventForm,"date",t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",[e._v("Hora")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventForm.time,expression:"eventForm.time"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:e.eventForm.time},on:{input:function(t){t.target.composing||e.$set(e.eventForm,"time",t.target.value)}}})]),t("div",{staticClass:"form-group"},[t("label",[e._v("Color")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.eventForm.color,expression:"eventForm.color"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.eventForm,"color",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"#007bff"}},[e._v("Azul")]),t("option",{attrs:{value:"#28a745"}},[e._v("Verde")]),t("option",{attrs:{value:"#ffc107"}},[e._v("Amarillo")]),t("option",{attrs:{value:"#dc3545"}},[e._v("Rojo")]),t("option",{attrs:{value:"#6f42c1"}},[e._v("Púrpura")]),t("option",{attrs:{value:"#fd7e14"}},[e._v("Naranja")])])]),t("div",{staticClass:"form-group"},[t("label",[e._v("Datos adicionales")]),e._l(e.availableFields,(function(a,o){return t("div",{key:"field-"+o,staticClass:"field-input"},[t("label",[e._v(e._s(e.formatFieldName(o)))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eventForm.data[o],expression:"eventForm.data[key]"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese "+e.formatFieldName(o)},domProps:{value:e.eventForm.data[o]},on:{input:function(t){t.target.composing||e.$set(e.eventForm.data,o,t.target.value)}}})])}))],2),t("div",{staticClass:"form-actions"},[t("button",{staticClass:"btn-save",on:{click:e.saveEvent}},[t("i",{staticClass:"ti-save"}),e._v(" "+e._s(e.editingEvent?"Actualizar":"Guardar")+"\n        ")]),t("button",{staticClass:"btn-cancel",on:{click:e.cancelEventForm}},[t("i",{staticClass:"ti-close"}),e._v(" Cancelar\n        ")])])])])],1)},l=[],c={name:"CalendarView",props:{events:{type:Array,default:()=>[]},dateField:{type:String,required:!0},titleField:{type:String,required:!0},availableFields:{type:[Object,Array],default:()=>({})},columns:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},data(){return{currentDate:new Date,selectedView:"month",showEventModal:!1,showEventForm:!1,selectedEvent:null,editingEvent:null,eventForm:{title:"",date:"",time:"",color:"#007bff",data:{}},weekDays:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]}},computed:{currentMonthYear(){return this.currentDate.toLocaleDateString("es-ES",{month:"long",year:"numeric"})},calendarDays(){const e=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),a=new Date(e,t,1),o=(new Date(e,t+1,0),new Date(a));o.setDate(o.getDate()-a.getDay());const n=[],r=new Date;for(let i=0;i<42;i++){const e=new Date(o);e.setDate(o.getDate()+i);const a=this.getEventsForDate(e);n.push({date:e,dayNumber:e.getDate(),isCurrentMonth:e.getMonth()===t,isToday:this.isSameDate(e,r),events:a})}return n}},methods:{previousMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1,1),this.$emit("month-changed",this.currentDate.getFullYear(),this.currentDate.getMonth()+1)},nextMonth(){this.currentDate=new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1,1),this.$emit("month-changed",this.currentDate.getFullYear(),this.currentDate.getMonth()+1)},goToToday(){this.currentDate=new Date},selectDay(e){this.eventForm.date=this.formatDateForInput(e.date),this.eventForm.time="",this.eventForm.title="",this.eventForm.data={},this.editingEvent=null,this.showEventForm=!0},getEventsForDate(e){console.log("🔍 Buscando eventos para fecha:",e.toDateString()),console.log("📅 Eventos disponibles:",this.events.length);const t=this.events.filter(t=>{const a=new Date(t.date),o=this.isSameDate(a,e);return console.log(`Evento "${t.title}" en ${t.date} - Mismo día: ${o}`),o});return console.log(`✅ Eventos encontrados para ${e.toDateString()}:`,t.length),t},isSameDate(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},isToday(e){const t=new Date;return this.isSameDate(e,t)},getEventColor(e){return e.color||"#007bff"},getEventTitle(e){const t=e.title||"",a=t.indexOf(" (");return a>0?t.substring(0,a):t},getEventSubtitle(e){const t=e.title||"",a=t.indexOf(" ("),o=t.lastIndexOf(")");return a>0&&o>a?t.substring(a+2,o):""},showEventDetails(e){console.log("🎯 showEventDetails - Event:",e),this.selectedEvent=e,this.showEventModal=!0},editEvent(e){this.editingEvent=e,this.eventForm={title:e.title||"",date:this.formatDateForInput(new Date(e.date)),time:this.formatTimeForInput(new Date(e.date)),color:e.color||"#007bff",data:{...e.data}},this.showEventModal=!1,this.showEventForm=!0},deleteEvent(e){confirm("¿Estás seguro de que quieres eliminar este evento?")&&(this.$emit("delete-event",e),this.showEventModal=!1)},saveEvent(){if(!this.eventForm.title||!this.eventForm.date)return void alert("Por favor completa los campos requeridos");const e={title:this.eventForm.title,date:this.combineDateTime(this.eventForm.date,this.eventForm.time),color:this.eventForm.color,data:this.eventForm.data};this.editingEvent?this.$emit("update-event",{...this.editingEvent,...e}):this.$emit("add-event",e),this.cancelEventForm()},cancelEventForm(){this.showEventForm=!1,this.editingEvent=null,this.eventForm={title:"",date:"",time:"",color:"#007bff",data:{}}},formatDateForInput(e){return e.toISOString().split("T")[0]},formatTimeForInput(e){return e.toTimeString().slice(0,5)},combineDateTime(e,t){const a=new Date(e+"T"+(t||"00:00"));return a.toISOString()},formatFullDate(e){const t=new Date(e);return t.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},formatTime(e){const t=new Date(e);return t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})},formatFieldName(e){return e.charAt(0).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1")},formatFieldValue(e,t){return null===e||void 0===e?"-":"createdAt"===t||"updatedAt"===t?new Date(e).toLocaleString("es-ES"):"object"===typeof e&&null!==e?"valores"===t?Object.entries(e).map(([e,t])=>`${e}: ${t}`).join(", "):JSON.stringify(e,null,2):"boolean"===typeof e?e?"Sí":"No":"number"===typeof e?e.toLocaleString("es-ES"):String(e)},getRegistroValues(e){console.log("🔍 getRegistroValues - Event:",e);let t=null;if(e&&e.registro?t=e.registro:e&&e.data&&e.data.registro&&(t=e.data.registro),!t)return console.log("❌ No hay registro:",{event:e,registro:t}),{};console.log("📊 Registro encontrado:",t);let a=null;if(t.registro&&(a=t.registro,console.log("✅ Encontrado registro anidado")),!a||!a.valores)return console.log("❌ No hay registro anidado o valores:",{registro:t,registroAnidado:a}),{};const o=a.valores;return console.log("📊 Valores del registro anidado:",o),o},getRegistroData(e){console.log("🔍 getRegistroData - Event:",e);let t=null;if(e&&e.registro?t=e.registro:e&&e.data&&e.data.registro&&(t=e.data.registro),!t)return console.log("❌ No hay registro:",{event:e,registro:t}),{};console.log("📊 Registro encontrado:",t);let a=null;if(t.registro&&(a=t.registro,console.log("✅ Encontrado registro anidado para metadata")),!a)return console.log("❌ No hay registro anidado"),{};const o={};return Object.entries(a).forEach(([e,t])=>{"valores"!==e&&null!==t&&void 0!==t&&(o[e]=t)}),console.log("✅ Datos del registro:",o),o},getRelevantEventFields(e){if(!e||!e.registro)return{};const t=e.registro,a={};return t._id&&(a["ID"]=t._id),t.seccionId&&(a["ID Sección"]=t.seccionId),void 0!==t.__v&&(a["Versión"]=t.__v),t.createdAt&&(a["Fecha Creación"]=t.createdAt),t.updatedAt&&(a["Fecha Actualización"]=t.updatedAt),t.valores&&"object"===typeof t.valores&&Object.entries(t.valores).forEach(([e,t])=>{null!==t&&void 0!==t&&""!==t&&(a[e]=t)}),a},getWeekDayEvents(e){return[]},getDayNumber(e){return""}}},u=c,d=(a("6bf6"),a("2877")),p=Object(d["a"])(u,s,l,!1,null,"4c03cbf5",null),v=p.exports,m=a("fa4a");function g(){const e=async(e,t,a)=>{try{const o=await i["g"].updateRegistroArchivos(e,t,a);return o}catch(o){throw console.error("Error guardando archivos:",o),o}},t=async(e,t)=>{try{const a=await i["g"].getRegistro(e,t);return a}catch(a){throw console.error("Error cargando archivos:",a),a}},a=async(e,t,a,o)=>{try{const n={valores:{[a]:o}};await i["g"].updateRegistro(e,t,n),console.log("✅ Archivos sincronizados con el backend")}catch(n){throw console.error("❌ Error sincronizando archivos:",n),n}},o=e=>e&&Array.isArray(e)?e.map(e=>({id:e.id,nombre:e.name,"tamaño":e.size,tipo:e.mimeType,url:e.webViewLink,subidoPor:e.uploadedBy,fechaSubida:e.uploadedAt})):[],n=e=>{if(0===e)return"0 Bytes";const t=1024,a=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,o)).toFixed(2))+" "+a[o]};return{guardarArchivosRegistro:e,cargarArchivosRegistro:t,sincronizarArchivos:a,obtenerInfoArchivos:o,"formatearTamañoArchivo":n}}var f=a("3445"),h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"file-upload-component"},[e.isAuthenticated?t("div",{staticClass:"upload-section"},[t("div",{staticClass:"drop-zone",class:{dragover:e.isDragging,uploading:e.uploading},on:{drop:e.handleDrop,dragover:function(t){t.preventDefault(),e.isDragging=!0},dragleave:function(t){t.preventDefault(),e.isDragging=!1},click:e.triggerFileInput}},[e.uploading?e._e():t("div",{staticClass:"drop-content"},[t("i",{staticClass:"ti-cloud-upload"}),t("h4",[e._v("Subir archivo a Google Drive")]),t("p",[e._v("Arrastra archivos aquí o haz clic para seleccionar")]),t("small",[e._v("Máximo 10MB por archivo")])]),e.uploading?t("div",{staticClass:"upload-progress"},[t("div",{staticClass:"progress-info"},[t("span",{staticClass:"filename"},[e._v(e._s(e.currentFile&&e.currentFile.name))]),t("span",{staticClass:"progress-text"},[e._v(e._s(e.uploadProgress)+"%")])]),t("div",{staticClass:"progress-bar"},[t("div",{staticClass:"progress-fill",style:{width:e.uploadProgress+"%"}})])]):e._e()]),t("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",multiple:"",accept:"*/*"},on:{change:e.handleFileSelect}}),e.uploadedFiles.length>0?t("div",{staticClass:"uploaded-files"},[t("h5",[e._v("Archivos subidos:")]),t("div",{staticClass:"file-list"},e._l(e.uploadedFiles,(function(a){return t("div",{key:a.id,staticClass:"file-item"},[t("div",{staticClass:"file-info"},[t("i",{staticClass:"ti-file"}),t("span",{staticClass:"file-name"},[e._v(e._s(a.name))]),t("span",{staticClass:"file-size"},[e._v(e._s(e.formatFileSize(a.size)))])]),t("div",{staticClass:"file-actions"},[t("button",{staticClass:"btn-view",attrs:{title:"Ver en Google Drive"},on:{click:function(t){return e.viewFile(a)}}},[t("i",{staticClass:"ti-eye"})]),t("button",{staticClass:"btn-download",attrs:{title:"Descargar"},on:{click:function(t){return e.downloadFile(a.id)}}},[t("i",{staticClass:"ti-download"})]),t("button",{staticClass:"btn-delete",attrs:{title:"Eliminar"},on:{click:function(t){return e.deleteFile(a.id)}}},[t("i",{staticClass:"ti-trash"})])])])})),0)]):e._e()]):t("div",{staticClass:"auth-section"},[e._m(0),t("button",{staticClass:"btn-google-auth",on:{click:e.connectGoogleDrive}},[t("i",{staticClass:"ti-google"}),e._v("\n      Conectar Google Drive\n    ")]),t("button",{staticClass:"btn-google-auth-secondary",on:{click:e.useBasicMode}},[t("i",{staticClass:"ti-upload"}),e._v("\n      Modo Básico (Sin OAuth)\n    ")]),e._m(1)])])},b=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"auth-message"},[t("i",{staticClass:"ti-cloud"}),t("span",[e._v("Conecta tu Google Drive para subir archivos")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"auth-note"},[t("small",[t("i",{staticClass:"ti-info"}),e._v("\n        Si tienes problemas con OAuth, puedes usar el modo básico temporalmente.\n      ")])])}],y=a("4b04");const _="478457945260-8bdlt0vbb8ugvhkj8go05e59cu7evnqj.apps.googleusercontent.com",C="AIzaSyBbNnycTLwGFPsIf38JuYl7-x80lRFElcE",w="https://www.googleapis.com/auth/drive.file";let A=!1;const F=()=>A?Promise.resolve(y["a"].auth2.getAuthInstance()):new Promise((e,t)=>{y["a"].load("client:auth2",()=>{y["a"].client.init({apiKey:C,clientId:_,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scope:w,ux_mode:"redirect",redirect_uri:window.location.origin}).then(()=>{A=!0;const t=y["a"].auth2.getAuthInstance();e(t)}).catch(e=>{console.error("Error inicializando Google API:",e),t(e)})})}),E=()=>A?Promise.resolve():new Promise((e,t)=>{try{y["a"].load("client",()=>{y["a"].client.init({apiKey:C,discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]}).then(()=>{A=!0,e()}).catch(t)})}catch(a){t(new Error("No se pudo inicializar Google API: "+a.message))}}),x=async()=>{try{const e=await F();return e.isSignedIn.get()}catch(e){return console.warn("OAuth no disponible, usando API Key solo:",e),!1}},S=async()=>{try{const e=await F();if(!e.isSignedIn.get()){const t=await e.signIn({prompt:"select_account",ux_mode:"redirect"});return t}return e.currentUser.get()}catch(e){if(console.error("Error en OAuth:",e),"server_error"===e.error)throw new Error("Error del servidor de Google. Intenta de nuevo en unos minutos.");if("access_denied"===e.error)throw new Error("Acceso denegado. Verifica que tu email esté autorizado.");if("popup_closed_by_user"===e.error)throw new Error("Ventana de autenticación cerrada.");if("popup_blocked_by_browser"===e.error)throw new Error("El navegador bloqueó la ventana emergente. Permite popups para este sitio.");throw e}},k=()=>{const e=`https://accounts.google.com/o/oauth2/auth?client_id=${_}&redirect_uri=${encodeURIComponent(window.location.origin)}&scope=${encodeURIComponent(w)}&response_type=token&prompt=select_account`;window.location.href=e},O=async(e,t={})=>{await S();const a={name:e.name,mimeType:e.type,...t};t.folderId&&(a.parents=[t.folderId]);const o=new FormData;o.append("metadata",new Blob([JSON.stringify(a)],{type:"application/json"})),o.append("file",e);try{const e=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart",{method:"POST",headers:new Headers({Authorization:"Bearer "+y["a"].auth.getToken().access_token}),body:o});if(!e.ok)throw new Error(`Upload failed: ${e.status} ${e.statusText}`);const a=await e.json();return{...a,uploadedBy:y["a"].auth2.getAuthInstance().currentUser.get().getBasicProfile().getEmail(),uploadedAt:(new Date).toISOString(),caseId:t.caseId}}catch(n){throw console.error("Error uploading file:",n),n}},D=async e=>{await S();try{const t=await y["a"].client.drive.files.get({fileId:e,alt:"media"});return t.body}catch(t){throw console.error("Error downloading file:",t),t}},j=async e=>{await S();try{return await y["a"].client.drive.files.delete({fileId:e}),{success:!0,message:"File deleted successfully"}}catch(t){throw console.error("Error deleting file:",t),t}};var N={name:"FileUpload",props:{caseId:{type:String,default:null},caseName:{type:String,default:""},folderId:{type:String,default:null},value:{type:Array,default:()=>[]}},data(){return{isAuthenticated:!1,uploading:!1,uploadProgress:0,currentFile:null,isDragging:!1,uploadedFiles:[]}},computed:{filesValue:{get(){return this.value},set(e){this.$emit("update:value",e)}}},mounted(){this.initializeAuth()},methods:{async initializeAuth(){try{const e=await x();this.isAuthenticated=e,e&&await this.loadUploadedFiles()}catch(e){console.error("Error checking auth:",e)}},async connectGoogleDrive(){try{await S(),this.isAuthenticated=!0,await this.loadUploadedFiles()}catch(e){console.error("Error connecting to Google Drive:",e),"server_error"===e.error?alert("Error del servidor de Google. Intenta de nuevo en unos minutos."):"popup_blocked_by_browser"===e.error?confirm("El navegador bloqueó la ventana emergente. ¿Quieres usar redirección directa?")&&k():"access_denied"===e.error||"popup_closed_by_user"===e.error?alert("Error de acceso: La aplicación no está configurada correctamente en Google Cloud Console. Verifica que tu email esté agregado como usuario de prueba."):e.message&&e.message.includes("403")?alert("Error 403: Tu email no está autorizado. Verifica que tu email esté agregado como usuario de prueba en Google Cloud Console."):e.message&&e.message.includes("server_error")?alert("Error del servidor de Google. Intenta de nuevo en unos minutos."):alert("Error al conectar con Google Drive: "+(e.message||e.error||"Error desconocido"))}},async useBasicMode(){try{await E(),this.isAuthenticated=!0,alert("Modo básico activado. Algunas funciones pueden estar limitadas.")}catch(e){console.error("Error en modo básico:",e),alert("Error activando modo básico: "+e.message)}},async loadUploadedFiles(){this.uploadedFiles=[...this.filesValue]},triggerFileInput(){!this.uploading&&this.$refs.fileInput&&this.$refs.fileInput.click()},handleFileSelect(e){const t=Array.from(e.target.files);this.uploadFiles(t)},handleDrop(e){this.isDragging=!1;const t=Array.from(e.dataTransfer.files);this.uploadFiles(t)},async uploadFiles(e){if(0!==e.length)for(const t of e)t.size>10485760?alert(`El archivo ${t.name} es demasiado grande. Máximo 10MB.`):await this.uploadSingleFile(t)},async uploadSingleFile(e){this.uploading=!0,this.currentFile=e,this.uploadProgress=0;try{const t={caseId:this.caseId,caseName:this.caseName,folderId:this.folderId},a=setInterval(()=>{this.uploadProgress<90&&(this.uploadProgress+=10*Math.random())},200),o=await O(e,t);clearInterval(a),this.uploadProgress=100;const n={id:o.id,name:e.name,size:e.size,mimeType:e.type,webViewLink:o.webViewLink,uploadedAt:o.uploadedAt,uploadedBy:o.uploadedBy};this.uploadedFiles.push(n),this.filesValue=[...this.uploadedFiles],this.$emit("files-uploaded",n),this.$emit("archivos-actualizados",this.uploadedFiles),setTimeout(()=>{this.uploading=!1,this.uploadProgress=0,this.currentFile=null},500)}catch(t){console.error("Error uploading file:",t),this.uploading=!1,this.uploadProgress=0,this.currentFile=null,alert(`Error al subir ${e.name}: ${t.message}`)}},viewFile(e){e.webViewLink&&window.open(e.webViewLink,"_blank")},async downloadFile(e){try{const t=await D(e),a=window.URL.createObjectURL(t),o=document.createElement("a");o.href=a;const n=this.uploadedFiles.find(t=>t.id===e);o.download=n?n.name:"file",document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(a)}catch(t){console.error("Error downloading file:",t),alert("Error al descargar el archivo")}},async deleteFile(e){if(confirm("¿Estás seguro de que quieres eliminar este archivo?"))try{await j(e),this.uploadedFiles=this.uploadedFiles.filter(t=>t.id!==e),this.filesValue=[...this.uploadedFiles],this.$emit("archivos-actualizados",this.uploadedFiles)}catch(t){console.error("Error deleting file:",t),alert("Error al eliminar el archivo")}},formatFileSize(e){if(0===e)return"0 Bytes";const t=1024,a=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,o)).toFixed(2))+" "+a[o]}}},T=N,I=(a("ac6c"),Object(d["a"])(T,h,b,!1,null,"2cb7b1b4",null)),P=I.exports,R={name:"CrmSeccion",components:{CalendarView:v,FiltrosDinamicos:f["a"],FileUpload:P},props:{sectionName:{type:String,required:!0}},setup(e){const t=Object(r["ref"])([]),a=Object(r["reactive"])({nombre:"",tipo:"texto",seccionRelacionada:"",campoMostrar:"",opcionesSelect:""}),o=Object(r["reactive"])({valores:{}}),n=Object(r["ref"])(!1),s=Object(r["ref"])(!1),l=Object(r["ref"])(!1),c=Object(r["ref"])(null),u=Object(r["ref"])(""),d=Object(r["ref"])(!0),p=Object(r["ref"])(0),v=Object(r["ref"])("table"),f=Object(r["ref"])(""),h=Object(r["ref"])(""),b=Object(r["ref"])(""),y=Object(r["ref"])(!1),_=Object(r["ref"])(!1),C=Object(r["ref"])(!1),w=Object(r["ref"])("#007bff"),A=Object(r["ref"])(new Date),F=Object(r["ref"])([]),E=Object(r["ref"])([]),x=(Object(r["ref"])(null),Object(r["ref"])(null)),S=Object(r["ref"])([]),k=Object(r["reactive"])({}),O=Object(r["reactive"])({}),D=(Object(r["reactive"])({}),Object(r["ref"])(null)),{registros:j,pagination:N,filters:T,loading:I,cargarRegistros:P}=Object(m["a"])(),{sincronizarArchivos:R,obtenerInfoArchivos:M,"formatearTamañoArchivo":z}=g(),$=Object(r["ref"])(!0),L=Object(r["ref"])(!1),B=Object(r["ref"])({}),U=Object(r["computed"])(()=>{console.log("Secciones:",t.value.map(e=>e.nombre)),console.log("SectionName:",e.sectionName);const a=(e.sectionName||"").replace(/-/g," ").trim().toLowerCase(),o=t.value.find(e=>(e.nombre||"").trim().toLowerCase()===a);return console.log("Sección encontrada:",o),o}),V=Object(r["computed"])(()=>U.value?t.value.filter(e=>e.nombre!==U.value.nombre):[]),q=Object(r["computed"])(()=>{if(!a.seccionRelacionada)return[];const e=t.value.find(e=>e.nombre===a.seccionRelacionada);return e&&e.columnas?e.columnas.map(e=>"string"===typeof e?e:e.nombre):[]}),K=Object(r["computed"])(()=>!(!a.nombre||!a.nombre.trim())&&("relacional"===a.tipo?a.seccionRelacionada&&a.campoMostrar:"select"!==a.tipo||a.opcionesSelect&&a.opcionesSelect.trim())),H=Object(r["computed"])(()=>!(!U.value||!U.value.columnas)&&U.value.columnas.some(e=>{const t="string"===typeof e?{nombre:e,tipo:"texto"}:e;return"fecha"===t.tipo})),G=Object(r["computed"])(()=>E.value&&E.value.length>0),Q=(e,t)=>($.value,e.valores&&void 0!==e.valores[t]?e.valores[t]:e[t]||""),Y=(e,t,a)=>{$.value?(e.valores||(e.valores={}),e.valores[t]=a):e.valores?e.valores[t]=a:e[t]=a},Z=Object(r["computed"])(()=>U.value&&U.value.columnas?U.value.columnas.filter(e=>{const t="string"===typeof e?{nombre:e,tipo:"texto"}:e;return"fecha"===t.tipo}).map(e=>"string"===typeof e?{nombre:e}:e):[]),J=Object(r["computed"])(()=>U.value&&U.value.columnas?U.value.columnas.filter(e=>{const t="string"===typeof e?{nombre:e,tipo:"texto"}:e;return"texto"===t.tipo}).map(e=>"string"===typeof e?{nombre:e}:e):[]),W=Object(r["computed"])(()=>{if(console.log("=== DEBUG CALENDAR ==="),console.log("Calendario habilitado:",y.value),console.log("Campo fecha:",f.value),console.log("Campo título:",h.value),console.log("Datos del calendario:",S.value.length),!y.value||!S.value||0===S.value.length)return console.log("❌ No se pueden generar eventos"),[];const e=S.value.map(e=>{console.log("Procesando registro:",e),console.log("Campos disponibles:",Object.keys(e)),console.log("Campos seleccionados para mostrar:",F.value);const t=e.valores&&"object"===typeof e.valores,a=e.title&&e.date&&e.id;let o,n,r,i;if(t){if(o=e.valores[h.value]||"Sin título",n=e.valores[f.value],r=e.valores.color||w.value,i=e.valores,F.value.length>0){const t=F.value.map(t=>e.valores[t]).filter(e=>e&&""!==e.trim()).join(" - ");t&&(o=`${o} (${t})`)}}else{if(!a)return console.warn("Estructura de registro no reconocida:",e),null;if(o=e[h.value]||e.title||"Sin título",n=e[f.value]||e.date,r=e.color||w.value,i=e,F.value.length>0){const t=F.value.map(t=>{const a=e[t];return console.log(`Campo ${t}:`,a),a}).filter(e=>e&&""!==e.toString().trim()).join(" - ");t&&(o=`${o} (${t})`)}}const s={id:e._id||e.id,title:o,date:n,color:r,data:i,registro:e};return console.log("Evento generado:",s),s}).filter(e=>e&&e.date);return console.log("✅ Eventos generados:",e.length),e}),X=Object(r["computed"])(()=>U.value&&U.value.columnas?U.value.columnas.map(e=>{const t="string"===typeof e?{nombre:e,tipo:"texto"}:e;return t.nombre}).filter(e=>e!==f.value&&e!==h.value):[]),ee=async()=>{d.value=!0;try{const a=await i["g"].getAll();t.value=Array.isArray(a)?a:a.data||[];for(const o of t.value)try{const e=await i["g"].getRegistros(o._id||o.id);o.datos=Array.isArray(e)?e:[],console.log(`📊 Datos cargados para ${o.nombre}:`,o.datos.length,"registros")}catch(e){console.warn(`⚠️ Error cargando datos para ${o.nombre}:`,e),o.datos=[]}se(),U.value&&await te()}catch(a){alert("Error al cargar secciones"),t.value=[]}d.value=!1},te=async()=>{if(U.value)try{const e=N.value&&N.value.currentPage?N.value.currentPage:1,t=T.value&&T.value.applied?T.value.applied:{};console.log("🔄 Cargando registros paginados:",{seccionId:U.value._id||U.value.id,page:e,filters:t}),await P(U.value._id||U.value.id,{page:e,limit:10,filters:t})}catch(e){console.error("Error cargando registros paginados:",e)}},ae=async e=>{if(U.value){re(e);try{await P(U.value._id||U.value.id,{page:1,limit:10,filters:e})}catch(t){console.error("Error aplicando filtros:",t)}}},oe=async e=>{if(U.value)try{await P(U.value._id||U.value.id,{page:e,limit:10,filters:T.value.applied||{}})}catch(t){console.error("Error cambiando página:",t)}},ne=()=>{console.log("Toggle filtros ejecutado"),L.value=!L.value,console.log("Nuevo estado:",L.value)},re=e=>{B.value=e},ie=async()=>{B.value={},await ae({})},se=()=>{U.value&&U.value.columnas&&(o.valores={},U.value.columnas.forEach(e=>{const t="string"===typeof e?e:e.nombre,a="string"===typeof e?"texto":e.tipo;o.valores[t]="archivo"===a?[]:""}),console.log("Nueva fila inicializada:",o.valores))},le=()=>{a.nombre="",a.tipo="texto",a.seccionRelacionada="",a.campoMostrar="",a.opcionesSelect=""},ce=async()=>{if(!U.value)return void alert("No se encontró la sección actual");const e=a.nombre.trim().toLowerCase();if(!e)return void alert("El nombre del campo no puede estar vacío");const t=U.value.columnas.some(t=>{const a="string"===typeof t?t:t.nombre;return a===e});if(t)return void alert("El campo ya existe");const o={nombre:e,tipo:a.tipo};if("relacional"===a.tipo){if(!a.seccionRelacionada||!a.campoMostrar)return void alert("Para campos relacionales debes seleccionar una sección y un campo a mostrar");o.seccionRelacionada=a.seccionRelacionada,o.campoMostrar=a.campoMostrar}if("select"===a.tipo){if(!a.opcionesSelect||!a.opcionesSelect.trim())return void alert("Para campos select debes ingresar al menos una opción");o.opciones=a.opcionesSelect.split(",").map(e=>e.trim()).filter(e=>e)}"archivo"===a.tipo&&(o.configuracion={maxSize:10485760,allowedTypes:["*/*"],multiple:!0,autoOrganize:!0}),U.value.columnas.push(o),U.value.datos.forEach(t=>{t[e]="archivo"===a.tipo?[]:""}),le(),se();try{await i["g"].update(U.value._id||U.value.id,U.value),await ee()}catch(n){alert("Error al agregar campo")}},ue=async()=>{if(!U.value)return;const e={};U.value.columnas.forEach(t=>{const a="string"===typeof t?t:t.nombre,n="string"===typeof t?"texto":t.tipo;e[a]="archivo"===n?o.valores[a]||[]:o.valores[a]||""});try{const t=await i["g"].createRegistro(U.value._id||U.value.id,{valores:e});U.value.datos&&Array.isArray(U.value.datos)?U.value.datos.push(t):U.value.datos=[t],await te(),se()}catch(t){alert("Error al agregar fila")}},de=async()=>{if(!U.value)return;const e={};U.value.columnas.forEach(t=>{const a="string"===typeof t?t:t.nombre,n="string"===typeof t?"texto":t.tipo;e[a]="archivo"===n?o.valores[a]||[]:o.valores[a]||""}),console.log("Fila nueva a crear:",e);try{await i["g"].createRegistro(U.value._id||U.value.id,{valores:e});await te(),l.value=!1,se()}catch(t){console.error("Error al agregar registro:",t),alert("Error al agregar registro")}},pe=async e=>{if(!U.value)return;const t=j.value[e];if(t)try{await i["g"].deleteRegistro(U.value._id||U.value.id,t._id||t.id),await te()}catch(a){alert("Error al eliminar fila")}},ve=async e=>{if(!U.value)return;const t=U.value.columnas.splice(e,1)[0],a="string"===typeof t?t:t.nombre;U.value.datos.forEach(e=>{delete e[a]}),se();try{await i["g"].update(U.value._id||U.value.id,U.value),await ee()}catch(o){alert("Error al eliminar campo")}},me=async e=>{if(!U.value)return;const t=U.value.columnas[e];"string"===typeof t||t.nombre;if(!t.nombre||!t.nombre.trim())return void alert("El nombre del campo no puede estar vacío");const a=U.value.columnas.some((a,o)=>{if(o===e)return!1;const n="string"===typeof a?a:a.nombre;return n===t.nombre});if(a)alert("El nombre del campo ya existe");else if("relacional"!==t.tipo||t.seccionRelacionada&&t.campoMostrar)try{await i["g"].update(U.value._id||U.value.id,U.value),u.value="¡Campo actualizado correctamente!",setTimeout(()=>{u.value=""},2e3),await ee()}catch(o){alert("Error al guardar cambios de campo")}else alert("Para campos relacionales debes seleccionar una sección y un campo a mostrar")},ge=()=>{if(!U.value)return;const e=JSON.stringify(U.value,null,2),t=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(t),o=document.createElement("a");o.href=a,o.download=U.value.nombre.toLowerCase().replace(/\s+/g,"-")+".json",o.click(),URL.revokeObjectURL(a)},fe=()=>{n.value=!0},he=async()=>{if(U.value)try{for(const e of U.value.datos)await i["g"].deleteRegistro(U.value._id||U.value.id,e._id||e.id);n.value=!1,await ee()}catch(e){alert("Error al limpiar sección")}},be=async()=>{try{await i["g"].update(U.value._id||U.value.id,U.value),alert("Cambios guardados correctamente"),await ee()}catch(e){alert("Error al guardar sección")}},ye=()=>{t.value.forEach(e=>{e.columnas&&Array.isArray(e.columnas)&&(e.columnas=e.columnas.map(e=>"string"===typeof e?{nombre:e,tipo:"texto"}:e))})},_e=(e,a)=>{if(!e||!a)return[];const o=t.value.find(t=>t.nombre===e);if(!o||!o.columnas||!o.datos)return[];const n=o.datos.map(e=>e[a]).filter(e=>e&&""!==e);return[...new Set(n)]},Ce=e=>{if("string"===typeof e)return"Texto";switch(e.tipo){case"texto":return"Texto";case"numero":return"Número";case"fecha":return"Fecha";case"select":return"Select";case"relacional":return`Relacional (${e.seccionRelacionada})`;default:return"Texto"}},we=e=>{if("string"===typeof e)return"text-primary";switch(e.tipo){case"texto":return"text-primary";case"numero":return"text-success";case"fecha":return"text-info";case"select":return"text-secondary";case"relacional":return"text-warning";default:return"text-primary"}},Ae=(e,t,a)=>{const o=e.nombre+"_"+a;k[o]=!0;const n=_e(e.seccionRelacionada,e.campoMostrar);O[o]=n},Fe=(e,t)=>{const a=e.nombre+"_"+t;setTimeout(()=>{k[a]=!1},150)},Ee=(e,t,a,o)=>{const n=t.nombre+"_"+o,r=e.target.value.toLowerCase();a.valores[t.nombre]=e.target.value;const i=_e(t.seccionRelacionada,t.campoMostrar);O[n]=i.filter(e=>e.toLowerCase().includes(r)),k[n]=!0},xe=(e,t)=>{const a=t.nombre+"_nueva",n=e.target.value.toLowerCase();o.valores[t.nombre]=e.target.value;const r=_e(t.seccionRelacionada,t.campoMostrar);O[a]=r.filter(e=>e.toLowerCase().includes(n)),k[a]=!0},Se=(e,t,a,o)=>{const n=t+"_"+o;a.valores[t]=e,k[n]=!1},ke=(e,t)=>{const a=t+"_nueva";o.valores[t]=e,k[a]=!1},Oe=async e=>{if(U.value&&e._id)try{await i["g"].updateRegistro(U.value._id||U.value.id,e._id,{valores:e.valores})}catch(t){alert("Error al actualizar el registro")}},De=async(e,t)=>{if(U.value&&e._id)try{const t=await i["g"].updateRegistro(U.value._id||U.value.id,e._id,{valores:e.valores});t&&t.valores?(Object.assign(e.valores,t.valores),e._original={...t.valores}):e._original={...e.valores},await te()}catch(a){alert("Error al guardar los cambios de la fila")}},je=(e,t)=>{e.valores={...e._original},p.value++},Ne=e=>{e.valores={...e.valores},e._editando=!0,p.value++};Object(r["watch"])(()=>e.sectionName,()=>{se()}),Object(r["watch"])(l,e=>{e&&se()}),Object(r["watch"])(U,async e=>{e&&(console.log("📋 Sección cambiada, cargando registros paginados..."),await te())}),Object(r["watch"])(()=>a.tipo,e=>{"relacional"!==e&&(a.seccionRelacionada="",a.campoMostrar="")}),Object(r["watch"])(()=>a.seccionRelacionada,()=>{a.campoMostrar=""});const Te=e=>{const t=U.value.columnas[e];t.opcionesString&&(t.opciones=t.opcionesString.split(",").map(e=>e.trim()).filter(e=>e))},Ie=e=>{console.log("Archivo subido:",e)};Object(r["watch"])(()=>U.value,()=>{U.value&&Ue()});const Pe=async e=>{if(U.value)try{const t=await i["g"].createRegistro(U.value._id||U.value.id,{valores:e});U.value.datos&&Array.isArray(U.value.datos)?U.value.datos.push(t):U.value.datos=[t]}catch(t){alert("Error al agregar evento")}},Re=async e=>{if(U.value)try{await i["g"].updateRegistro(U.value._id||U.value.id,e.id,{valores:e.data});const t=U.value.datos.findIndex(t=>t._id===e.id);-1!==t&&(U.value.datos[t].valores=e.data)}catch(t){alert("Error al actualizar evento")}},Me=async e=>{if(U.value)try{await i["g"].deleteRegistro(U.value._id||U.value.id,e.id);const t=U.value.datos.findIndex(t=>t._id===e.id);-1!==t&&U.value.datos.splice(t,1)}catch(t){alert("Error al eliminar evento")}},ze=()=>{console.log("🔄 Título cambiado:",b.value),console.log("🔄 Tipo:",typeof b.value),console.log("🔄 Longitud:",b.value?b.value.length:0)},$e=e=>{console.log("🎯 Seleccionando calendario:",e.title),x.value=e,y.value=e.enabled,b.value=e.title,f.value=e.dateField,h.value=e.titleField,w.value=e.defaultColor,F.value=e.displayFields||[];const t=new Date;Ke(t.getFullYear(),t.getMonth()+1)},Le=e=>{console.log("🎯 Seleccionando calendario desde modal:",e.title),x.value=e,y.value=e.enabled,b.value=e.title,f.value=e.dateField,h.value=e.titleField,w.value=e.defaultColor,F.value=e.displayFields||[]},Be=()=>{console.log("➕ Creando nuevo calendario"),x.value=null,y.value=!0,b.value="",f.value="",h.value="",w.value="#007bff",F.value=[]},Ue=()=>{if(!U.value||!U.value.columnas)return void console.log("No se puede inicializar calendario: sección no encontrada o sin columnas");console.log("Inicializando campos del calendario..."),console.log("Columnas disponibles:",U.value.columnas);const e=U.value.calendarConfig;if(e){if(console.log("📋 Configuración guardada encontrada:",e),y.value=e.enabled||!1,b.value=e.title||"",f.value=e.dateField||"",h.value=e.titleField||"",w.value=e.defaultColor||"#007bff",F.value=e.displayFields||[],console.log("✅ Configuración cargada:",{enabled:y.value,title:b.value,dateField:f.value,titleField:h.value,displayFields:F.value}),y.value){const e=new Date;Ke(e.getFullYear(),e.getMonth()+1)}}else{console.log("No hay configuración guardada, usando configuración por defecto");const e=U.value.columnas.find(e=>{const t="string"===typeof e?{nombre:e,tipo:"texto"}:e;return"fecha"===t.tipo});e?(f.value="string"===typeof e?e:e.nombre,console.log("Campo de fecha encontrado:",f.value)):console.log("No se encontró campo de fecha");const t=U.value.columnas.find(e=>{const t="string"===typeof e?{nombre:e,tipo:"texto"}:e;return"texto"===t.tipo});t?(h.value="string"===typeof t?t:t.nombre,console.log("Campo de título encontrado:",h.value)):console.log("No se encontró campo de título")}console.log("Estado final del calendario:"),console.log("- Habilitado:",y.value),console.log("- Campo fecha:",f.value),console.log("- Campo título:",h.value)},Ve=()=>{if(y.value){const e=new Date;Ke(e.getFullYear(),e.getMonth()+1)}else f.value="",h.value="",b.value="",F.value=[],w.value="#007bff"},qe=async()=>{if(U.value){if(y.value){console.log("🔍 Validando configuración del calendario:"),console.log("- Título (tipo):",typeof b.value),console.log("- Título (valor):",b.value),console.log("- Título (longitud):",b.value?b.value.length:0),console.log("- Campo fecha:",f.value),console.log("- Campo título:",h.value);const e=!b.value||""===b.value.trim(),t=!f.value,a=!h.value;if(console.log("- Título vacío:",e),console.log("- Fecha vacía:",t),console.log("- Campo título vacío:",a),e||t||a){let o=[];return e&&o.push("título del calendario"),t&&o.push("campo de fecha"),a&&o.push("campo de título"),void alert("Por favor completa: "+o.join(", "))}}try{console.log("💾 Guardando configuración del calendario..."),console.log("Configuración:",{seccionId:U.value._id||U.value.id,seccionNombre:U.value.nombre,title:b.value,enabled:y.value,dateField:f.value,titleField:h.value,defaultColor:w.value,displayFields:F.value}),U.value.calendarConfig={seccionId:U.value._id||U.value.id,seccionNombre:U.value.nombre,title:b.value,enabled:y.value,dateField:f.value,titleField:h.value,defaultColor:w.value,displayFields:F.value};const e=await i["g"].saveCalendarConfig(U.value._id||U.value.id,{seccionId:U.value._id||U.value.id,seccionNombre:U.value.nombre,title:b.value,enabled:y.value,dateField:f.value,titleField:h.value,defaultColor:w.value,displayFields:F.value});console.log("✅ Configuración guardada en el servidor:",e),_.value=!1;const t=y.value?"Calendario habilitado y configurado correctamente":"Calendario deshabilitado correctamente";alert(t),await ee(),setTimeout(()=>{const e=U.value&&U.value.calendarConfig;e?console.log("🔍 Verificación: Configuración actual en la sección:",e):console.warn("⚠️ Advertencia: No se encontró configuración después de guardar")},1e3)}catch(e){console.error("❌ Error al guardar configuración del calendario:",e),alert("Error al guardar la configuración: "+(e.message||"Error desconocido"))}}else alert("No se encontró la sección actual")},Ke=async(e,t)=>{if(y.value&&U.value){C.value=!0;try{console.log("📅 Cargando datos del calendario..."),console.log("Sección:",U.value._id||U.value.id),console.log("Mes:",t),console.log("Año:",e),console.log("Título del calendario:",b.value);const a={month:t,year:e};b.value&&b.value.trim()&&(a.name=b.value),console.log("Parámetros de búsqueda:",a);const o=await i["g"].getCalendarData(U.value._id||U.value.id,a);console.log("✅ Respuesta del servidor:",o);const n=o&&o.data?o.data:[];S.value=n,console.log("📅 Datos del calendario procesados:",n),A.value=new Date(e,t-1,1)}catch(a){console.error("❌ Error cargando datos del calendario:",a)}finally{C.value=!1}}},He=()=>{console.log("🧹 Limpiando estado del calendario..."),S.value=[],W.value=[],y.value=!1,f.value="",h.value="",b.value="",F.value=[],x.value=null,E.value=[],v.value="table"},Ge=async()=>{if(U.value)try{console.log("📅 Cargando configuraciones de calendario..."),console.log("Sección:",U.value._id||U.value.id);const e=await i["g"].getCalendarConfigs(U.value._id||U.value.id),t=e&&e.data?e.data:e||[];E.value=t,console.log("✅ Configuraciones de calendario cargadas:",E.value),console.log("📊 Total de calendarios:",E.value.length);const a=E.value.filter(e=>e.enabled);if(a.length>0){const e=a[0];console.log("🎯 Cargando primer calendario habilitado:",e.title),y.value=e.enabled,b.value=e.title,f.value=e.dateField,h.value=e.titleField,w.value=e.defaultColor,F.value=e.displayFields||[];const t=new Date;Ke(t.getFullYear(),t.getMonth()+1)}}catch(e){console.error("❌ Error cargando configuraciones de calendario:",e),E.value=[]}};return Object(r["onMounted"])(async()=>{console.log("🚀 Inicializando componente..."),await ee(),ye(),le(),console.log("✅ Componente inicializado")}),Object(r["watch"])(U,async e=>{e&&(He(),await Ge())}),Object(r["watch"])(_,e=>{e&&Ue()}),{secciones:t,seccionActual:U,nuevoCampo:a,nuevaFila:o,showClearModal:n,showFieldsModal:s,otrasSecciones:V,calendarTitle:b,agregarCampo:ce,agregarFila:ue,eliminarFila:pe,eliminarCampo:ve,guardarCambiosCampo:me,exportarSeccion:ge,limpiarSeccion:fe,confirmarLimpiarSeccion:he,guardarSeccion:be,getOpcionesRelacionadas:_e,limpiarFormularioCampo:le,puedeAgregarCampo:K,camposSeccionRelacionada:q,getTipoTexto:Ce,getTipoClase:we,mostrarOpciones:Ae,ocultarOpciones:Fe,filtrarOpciones:Ee,filtrarOpcionesNuevaFila:xe,seleccionarOpcion:Se,seleccionarOpcionNuevaFila:ke,opcionesVisibles:k,opcionesFiltradas:O,campoAcordeonAbierto:c,mensajeExitoCampo:u,cargando:d,actualizarRegistro:Oe,guardarFilaEditada:De,revertirFila:je,onFocusOut:Ne,refreshKey:p,filaEditando:D,currentView:v,hasDateField:H,hasCalendarConfigs:G,calendarEvents:W,dateFieldName:f,titleFieldName:h,availableFieldsForCalendar:X,calendarEnabled:y,showCalendarSettings:_,calendarLoading:C,defaultEventColor:w,selectedDisplayFields:F,dateFields:Z,textFields:J,addCalendarEvent:Pe,updateCalendarEvent:Re,deleteCalendarEvent:Me,toggleCalendar:Ve,saveCalendarSettings:qe,loadCalendarData:Ke,loadCalendarConfigs:Ge,clearCalendarState:He,initializeCalendarFields:Ue,onTitleChange:ze,selectCalendar:$e,selectCalendarFromModal:Le,createNewCalendar:Be,calendarData:S,calendarConfigs:E,selectedCalendar:x,currentView:v,hasDateField:H,calendarEvents:W,dateFieldName:f,titleFieldName:h,availableFieldsForCalendar:X,calendarEnabled:y,showCalendarSettings:_,calendarLoading:C,defaultEventColor:w,selectedDisplayFields:F,dateFields:Z,textFields:J,addCalendarEvent:Pe,updateCalendarEvent:Re,deleteCalendarEvent:Me,toggleCalendar:Ve,saveCalendarSettings:qe,loadCalendarData:Ke,actualizarOpcionesSelect:Te,registros:j,pagination:N,filters:T,loading:I,cargarRegistrosPaginados:te,aplicarFiltros:ae,cambiarPagina:oe,getValorCampo:Q,setValorCampo:Y,filtrosAbiertos:L,filtrosActivos:B,toggleFiltros:ne,limpiarFiltros:ie,showAddModal:l,agregarFilaDesdeModal:de,onFilesUploaded:Ie}}},M=R,z=(a("3120"),Object(d["a"])(M,o,n,!1,null,"95ea1090",null));t["default"]=z.exports},e753:function(e,t,a){},ed18:function(e,t,a){"use strict";a("8a7f")},eefa:function(e,t,a){},f8ac:function(e,t,a){},fa4a:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var o=a("2b0e"),n=a("b9d1");const r=()=>{const e=Object(o["ref"])([]),t=Object(o["ref"])({}),a=Object(o["ref"])({}),r=Object(o["ref"])(!1),i=async(o,i={})=>{r.value=!0;try{const s={page:i.page||1,limit:i.limit||10,sortBy:i.sortBy||"createdAt",sortOrder:i.sortOrder||"desc"};i.filters&&Object.keys(i.filters).length>0&&(s.filters=i.filters),console.log("🔍 Enviando petición con parámetros:",{seccionId:o,queryParams:s});const l=await n["g"].getRegistrosPaginados(o,s);console.log("✅ Respuesta recibida:",l),e.value=l.data,t.value=l.pagination,a.value=l.filters}catch(s){console.error("❌ Error cargando registros:",s)}finally{r.value=!1}};return{registros:e,pagination:t,filters:a,loading:r,cargarRegistros:i}}}}]);