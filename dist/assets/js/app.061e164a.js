(function(t){function a(a){for(var s,i,c=a[0],r=a[1],l=a[2],d=0,u=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);p&&p(a);while(u.length)u.shift()();return n.push.apply(n,l||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],s=!0,i=1;i<e.length;i++){var c=e[i];0!==o[c]&&(s=!1)}s&&(n.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},i={app:0},o={app:0},n=[];function c(t){return r.p+"assets/js/"+({}[t]||t)+"."+{"chunk-2d067b96":"3ac464b0","chunk-2d219ff9":"aa1513ee","chunk-cd879d44":"e1089ecf"}[t]+".js"}function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.e=function(t){var a=[],e={"chunk-2d067b96":1,"chunk-cd879d44":1};i[t]?a.push(i[t]):0!==i[t]&&e[t]&&a.push(i[t]=new Promise((function(a,e){for(var s="assets/css/"+({}[t]||t)+"."+{"chunk-2d067b96":"f3b34b67","chunk-2d219ff9":"31d6cfe0","chunk-cd879d44":"b6ef748b"}[t]+".css",o=r.p+s,n=document.getElementsByTagName("link"),c=0;c<n.length;c++){var l=n[c],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===s||d===o))return a()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){l=u[c],d=l.getAttribute("data-href");if(d===s||d===o)return a()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=a,p.onerror=function(a){var s=a&&a.target&&a.target.src||o,n=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=s,delete i[t],p.parentNode.removeChild(p),e(n)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){i[t]=0})));var s=o[t];if(0!==s)if(s)a.push(s[2]);else{var n=new Promise((function(a,e){s=o[t]=[a,e]}));a.push(s[2]=n);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,r.nc&&d.setAttribute("nonce",r.nc),d.src=c(t);var u=new Error;l=function(a){d.onerror=d.onload=null,clearTimeout(p);var e=o[t];if(0!==e){if(e){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;u.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",u.name="ChunkLoadError",u.type=s,u.request=i,e[1](u)}o[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(a)},r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/crms-front/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=a,l=l.slice();for(var u=0;u<l.length;u++)a(l[u]);var p=d;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0495":function(t,a,e){},"04fa":function(t,a,e){"use strict";e("158c")},"06bd":function(t,a,e){"use strict";e("6908")},"06eb":function(t,a,e){},"078e":function(t,a,e){},"0e00":function(t,a,e){},"125a":function(t,a,e){"use strict";e("580a")},"158c":function(t,a,e){},"198f":function(t,a,e){},"19f6":function(t,a,e){"use strict";e.d(a,"f",(function(){return n}));var s=e("cee4"),i=(e("1cfd"),e("b9d1"));e.d(a,"a",(function(){return i["b"]})),e.d(a,"c",(function(){return i["d"]})),e.d(a,"e",(function(){return i["h"]})),e.d(a,"d",(function(){return i["e"]}));const o=s["a"].create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/crms-front/"}).VUE_APP_API_URL||"https://crms-back.onrender.com",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});function n(t){t?o.defaults.headers["x-tenant-id"]=t:delete o.defaults.headers["x-tenant-id"]}o.interceptors.request.use(t=>{const a=localStorage.getItem("authToken");return a&&(t.headers.Authorization="Bearer "+a),console.log("Tenant header:",t.headers["x-tenant-id"]),console.log("Request:",t.method&&t.method.toUpperCase(),t.url),t},t=>(console.error("Request error:",t),Promise.reject(t))),o.interceptors.response.use(t=>(console.log("Response:",t.status,t.config.url),t),t=>(console.error("Response error:",t.response&&t.response.status,t.response&&t.response.data),t.response&&401===t.response.status&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(t))),a["b"]=o},"1cfd":function(t,a,e){"use strict";e.d(a,"c",(function(){return o})),e.d(a,"b",(function(){return n}));var s=e("19f6");class i{async get(t,a={}){try{const e=await s["b"].get(t,{params:a});return e.data}catch(e){throw console.error("GET Request Error:",e),e}}async post(t,a={}){try{const e=await s["b"].post(t,a);return e.data}catch(e){throw console.error("POST Request Error:",e),e}}async put(t,a={}){try{const e=await s["b"].put(t,a);return e.data}catch(e){throw console.error("PUT Request Error:",e),e}}async patch(t,a={}){try{const e=await s["b"].patch(t,a);return e.data}catch(e){throw console.error("PATCH Request Error:",e),e}}async delete(t){try{const a=await s["b"].delete(t);return a.data}catch(a){throw console.error("DELETE Request Error:",a),a}}async upload(t,a){try{const e=await s["b"].post(t,a,{headers:{"Content-Type":"multipart/form-data"}});return e.data}catch(e){throw console.error("Upload Error:",e),e}}}function o(t){return s["b"].post("/usuarios",t)}function n(t){return s["b"].post("/plataformas",t)}a["a"]=new i},"21ae":function(t,a,e){"use strict";e("f912")},"285e":function(t,a,e){},"28e6":function(t,a,e){},"2f60":function(t,a,e){},3105:function(t,a,e){"use strict";e("c83f")},3488:function(t,a,e){"use strict";e("cd2f")},"37c9":function(t,a,e){"use strict";e("285e")},"3b19":function(t,a,e){"use strict";e("c5b7")},"3b23":function(t,a,e){"use strict";e("5eed")},"3b84":function(t,a,e){t.exports=e.p+"assets/img/word.5656a2c2.png"},"3d58":function(t,a,e){},"42e2":function(t,a,e){"use strict";e("3d58")},4502:function(t,a,e){},"4c8b":function(t,a,e){t.exports=e.p+"assets/img/png.559c2422.png"},"4caf":function(t,a,e){"use strict";e("0495")},5469:function(t,a,e){"use strict";e("078e")},"56d7":function(t,a,e){"use strict";e.r(a);var s=e("2b0e"),i=function(){var t=this,a=t._self._c;return a("div",{class:{"nav-open":t.$sidebar.showSidebar}},[a("notifications"),a("router-view")],1)},o=[],n=e("bc7b"),c=e("1494"),r=e("6a92"),l=e("dcc1");const d={apiKey:"AIzaSyBH82lLEp3xdP_HUHLQCaxhuXxmsPBiC3Y",authDomain:"crms-77a2a.firebaseapp.com",projectId:"crms-77a2a",storageBucket:"crms-77a2a.firebasestorage.app",messagingSenderId:"271168750908",appId:"1:271168750908:web:8451900eb335f742204a39"},u=Object(n["a"])(d),p=Object(c["f"])(u),m=(Object(l["a"])(u),Object(r["d"])(u));var v=e("be8c"),f={data(){return{casosSinAsignar:0,casosSinPresupuesto:0,clientesLlamar:0,isAuthenticated:!1,userData:JSON.parse(localStorage.getItem("userInform")),unsuscribeCasosSinAsignar:null,unsuscribeCasosSinPresupuesto:null,unsuscribeClientesLlamar:null}},watch:{isAuthenticated(t){t&&this.userData&&this.userData.admin&&!0===this.userData.admin?this.suscribirseEscuchadores():this.desuscribirseEscuchadores()}},mounted(){this.checkLogIn()},beforeDestroy(){this.desuscribirseEscuchadores()},methods:{checkLogIn(){const t=Object(v["b"])();Object(v["c"])(t,t=>{this.isAuthenticated=!!t})},suscribirseEscuchadores(){console.log("Suscribiendo a los escuchadores...");const t=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("telEspecialista","==",null),Object(c["m"])("status","==","0"),Object(c["m"])("confirmaCaso","==","1"));this.unsuscribeCasosSinAsignar=Object(c["h"])(t,t=>{t.docs.length>this.casosSinAsignar&&this.mostrarNotificacion("Caso sin asignar","Debes asignar un especialista"),this.casosSinAsignar=t.docs.length});const a=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("status","==","1"));this.unsuscribeCasosSinPresupuesto=Object(c["h"])(a,t=>{t.docs.length>this.casosSinPresupuesto&&this.mostrarNotificacion("Cliente sin presupuesto","Se debe enviar un presupuesto al cliente"),this.casosSinPresupuesto=t.docs.length});const e=Object(c["j"])(Object(c["b"])(p,"clientes"),Object(c["m"])("confirmaCaso","==","0"));this.unsuscribeClientesLlamar=Object(c["h"])(e,t=>{t.docs.length>this.clientesLlamar&&this.mostrarNotificacion("Llamar a cliente","Se necesita confirmar la especialidad para el cliente"),this.clientesLlamar=t.docs.length})},desuscribirseEscuchadores(){console.log("Desuscribiendo de los escuchadores..."),this.unsuscribeCasosSinAsignar&&this.unsuscribeCasosSinAsignar(),this.unsuscribeCasosSinPresupuesto&&this.unsuscribeCasosSinPresupuesto(),this.unsuscribeClientesLlamar&&this.unsuscribeClientesLlamar()},mostrarNotificacion(t,a){if("granted"===Notification.permission){const e=new Notification(t,{body:a,appName:"Crms",icon:"./src/img/vue-logo.png"});e.onclick=function(t){console.log("Notificación clicada",t)}}else"denied"!==Notification.permission&&Notification.requestPermission().then(e=>{"granted"===e&&this.mostrarNotificacion(t,a)})}}},C=f,b=(e("21ae"),e("2877")),g=Object(b["a"])(C,i,o,!1,null,null,null),h=g.exports,_=e("8c4f"),y=function(){var t=this,a=t._self._c;return a("div",[t.authState.isAuthenticated?a("div",{staticClass:"wrapper"},[a("side-bar",{staticStyle:{background:"#0f2a24"}},[a("template",{slot:"links"},[t._l(t.routesWithoutChildren,(function(e,s){return a("sidebar-link",{key:s,class:t.currentPage===s?"currentPage":"",style:{display:t.needShow(e.path)?"block":"none"},attrs:{to:e.path,name:e.name}})})),t._l(t.crmRoutes,(function(e,s){return a("sidebar-link",{key:"crm-"+s,class:t.currentPage===t.getCrmRouteIndex(e.path)?"currentPage":"",style:{display:t.needShow(e.path)?"block":"none"},attrs:{to:e.path,name:e.name}})})),a("div",{staticClass:"mt-2",staticStyle:{width:"100%"},on:{click:t.logout}},[a("sidebar-link",{attrs:{to:"/",name:"Desconectarse"}})],1)],2),a("mobile-menu")],2),a("div",{staticClass:"main-panel"},[t.isMobile?a("div",{staticClass:"mobile-buttons"},[a("button",{staticClass:"btn btn-primary mobile-menu-button",attrs:{type:"button","aria-label":"Menú",title:"Menú"},on:{click:t.toggleSidebarVisibility}},[a("i",{staticClass:"ti-menu"})])]):t._e(),a("router-view"),a("content-footer")],1)],1):a("div",[a("router-view")],1)])},w=[],k=function(){var t=this,a=t._self._c;return a("footer",{staticClass:"footer"},[a("div",{staticClass:"container-fluid d-flex flex-wrap justify-content-center align-items-center"},[a("div",{staticClass:"footer-brand"},[a("img",{staticClass:"footer-logo",attrs:{src:"/favicon.svg",alt:"CRMS Logo"}}),a("span",{staticClass:"footer-text"},[t._v("CRMS")]),a("span",{staticClass:"trademark"},[t._v("®")]),a("span",{staticClass:"year"},[t._v(t._s(t.currentYear))])]),t._m(0)])])},A=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"footer-version"},[a("span",{staticClass:"version-text"},[t._v("v 19.06.25")])])}],x={computed:{currentYear(){return(new Date).getFullYear()}}},S=x,O=(e("d61b"),Object(b["a"])(S,k,A,!1,null,"e124956a",null)),D=O.exports,P=function(){var t=this,a=t._self._c;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid card py-4",staticStyle:{overflow:"scroll"}},[a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)])},j=[],E={},N=E,T=(e("4caf"),Object(b["a"])(N,P,j,!1,null,null,null)),I=T.exports,F=function(){var t=this,a=t._self._c;return a("ul",{staticClass:"nav navbar-nav nav-mobile-menu"},[t._t("default")],2)},$=[],M={},L=M,R=Object(b["a"])(L,F,$,!1,null,null,null),z=R.exports,B=e("b9d1"),U={components:{ContentFooter:D,DashboardContent:I,MobileMenu:z},data(){return{dataUser:null,currentPage:0,lastLogin:null,authState:{isAuthenticated:!1,user:null},isMobile:!1,routesWatch:[],crmSections:[],routes:[{path:"/crm-dinamico",name:"CRM Dinámico",icon:"ti-settings"}],routesWithChildren:[],openDropdowns:[],crmRoutes:[]}},computed:{routesWithoutChildren(){return this.routes.filter(t=>!t.children)}},methods:{toggleSidebar(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)},toggleSidebarVisibility(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)},updateIsMobile(){this.isMobile=window.innerWidth<=992},needShow(t){if("#"===t||void 0===t)return!0;if("/crm-dinamico"===t)return!0;if(t.startsWith("/crm-seccion/"))return!0;const a=t.replace("/","");return this.routesWatch.some(t=>t.path===a&&!0===t.visibility)},logout(){const t=Object(v["b"])();Object(v["e"])(t).then(()=>{this.authState.isAuthenticated=!1,this.authState.user=null,localStorage.removeItem("userInform"),this.$router.push("/login")}).catch(t=>{console.error("Error al hacer logout:",t)})},async checkLogIn(){const t=await Object(v["b"])(),a=Object(c["f"])();Object(v["c"])(t,async t=>{this.authState.isAuthenticated=!!t,this.authState.user=t,await Object(c["k"])(Object(c["d"])(a,"users",t.uid),{email:t.email,lastLogin:(new Date).toISOString()},{merge:!0}),this.dataUser=JSON.parse(localStorage.getItem("userInform"))?JSON.parse(localStorage.getItem("userInform")):t,setTimeout(()=>{const t=localStorage.getItem("userInform");this.routesWatch=t&&JSON.parse(t).routes||[]},"200")})},separateRoutes(){this.routesWithChildren=this.routes.filter(t=>t.children&&t.children.length>0)},getRouteIndex(t){for(let a=0;a<this.routesWithChildren.length;a++){const e=this.routesWithChildren[a];if(e.children){const s=e.children.findIndex(a=>a.path===t);if(-1!==s)return a}}return-1},toggleDropdown(t){this.openDropdowns.includes(t)?this.openDropdowns=this.openDropdowns.filter(a=>a!==t):this.openDropdowns.push(t)},checkAutoOpenDropdown(){const t=this.$route.path;for(let a=0;a<this.routesWithChildren.length;a++){const e=this.routesWithChildren[a];if(e.children){const s=e.children.some(a=>a.path===t);s&&!this.openDropdowns.includes(a)&&this.openDropdowns.push(a)}}},async loadCrmSections(){try{const t=await B["g"].getAll();if(this.crmSections=Array.isArray(t)?t:t.data||[],this.generateCrmRoutes(),"/crm-dinamico"===this.$route.path&&this.crmSections.length>0){const t=this.crmSections[0],a="/crm-seccion/"+this.sanitizePath(t.nombre);this.$router.push(a)}}catch(t){this.crmSections=[],this.crmRoutes=[],console.error("Error al cargar secciones del CRM:",t)}},generateCrmRoutes(){this.crmRoutes=this.crmSections.map(t=>({path:"/crm-seccion/"+this.sanitizePath(t.nombre),name:t.nombre,icon:"ti-folder",sectionId:t._id||t.id||t.nombre}))},sanitizePath(t){return t.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")},getCrmRouteIndex(t){return this.crmRoutes.findIndex(a=>a.path===t)}},async mounted(){this.currentPage=this.routes.findIndex(t=>t.path===this.$route.path),this.separateRoutes(),this.checkAutoOpenDropdown(),await this.loadCrmSections(),this.checkLogIn(),this.updateIsMobile(),window.addEventListener("resize",this.updateIsMobile),setTimeout(()=>{this.loadCrmSections()},500),window.addEventListener("storage",t=>{"crmSecciones"===t.key&&this.loadCrmSections()}),window.addEventListener("crmSectionsUpdated",()=>{this.loadCrmSections()})},beforeDestroy(){window.removeEventListener("resize",this.updateIsMobile)},watch:{$route(t,a){console.log("Te encuentras en la URL: ",t.fullPath),this.currentPage=this.routes.findIndex(a=>a.path===t.path),this.checkAutoOpenDropdown();const e=this.getCrmRouteIndex(t.path);-1!==e&&(this.currentPage=e)},"authState.isAuthenticated"(t){t&&this.checkLogIn()}}},q=U,V=(e("5469"),Object(b["a"])(q,y,w,!1,null,null,null)),H=V.exports,G=function(){var t=this,a=t._self._c;return a("div",{staticClass:"contact-us full-screen"},[a("nav",{staticClass:"navbar navbar-ct-default",attrs:{role:"navigation-demo"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-header"},[t._m(0),a("router-link",{staticClass:"navbar-brand",attrs:{to:{path:"/"}}},[t._v("Site title")])],1),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navigation-example-2"}},[a("ul",{staticClass:"nav navbar-nav navbar-right"},[a("li",[a("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1)])])])]),t._m(1),a("footer",{staticClass:"footer-demo"},[a("div",{staticClass:"container"},[a("nav",{staticClass:"pull-left"},[a("ul",[a("li",[a("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1),a("li",[a("router-link",{attrs:{to:{path:"/register"}}},[t._v("Register")])],1)])]),t._m(2)])])])},J=[function(){var t=this,a=t._self._c;return a("button",{staticClass:"navbar-toggle",attrs:{type:"button","data-toggle":"collapse","data-target":"#navigation-example-2"}},[a("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"wrapper wrapper-full-page section content"},[a("div",{},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-md-offset-2 text-center"},[a("h2",{staticClass:"title text-danger"},[t._v("404 Not Found")]),a("h2",{staticClass:"title"},[t._v("\n              Oops! It seems that this page does not exist.\n            ")])])])])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"copyright pull-right"},[t._v("\n        © 2017, made with\n        "),a("i",{staticClass:"fa fa-heart heart"}),t._v(" by Paper admin\n      ")])}],Q={},Y=Q,W=Object(b["a"])(Y,G,J,!1,null,null,null),K=W.exports,Z=function(){var t=this,a=t._self._c;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 col-xl-3",on:{click:function(a){return t.$router.push({path:"listado-clientes-llamar",query:{llamada:"1"}})}}},[a("stats-card",[a("div",{staticClass:"icon-big text-center",attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"ti-pulse"})]),a("div",{staticClass:"numbers",attrs:{slot:"content"},slot:"content"},[a("p",[t._v("Clientes para llamar")]),t._v("\n          "+t._s(t.clientesLlamar)+"\n        ")])])],1),a("div",{staticClass:"col-md-6 col-xl-3",on:{click:function(a){return t.$router.push({name:"casos-sin-asignar"})}}},[a("stats-card",[a("div",{staticClass:"icon-big text-center",attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"ti-pulse"})]),a("div",{staticClass:"numbers",attrs:{slot:"content"},slot:"content"},[a("p",[t._v("Casos sin asignar")]),t._v("\n          "+t._s(t.casosSinAsignar)+"\n        ")])])],1),a("div",{staticClass:"col-md-6 col-xl-3",on:{click:function(a){return t.$router.push({name:"clientes-sin-presupuesto"})}}},[a("stats-card",{on:{click:function(a){return t.$router.push({name:"ClientesSinPresupuesto"})}}},[a("div",{staticClass:"icon-big text-center",attrs:{slot:"header"},slot:"header"},[a("i",{staticClass:"ti-pulse"})]),a("div",{staticClass:"numbers",attrs:{slot:"content"},slot:"content"},[a("p",[t._v("Clientes sin presupuesto")]),t._v("\n          "+t._s(t.clientesSinPresupuesto)+"\n        ")])])],1)]),a("div",{staticClass:"q-mt-xl"},[a("div",{staticClass:"row items-center q-mb-md",staticStyle:{"align-items":"center"}},[a("button",{staticClass:"btn btn-light",staticStyle:{"font-size":"1.5em"},on:{click:function(a){return t.cambiarMes(-1)}}},[t._v("←")]),a("span",{staticClass:"text-h6 q-mx-md",staticStyle:{margin:"0 16px"}},[t._v("\n        "+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual)+"\n      ")]),a("button",{staticClass:"btn btn-light",staticStyle:{"font-size":"1.5em"},on:{click:function(a){return t.cambiarMes(1)}}},[t._v("→")])]),a("div",{staticClass:"text-h5 text-center"},[t._v("Casos cerrados "+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual)+": "),a("b",[t._v(t._s(t.casosMes))])]),a("div",{staticClass:"q-mt-lg distribucion-row"},[a("div",{staticClass:"distribucion-col"},[a("h6",{staticClass:"text-center"},[t._v("Distribución por comunidad "+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual))]),a("div",{staticClass:"barh-chart"},t._l(t.comunidadesOrdenadas,(function(e,s){return a("div",{key:"barh-"+s,staticClass:"barh-item"},[a("span",{staticClass:"barh-label"},[t._v(t._s(e.nombre))]),a("div",{staticClass:"barh-bar-wrap"},[a("div",{staticClass:"barh-bar",style:{width:18*e.valor+"px"}}),a("span",{staticClass:"barh-value"},[t._v(t._s(e.valor))])])])})),0)]),a("div",{staticClass:"distribucion-col"},[a("h6",{staticClass:"text-center"},[t._v("Distribución por perito "+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual))]),a("div",{staticClass:"barh-chart"},t._l(t.distribucionPeritos,(function(e,s){return a("div",{key:"barh-perito-"+s,staticClass:"barh-item"},[a("span",{staticClass:"barh-label"},[t._v(t._s(e.nombre)+" "+t._s(e.apellidos))]),a("div",{staticClass:"barh-bar-wrap"},[a("div",{staticClass:"barh-bar",style:{width:18*e.valor+"px",background:"#43a047"}}),a("span",{staticClass:"barh-value"},[t._v(t._s(e.valor))])])])})),0)])]),a("div",{staticClass:"distribucion-row"},[a("div",{staticClass:"distribucion-col q-mt-lg",staticStyle:{"max-width":"400px",margin:"60px auto 0"}},[a("h6",{staticClass:"text-center"},[t._v("Distribución por tipo de cliente ("+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual)+")")]),a("div",{staticClass:"pie-chart-wrap"},[a("div",{staticClass:"pie-chart",style:t.pieChartStyle}),a("div",{staticClass:"pie-legend"},[a("div",[a("span",{staticClass:"pie-dot pie-particular"}),t._v(" Particular: "+t._s(t.pieData.particular))]),a("div",[a("span",{staticClass:"pie-dot pie-despacho"}),t._v(" Despacho: "+t._s(t.pieData.despacho))])])])]),a("div",{staticClass:"distribucion-col q-mt-lg",staticStyle:{"max-width":"400px",margin:"60px auto 0"}},[a("h6",{staticClass:"text-center"},[t._v("Distribución por especialidad ("+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual)+")")]),a("div",{staticClass:"pie-chart-wrap"},[a("div",{staticClass:"pie-chart",style:t.pieEspecialidadesStyle}),a("div",{staticClass:"pie-legend"},t._l(t.pieEspecialidades,(function(e,s){return a("div",{key:"esp-"+s},[a("span",{staticClass:"pie-dot",style:{background:t.pieColors[s%t.pieColors.length]}}),t._v("\n              "+t._s(e.nombre)+": "+t._s(e.valor)+"\n            ")])})),0)])])]),a("div",{staticClass:"q-mt-lg",staticStyle:{"max-width":"600px",margin:"60px auto 0"}},[a("h6",{staticClass:"text-center"},[t._v("Top Despachos ("+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual)+")")]),a("div",{staticClass:"barh-chart"},t._l(t.topDespachos,(function(e,s){return a("div",{key:"desp-"+s,staticClass:"barh-item"},[a("span",{staticClass:"barh-label"},[t._v(t._s(e.nombre))]),a("div",{staticClass:"barh-bar-wrap"},[a("div",{staticClass:"barh-bar",style:{width:18*e.valor+"px",background:"#9c27b0"}}),a("span",{staticClass:"barh-value"},[t._v(t._s(e.valor))])])])})),0)]),a("div",{staticClass:"text-h5 mt-5"},[t._v("Graficos de casos cerrados últimos 6 meses")]),a("div",{staticClass:"q-mt-md",staticStyle:{"max-width":"700px",margin:"40px auto 0"}},[a("div",{staticClass:"bar-chart"},t._l(t.casosUltimos6Meses.datasets[0].data,(function(e,s){return a("div",{key:s,staticClass:"bar-item"},[a("div",{staticClass:"bar-value",staticStyle:{"margin-bottom":"4px"}},[t._v(t._s(e))]),a("div",{staticClass:"bar",style:{height:6*e+10+"px"},attrs:{title:e}}),a("div",{staticClass:"bar-label"},[t._v(t._s(t.casosUltimos6Meses.labels[s]))])])})),0)])])])},X=[],tt=function(){var t=this,a=t._self._c;return a("div",{staticClass:"form-group",class:{"input-group":t.hasIcon}},[t._t("label",(function(){return[t.label?a("label",{staticClass:"control-label"},[t._v("\n      "+t._s(t.label)+"\n    ")]):t._e()]})),t._t("addonLeft",(function(){return[t.addonLeftIcon?a("span",{staticClass:"input-group-prepend"},[a("i",{staticClass:"input-group-text",class:t.addonLeftIcon})]):t._e()]})),a("input",t._b({staticClass:"form-control",attrs:{"aria-describedby":"addon-right addon-left"},domProps:{value:t.value},on:{input:function(a){return t.$emit("input",a.target.value)}}},"input",t.$attrs,!1)),t._t("default"),t._t("addonRight",(function(){return[t.addonRightIcon?a("span",{staticClass:"input-group-append"},[a("i",{staticClass:"input-group-text",class:t.addonRightIcon})]):t._e()]}))],2)},at=[],et={inheritAttrs:!1,name:"fg-input",props:{label:String,value:[String,Number],addonRightIcon:String,addonLeftIcon:String},computed:{hasIcon(){const{addonRight:t,addonLeft:a}=this.$slots;return void 0!==t||void 0!==a||void 0!==this.addonRightIcon||void 0!==this.addonLeftIcon}}},st=et,it=Object(b["a"])(st,tt,at,!1,null,null,null),ot=it.exports,nt=function(){var t=this,a=t._self._c;return a(t.tag,{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],tag:"component",staticClass:"dropdown",class:{show:t.isOpen},on:{click:t.toggleDropDown}},[a("a",{staticClass:"dropdown-toggle btn-rotate",class:t.titleClasses,attrs:{"data-toggle":"dropdown"}},[t._t("title",(function(){return[a("i",{class:t.icon}),a("span",{staticClass:"notification"},[t._v(t._s(t.title)+"\n        "),a("b",{staticClass:"caret"})])]}))],2),a("ul",{staticClass:"dropdown-menu",class:{show:t.isOpen}},[t._t("default")],2)])},ct=[],rt={props:{tag:{type:String,default:"li"},title:String,icon:String,titleClasses:[String,Object,Array]},data(){return{isOpen:!1}},methods:{toggleDropDown(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},closeDropDown(){this.isOpen=!1,this.$emit("change",!1)}}},lt=rt,dt=Object(b["a"])(lt,nt,ct,!1,null,null,null),ut=dt.exports,pt=function(){var t=this,a=t._self._c;return a("table",{staticClass:"table",class:t.tableClass},[a("thead",[t._t("columns",(function(){return t._l(t.columns,(function(e){return a("th",{key:e},[t._v(t._s(e))])}))}))],2),a("tbody",t._l(t.data,(function(e,s){return a("tr",{key:s},[t._t("default",(function(){return t._l(t.columns,(function(s,i){return t.hasValue(e,s)?a("td",{key:i},[t._v("\n          "+t._s(t.itemValue(e,s))+"\n        ")]):t._e()}))}),{row:e})],2)})),0)])},mt=[],vt={name:"paper-table",props:{columns:Array,data:Array,type:{type:String,default:"striped"},title:{type:String,default:""},subTitle:{type:String,default:""}},computed:{tableClass(){return"table-"+this.type}},methods:{hasValue(t,a){return"undefined"!==t[a.toLowerCase()]},itemValue(t,a){return t[a.toLowerCase()]}}},ft=vt,Ct=Object(b["a"])(ft,pt,mt,!1,null,null,null),bt=Ct.exports,gt=function(){var t=this,a=t._self._c;return a(t.tag,{tag:"component",staticClass:"btn",class:[{"btn-round":t.round},{"btn-block":t.block},{"btn-just-icon":t.icon},{["btn-"+t.type]:t.type&&!t.outline},{["btn-outline-"+t.type]:t.type&&t.outline},{["btn-"+t.size]:t.size},{"btn-link":t.simple}],attrs:{type:t.nativeType,disabled:t.disabled||t.loading}},[t._t("loading",(function(){return[t.loading?a("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()]})),t._t("default")],2)},ht=[],_t={name:"p-button",props:{tag:{type:String,default:"button"},round:Boolean,icon:Boolean,outline:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,type:{type:String,default:"default"},nativeType:{type:String,default:"button"},size:{type:String,default:""},simple:Boolean}},yt=_t,wt=Object(b["a"])(yt,gt,ht,!1,null,null,null),kt=wt.exports,At=function(){var t=this,a=t._self._c;return a("div",{staticClass:"card"},[t.$slots.image?a("div",{staticClass:"card-image"},[t._t("image")],2):t._e(),t.$slots.header||t.title?a("div",{staticClass:"card-header"},[t._t("header",(function(){return[a("h4",{staticClass:"card-title"},[t._v(t._s(t.title))]),t.subTitle?a("p",{staticClass:"card-category"},[t._v(t._s(t.subTitle))]):t._e()]}))],2):t._e(),t.$slots.default?a("div",{staticClass:"card-body"},[t._t("default")],2):t._e(),t._t("raw-content"),t.$slots.footer?a("div",{staticClass:"card-footer"},[a("hr"),t._t("footer")],2):t._e()],2)},xt=[],St={name:"card",props:{title:String,subTitle:String}},Ot=St,Dt=Object(b["a"])(Ot,At,xt,!1,null,null,null),Pt=Dt.exports,jt=function(){var t=this,a=t._self._c;return a("card",[a("template",{slot:"header"},[t.$slots.title||t.title?a("h4",{staticClass:"card-title"},[t._t("title",(function(){return[t._v("\n        "+t._s(t.title)+"\n      ")]}))],2):t._e(),a("p",{staticClass:"card-category"},[t._t("subTitle",(function(){return[t._v("\n        "+t._s(t.subTitle)+"\n      ")]}))],2)]),a("div",[a("div",{staticClass:"ct-chart",attrs:{id:t.chartId}}),a("div",{staticClass:"footer"},[a("div",{staticClass:"chart-legend"},[t._t("legend")],2),a("hr"),a("div",{staticClass:"stats"},[t._t("footer")],2),a("div",{staticClass:"pull-right"})])])],2)},Et=[],Nt={name:"chart-card",components:{Card:Pt},props:{footerText:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""},chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:()=>({})},chartData:{type:Object,default:()=>({labels:[],series:[]})}},data(){return{chartId:"no-id"}},methods:{initChart(t){const a="#"+this.chartId;t[this.chartType](a,this.chartData,this.chartOptions)},updateChartId(){const t=(new Date).getTime().toString(),a=this.getRandomInt(0,t);this.chartId="div_"+a},getRandomInt(t,a){return Math.floor(Math.random()*(a-t+1))+t}},mounted(){this.updateChartId(),e.e("chunk-2d219ff9").then(e.t.bind(null,"ba48",7)).then(t=>{let a=t.default||t;this.$nextTick(()=>{this.initChart(a)})})}},Tt=Nt,It=Object(b["a"])(Tt,jt,Et,!1,null,null,null),Ft=It.exports,$t=function(){var t=this,a=t._self._c;return a("card",[a("div",[a("div",{staticClass:"row"},[t.$slots.header?a("div",{staticClass:"col-5"},[t._t("header")],2):t._e(),t.$slots.content?a("div",{staticClass:"col-7"},[t._t("content")],2):t._e()]),t.$slots.footer?a("div",[a("hr"),t._t("footer")],2):t._e()])])},Mt=[],Lt={name:"stats-card",components:{Card:Pt}},Rt=Lt,zt=Object(b["a"])(Rt,$t,Mt,!1,null,null,null),Bt=zt.exports,Ut=function(){var t=this,a=t._self._c;return a("div",{staticClass:"sidebar",attrs:{"data-background-color":t.backgroundColor,"data-active-color":t.activeColor}},[a("div",{staticClass:"sidebar-wrapper pt-4",staticStyle:{background:"#0f2a24"}},[t._t("default"),a("ul",{staticClass:"nav"},[t._t("links",(function(){return t._l(t.sidebarLinks,(function(t,e){return a("sidebar-link",{key:e,staticStyle:{color:"red !important"},attrs:{to:t.path,name:t.name,icon:t.icon}})}))}))],2),a("moving-arrow",{attrs:{"move-y":t.arrowMovePx}})],2)])},qt=[],Vt=function(){var t=this,a=t._self._c;return a("div")},Ht=[],Gt={props:{moveY:{type:Number,default:0}},computed:{arrowStyle(){return{transform:`translate3d(0px, ${this.moveY}px, 0px)`}}}},Jt=Gt,Qt=(e("c374"),Object(b["a"])(Jt,Vt,Ht,!1,null,null,null)),Yt=Qt.exports,Wt=function(){var t=this,a=t._self._c;return a(t.tag,t._b({tag:"component",staticClass:"nav-item",attrs:{tag:"li"},nativeOn:{click:function(a){return t.hideSidebar.apply(null,arguments)}}},"component",t.$attrs,!1),[a("a",{staticClass:"nav-link"},[t._t("default",(function(){return[t.icon?a("i",{class:t.icon}):t._e(),a("p",[t._v(t._s(t.name))])]}))],2)])},Kt=[],Zt={name:"sidebar-link",inheritAttrs:!1,inject:{autoClose:{default:!0},addLink:{default:()=>{}},removeLink:{default:()=>{}}},props:{name:String,icon:String,tag:{type:String,default:"router-link"}},methods:{hideSidebar(){this.autoClose&&this.$sidebar.displaySidebar(!1)},isActive(){return this.$el.classList.contains("active")}},mounted(){this.addLink&&this.addLink(this)},beforeDestroy(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeLink&&this.removeLink(this)}},Xt=Zt,ta=Object(b["a"])(Xt,Wt,Kt,!1,null,null,null),aa=ta.exports,ea={props:{title:{type:String,default:"Crms"},backgroundColor:{type:String,default:"black",validator:t=>{let a=["white","black","darkblue"];return-1!==a.indexOf(t)}},activeColor:{type:String,default:"success",validator:t=>{let a=["primary","info","success","warning","danger"];return-1!==a.indexOf(t)}},sidebarLinks:{type:Array,default:()=>[]},autoClose:{type:Boolean,default:!0}},provide(){return{autoClose:this.autoClose,addLink:this.addLink,removeLink:this.removeLink}},components:{MovingArrow:Yt,SidebarLink:aa},computed:{arrowMovePx(){return this.linkHeight*this.activeLinkIndex}},data(){return{linkHeight:65,activeLinkIndex:0,windowWidth:0,isWindows:!1,hasAutoHeight:!1,links:[]}},methods:{findActiveLink(){this.links.forEach((t,a)=>{t.isActive()&&(this.activeLinkIndex=a)})},addLink(t){const a=this.$slots.links.indexOf(t.$vnode);this.links.splice(a,0,t)},removeLink(t){const a=this.links.indexOf(t);a>-1&&this.links.splice(a,1)}},mounted(){this.$watch("$route",this.findActiveLink,{immediate:!0})}},sa=ea,ia=Object(b["a"])(sa,Ut,qt,!1,null,null,null),oa=ia.exports;const na={showSidebar:!1,sidebarLinks:[],displaySidebar(t){this.showSidebar=t}},ca={install(t){let a=new t({data:{sidebarStore:na}});t.prototype.$sidebar=a.sidebarStore,t.component("side-bar",oa),t.component("sidebar-link",aa)}};var ra=ca;const la=["Andalucía","Aragón","Asturias","Islas Baleares","Canarias","Cantabria","Castilla y León","Castilla-La Mancha","Cataluña","Comunidad Valenciana","Extremadura","Galicia","Madrid","Murcia","Navarra","País Vasco","La Rioja","Ceuta","Melilla"],da=["Álava","Albacete","Alicante","Almería","Ávila","Badajoz","Baleares","Barcelona","Burgos","Cáceres","Cádiz","Cantabria","Castellón","Ciudad Real","Córdoba","La Coruña","Cuenca","Gerona","Granada","Guadalajara","Guipúzcoa","Huelva","Huesca","Jaén","León","Lérida","Lugo","Madrid","Málaga","Murcia","Navarra","Orense","Palencia","Las Palmas","Pontevedra","La Rioja","Salamanca","Segovia","Sevilla","Soria","Tarragona","Santa Cruz de Tenerife","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza","Ceuta","Melilla"];var ua={components:{StatsCard:Bt,ChartCard:Ft},setup(){const t=Object(s["ref"])(0),a=Object(s["ref"])(0),e=Object(s["ref"])(0),i=(Object(s["ref"])([]),Object(s["ref"])([]),Object(s["ref"])(!1)),o=Object(s["ref"])(!1),n=Object(s["ref"])({labels:[],datasets:[{label:"Usuarios por día",backgroundColor:["#f87979","#a9d0f5","#f8e71c","#50e3c2"],data:[]}]}),r=Object(s["ref"])({labels:[],datasets:[{label:"Usuarios por día",backgroundColor:["#f87979"],data:[]}]}),l=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("telEspecialista","==",null),Object(c["m"])("status","==","0"),Object(c["m"])("confirmaCaso","==","1"));Object(c["h"])(l,a=>{t.value=a.docs.length});const d=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("status","==","1"));Object(c["h"])(d,t=>{a.value=t.docs.length});const u=Object(c["j"])(Object(c["b"])(p,"clientes"),Object(c["m"])("confirmaCaso","==","0"));Object(c["h"])(u,t=>{e.value=t.docs.length});const m=Object(s["ref"])((new Date).getMonth()),v=Object(s["ref"])((new Date).getFullYear()),f=Object(s["ref"])(0),C=Object(s["ref"])([]),b=async()=>{const t=new Date(v.value,m.value,1).getTime(),a=new Date(v.value,m.value+1,1).getTime(),e=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("status","in",["3","4"]),Object(c["m"])("presupuestoAceptado",">=",t),Object(c["m"])("presupuestoAceptado","<",a)),s=await Object(c["e"])(e),i=s.docs.map(t=>({id:t.id,...t.data()}));C.value=i,f.value=i.length;const o=Array(la.length).fill(0),n={};let r=0,l=0;const d={},u={},b=new Set,g=new Set,h=new Set,y=new Set;for(const c of i)c.telCliente&&b.add(c.telCliente),c.telEspecialista&&g.add(c.telEspecialista),c.especialidad&&h.add(c.especialidad),"1"!==c.tipoCliente&&1!==c.tipoCliente||!c.idDespacho||y.add(c.idDespacho),"1"===c.tipoCliente||1===c.tipoCliente?l++:r++;let w=[];b.size>0&&(w=await E(Object(c["b"])(p,"clientes"),"tel",Array.from(b)));const k={};for(const c of w)k[c.tel]=c;for(const c of i){if(!c.telCliente)continue;const t=k[c.telCliente];if(!t)continue;const a="number"===typeof t.comunidad?t.comunidad:parseInt(t.comunidad);!isNaN(a)&&a>=0&&a<la.length&&o[a]++}O.value.data=o;let A=[];g.size>0&&(A=await E(Object(c["b"])(p,"especialistas"),"tel",Array.from(g)));const x={};for(const c of A)x[c.tel]=c;for(const c of i)c.telEspecialista&&(n[c.telEspecialista]||(n[c.telEspecialista]={count:0,nombre:"",apellidos:""}),n[c.telEspecialista].count++);const S=[];for(const c in n){const t=x[c];S.push({nombre:t&&t.nombre?t.nombre:c,apellidos:t&&t.apellidos?t.apellidos:"",valor:n[c].count})}S.sort((t,a)=>a.valor-t.valor),D.value=S;let N=[];h.size>0&&(N=await E(Object(c["b"])(p,"especialidades"),"__name__",Array.from(h)));const T={};for(const c of N)T[c.id]=c;for(const c of i)c.especialidad&&(d[c.especialidad]||(d[c.especialidad]=0),d[c.especialidad]++);const I=[];for(const c in d){const t=T[c];I.push({nombre:t&&t.nombre?t.nombre:c,valor:d[c]})}I.sort((t,a)=>a.valor-t.valor),j.value=I;let F=[];y.size>0&&(F=await E(Object(c["b"])(p,"despachos"),"__name__",Array.from(y)));const $={};for(const c of F)$[c.id]=c;for(const c of i)"1"!==c.tipoCliente&&1!==c.tipoCliente||c.idDespacho&&(u[c.idDespacho]||(u[c.idDespacho]=0),u[c.idDespacho]++);const M=[];for(const c in u){const t=$[c];M.push({nombre:t&&t.nombre?t.nombre:c,valor:u[c]})}M.sort((t,a)=>a.valor-t.valor),_.value=M,P.value={particular:r,despacho:l}},g=Object(s["computed"])(()=>{const t=j.value.reduce((t,a)=>t+a.valor,0);if(0===t)return{background:"#eee"};let a=0,e=j.value.map((e,s)=>{const i=Math.round(a/t*100);a+=e.valor;const o=Math.round(a/t*100),n=h[s%h.length];return`${n} ${i}% ${o}%`});return{background:`conic-gradient(${e.join(", ")})`}}),h=["#f87979","#50e3c2","#1976d2","#f8e71c","#a9d0f5","#43a047","#ff9800","#e91e63","#9c27b0","#00bcd4","#8bc34a","#ffc107","#795548","#607d8b"],_=Object(s["ref"])([]),y=Object(s["ref"])({labels:[],datasets:[{label:"Casos cerrados últimos 6 meses",backgroundColor:["#50e3c2"],data:[]}]}),w=Object(s["ref"])(!1),k=async()=>{const t=new Date,a=[],e=[];for(let i=5;i>=0;i--){const s=new Date(t.getFullYear(),t.getMonth()-i,1),o=s.getFullYear(),n=s.getMonth();a.push({anio:o,mes:n}),e.push(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][n]+" "+o)}const s=[];for(const{anio:i,mes:o}of a){const t=new Date(i,o,1).getTime(),a=new Date(i,o+1,1).getTime(),e=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("status","in",["3","4"]),Object(c["m"])("presupuestoAceptado",">=",t),Object(c["m"])("presupuestoAceptado","<",a)),n=await Object(c["e"])(e);s.push(n.docs.length)}y.value.labels=e,y.value.datasets[0].data=s,w.value=!0},A=Object(s["computed"])(()=>la.map((t,a)=>({nombre:t,valor:O.value.data[a]})).filter(t=>t.valor>0).sort((t,a)=>a.valor-t.valor)),x=Object(s["computed"])(()=>{const t=P.value.particular+P.value.despacho;if(0===t)return{background:"#eee"};const a=Math.round(P.value.particular/t*100);return{background:`conic-gradient(#1de9b6 0% ${a}%, #1976d2 ${a}% 100%)`}}),S=t=>{let a=m.value+t,e=v.value;a<0?(a=11,e--):a>11&&(a=0,e++),m.value=a,v.value=e,b(),k()},O=Object(s["ref"])({labels:la,data:Array(la.length).fill(0)}),D=Object(s["ref"])([]),P=Object(s["ref"])({particular:0,despacho:0}),j=Object(s["ref"])([]);async function E(t,a,e){const s=30,i=[];for(let o=0;o<e.length;o+=s){const n=e.slice(o,o+s),r=Object(c["j"])(t,Object(c["m"])(a,"in",n)),l=await Object(c["e"])(r);i.push(...l.docs.map(t=>({...t.data(),id:t.id})))}return i}return Object(s["onMounted"])(()=>{b(),k()}),{casosSinAsignar:t,clientesSinPresupuesto:a,usersPerDay:n,usersPerComunity:r,endData:i,endDataComunity:o,clientesLlamar:e,chartOptions:{responsive:!0,maintainAspectRatio:!1},mesActual:m,anioActual:v,casosMes:f,cambiarMes:S,casosUltimos6Meses:y,endData6Meses:w,distribucionComunidades:O,comunidades:la,comunidadesOrdenadas:A,distribucionPeritos:D,pieData:P,pieChartStyle:x,pieEspecialidades:j,pieEspecialidadesStyle:g,pieColors:h,topDespachos:_}}},pa=ua,ma=(e("3b23"),Object(b["a"])(pa,Z,X,!1,null,null,null)),va=ma.exports,fa=function(){var t=this,a=t._self._c;return a("div",{staticClass:"listado-clientes-container"},[t.showSuccess?a("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Cliente borrado correctamente")]):t._e(),t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-section"},[a("div",{staticClass:"table-header"},[a("h2",[t._v("Filtros de Búsqueda")]),a("button",{staticClass:"btn-add",on:{click:function(a){t.createModal=!0}}},[a("i",{staticClass:"ti-plus"}),t._v(" Añadir Cliente\n        ")])]),a("div",{staticClass:"filters-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"nombreInput"}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.nombre,expression:"filters.nombre"}],staticClass:"form-control",attrs:{id:"nombreInput",type:"text",placeholder:"Buscar por nombre"},domProps:{value:t.filters.nombre},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.filters,"nombre",a.target.value)}}})])]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"emailInput"}},[t._v("Correo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.email,expression:"filters.email"}],staticClass:"form-control",attrs:{id:"emailInput",type:"email",placeholder:"Buscar por correo"},domProps:{value:t.filters.email},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.filters,"email",a.target.value)}}})])]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"telefonoInput"}},[t._v("Teléfono")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.telefono,expression:"filters.telefono"}],staticClass:"form-control",attrs:{id:"telefonoInput",type:"text",placeholder:"Buscar por teléfono"},domProps:{value:t.filters.telefono},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.filters,"telefono",a.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orderSelect"}},[t._v("Ordenar por")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],staticClass:"form-control",attrs:{id:"orderSelect"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.order=a.target.multiple?e:e[0]},t.handleOrderChange]}},[a("option",{attrs:{value:"fechaCreacion"}},[t._v("Fecha de creación")]),a("option",{attrs:{value:"nombre"}},[t._v("Nombre")])])])]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orderDirection"}},[t._v("Dirección")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.orderDirection,expression:"orderDirection"}],staticClass:"form-control",attrs:{id:"orderDirection"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.orderDirection=a.target.multiple?e:e[0]},t.handleOrderChange]}},[a("option",{attrs:{value:"desc"}},[t._v("Descendente")]),a("option",{attrs:{value:"asc"}},[t._v("Ascendente")])])])]),a("div",{staticClass:"col-md-4 mb-3 d-flex align-items-end"},[a("div",{staticClass:"w-100"},[a("button",{staticClass:"btn-search",on:{click:t.fetchData}},[a("i",{staticClass:"ti-search"}),t._v(" Buscar\n              ")]),a("button",{staticClass:"btn-clear",on:{click:t.clearFilters}},[a("i",{staticClass:"ti-eraser"}),t._v(" Limpiar\n              ")])])])])])]),a("div",{staticClass:"table-section"},[t._m(1),a("Listados",{attrs:{items:t.filteredClientes,fields:t.fields,"current-page":t.currentPage},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"tableActions",fn:function({data:e}){return[t.showAsAdmin?a("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(a){return t.editClient(e.item)}}},[a("i",{staticClass:"ti-pencil"})]):t._e(),t.showAsAdmin?a("button",{staticClass:"btn-delete",attrs:{title:"Borrar"},on:{click:function(a){return t.deleteClient(e.item)}}},[a("i",{staticClass:"ti-trash"})]):t._e(),a("button",{staticClass:"btn-view",attrs:{title:"Ver"},on:{click:function(a){t.$router.push(t.navigateToProfile(e.item))}}},[a("i",{staticClass:"ti-eye"})])]}}])})],1),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Editar cliente\n      ")]},proxy:!0}]),model:{value:t.modalShow,callback:function(a){t.modalShow=a},expression:"modalShow"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.nombre,expression:"clientToEdit.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clientToEdit.nombre},on:{input:function(a){a.target.composing||t.$set(t.clientToEdit,"nombre",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Apellidos")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.apellidos,expression:"clientToEdit.apellidos"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clientToEdit.apellidos},on:{input:function(a){a.target.composing||t.$set(t.clientToEdit,"apellidos",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Fecha de nacimiento")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.fechaNacimiento,expression:"clientToEdit.fechaNacimiento"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.clientToEdit.fechaNacimiento},on:{input:function(a){a.target.composing||t.$set(t.clientToEdit,"fechaNacimiento",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Teléfono(s)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.telefono,expression:"clientToEdit.telefono"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.clientToEdit.telefono},on:{input:function(a){a.target.composing||t.$set(t.clientToEdit,"telefono",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.email,expression:"clientToEdit.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clientToEdit.email},on:{input:function(a){a.target.composing||t.$set(t.clientToEdit,"email",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Código postal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.codigoPostal,expression:"clientToEdit.codigoPostal"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.clientToEdit.codigoPostal},on:{input:function(a){a.target.composing||t.$set(t.clientToEdit,"codigoPostal",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Dirección")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.direccion,expression:"clientToEdit.direccion"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clientToEdit.direccion},on:{input:function(a){a.target.composing||t.$set(t.clientToEdit,"direccion",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Notas adicionales")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.notas,expression:"clientToEdit.notas"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clientToEdit.notas},on:{input:function(a){a.target.composing||t.$set(t.clientToEdit,"notas",a.target.value)}}})]),a("b-button",{staticClass:"btn-search mx-5 mt-4",on:{click:t.saveChanges}},[t._v("Guardar cambios")])],1)]),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Borrar cliente\n      ")]},proxy:!0}]),model:{value:t.modalDelete,callback:function(a){t.modalDelete=a},expression:"modalDelete"}},[a("div",{staticClass:"text-center"},[a("p",[t._v("¿Estás seguro de que quieres eliminar al cliente "),a("strong",[t._v(t._s(t.clientToDelete.nombre)+" "+t._s(t.clientToDelete.apellidos))]),t._v("?")]),a("p",{staticClass:"text-danger"},[t._v("Esta acción no se puede deshacer.")]),a("div",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.deleteUser}},[t._v("Eliminar")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(a){t.modalDelete=!1}}},[t._v("Cancelar")])],1)])]),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Añadir cliente\n      ")]},proxy:!0}]),model:{value:t.createModal,callback:function(a){t.createModal=a},expression:"createModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.nombre,expression:"createUser.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createUser.nombre},on:{input:function(a){a.target.composing||t.$set(t.createUser,"nombre",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Apellidos")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.apellidos,expression:"createUser.apellidos"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createUser.apellidos},on:{input:function(a){a.target.composing||t.$set(t.createUser,"apellidos",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Fecha de nacimiento (si aplica)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.fechaNacimiento,expression:"createUser.fechaNacimiento"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.createUser.fechaNacimiento},on:{input:function(a){a.target.composing||t.$set(t.createUser,"fechaNacimiento",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Teléfono(s)")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.telefono,expression:"createUser.telefono"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.createUser.telefono},on:{input:function(a){a.target.composing||t.$set(t.createUser,"telefono",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.email,expression:"createUser.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createUser.email},on:{input:function(a){a.target.composing||t.$set(t.createUser,"email",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Código postal")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.codigoPostal,expression:"createUser.codigoPostal"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.createUser.codigoPostal},on:{input:function(a){a.target.composing||t.$set(t.createUser,"codigoPostal",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Dirección")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.direccion,expression:"createUser.direccion"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createUser.direccion},on:{input:function(a){a.target.composing||t.$set(t.createUser,"direccion",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Notas adicionales")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.createUser.notas,expression:"createUser.notas"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createUser.notas},on:{input:function(a){a.target.composing||t.$set(t.createUser,"notas",a.target.value)}}})])]),a("b-button",{staticClass:"btn-search mt-4",on:{click:t.addClient}},[t._v("Añadir cliente")])],1)],1)],1)},Ca=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-user"}),t._v("\n        Listado de Clientes\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Gestión y administración de clientes")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"table-header"},[a("h2",[t._v("Listado de Clientes")])])}],ba=function(){var t=this,a=t._self._c;return a("div",[t._t("filters"),t._t("order"),t.items.length>0?a("b-pagination",{staticClass:"mt-3 pagination",attrs:{"total-rows":t.items.length,"per-page":t.perPage},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}}):t._e(),t.paginatedItems.length>0?a("div",{staticClass:"table-container"},[a("b-table",{attrs:{items:t.paginatedItems,fields:t.fields,striped:"",hover:""},scopedSlots:t._u([{key:"cell(actions)",fn:function(a){return[t._t("tableActions",null,{data:a})]}}],null,!0)})],1):a("div",{staticClass:"no-elements"},[t._v("\n    No hay elementos con el filtro seleccionado\n  ")])],2)},ga=[],ha={props:{items:{type:Array,required:!0},fields:{type:Array,required:!0},perPage:{type:Number,default:10},currentPage:{type:Number,default:1}},setup(t,{emit:a}){const e=Object(s["computed"])({get:()=>t.currentPage,set:t=>{a("page-changed",t)}}),i=Object(s["computed"])(()=>{const a=(t.currentPage-1)*t.perPage,e=a+t.perPage,s=t.items.slice(a,e);return s});return{currentPage:e,paginatedItems:i}}},_a=ha,ya=(e("e891"),Object(b["a"])(_a,ba,ga,!1,null,"b8655ac8",null)),wa=ya.exports,ka=function(){var t=this,a=t._self._c;return a("form",{class:t.formClass,on:{submit:function(a){return a.preventDefault(),t.handleSubmit("search")}}},[a("div",{staticClass:"row"},t._l(t.filters,(function(e,s){return a("div",{key:s,class:t.fieldClass},[a("label",{attrs:{for:e.name}},[t._v(t._s(e.label))]),"input"===e.type?a("b-form-input",{staticClass:"mb-3",attrs:{placeholder:e.placeholder,type:e.typeInput?e.typeInput:"text",value:e.value},on:{input:function(a){return t.handleSubmit("text")}},model:{value:t.formData[e.name].value,callback:function(a){t.$set(t.formData[e.name],"value",a)},expression:"formData[filter.name].value"}}):t._e()],1)})),0),a("div",{staticClass:"row"},[t.btnText?a("p-button",{attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.handleSubmit("btn")}}},[t._v("\n      "+t._s(t.btnText)+"\n    ")]):t._e()],1)])},Aa=[],xa={name:"FormComponent",props:{filters:{type:Array,required:!0,validator:t=>t.every(t=>"input"!==t.type||("undefined"===typeof t.value||"string"===typeof t.value||"number"===typeof t.value))},initialData:{type:Object,default:()=>({})},btnText:{type:String,required:!1},formClass:{type:String,default:""},fieldClass:{type:String,default:""},immediateSubmit:{type:Boolean,default:!0}},data(){return{formData:this.initializeFormData()}},methods:{initializeFormData(){const t={};return this.filters.forEach(a=>{"input"===a.type&&(t[a.name]={value:a.value||""})}),t},handleSubmit(t){const a={};Object.keys(this.formData).forEach(t=>{a[t]=this.formData[t].value}),this.immediateSubmit&&"text"===t?this.$emit("submit",a):"btn"!==t&&"search"!==t||(this.$emit("submit",a),"search"===t&&this.$emit("search"))}},watch:{filters:{handler(t){t.forEach(t=>{"input"===t.type&&(this.formData[t.name]?this.formData[t.name].value=t.value||"":this.$set(this.formData,t.name,{value:t.value||""}))})},deep:!0,immediate:!0}},created(){this.formData=this.initializeFormData()}},Sa=xa,Oa=(e("42e2"),Object(b["a"])(Sa,ka,Aa,!1,null,"66b1c9c9",null)),Da=Oa.exports,Pa=e("19f6"),ja={components:{Listados:wa,Formulario:Da},setup(){const t=Object(s["ref"])({nombre:"",apellidos:"",telefono:"",email:"",direccion:"",notas:"",codigoPostal:"",fechaNacimiento:"",fechaCreacion:(new Date).getTime()}),a=Object(s["ref"])(!1),e=Object(s["ref"])([]),i=(Object(s["ref"])([]),Object(s["ref"])({})),o=(Object(s["ref"])({}),Object(s["ref"])(!1)),n=Object(s["ref"])(!1),c=Object(s["ref"])(!1),r=Object(s["ref"])({}),l=Object(s["ref"])(1),d=JSON.parse(localStorage.getItem("userInform")),u=Object(s["computed"])(()=>!(!d.admin||!0!==d.admin)),p=Object(s["ref"])({nombre:"",email:"",telefono:""}),m=Object(s["ref"])("fechaCreacion"),v=Object(s["ref"])("desc"),f=[{key:"dias",label:"Días alta"},{key:"nombre",label:"Nombre"},{key:"apellidos",label:"Apellidos"},{key:"email",label:"Correo"},{key:"telefono",label:"Teléfono"},{key:"actions",label:""}],C=async()=>{try{const t={};p.value.nombre.trim()&&(t.nombre=p.value.nombre.trim()),p.value.email.trim()&&(t.email=p.value.email.trim()),p.value.telefono.trim()&&(t.telefono=p.value.telefono.trim()),console.log("Parámetros enviados a la API:",t),console.log(t);const a=await Pa["a"].getAll(t);console.log("Respuesta de la API:",a),e.value=a}catch(t){console.error("Error al obtener clientes:",t)}},b=()=>{p.value.nombre="",p.value.email="",p.value.telefono="",m.value="fechaCreacion",v.value="desc",C()},g=()=>{console.log("Cambio de ordenamiento:",{order:m.value,direction:v.value})},h=Object(s["computed"])(()=>{let t=e.value;return t.forEach(t=>{if(t.fechaCreacion){const a=new Date(t.fechaCreacion),e=new Date,s=e-a,i=Math.floor(s/864e5);t.dias=i}else t.dias=0;t.fechaCreacion&&(t.fechaCreacionFormatted=new Date(t.fechaCreacion).toLocaleDateString("es-ES"))}),t.sort((t,a)=>{let e=t[m.value],s=a[m.value];if("fechaCreacion"===m.value?(e=new Date(e||0).getTime(),s=new Date(s||0).getTime()):"string"===typeof e&&(e=e.toLowerCase(),s=s.toLowerCase()),"asc"===v.value){if(e<s)return-1;if(e>s)return 1}else{if(e>s)return-1;if(e<s)return 1}return 0}),t}),_=t=>{console.log(t),i.value=t,o.value=!0},y=t=>{l.value=parseInt(t),C()},w=async()=>{await Pa["a"].create(t.value);t.value={nombre:"",apellidos:"",telefono:"",email:"",direccion:"",notas:"",codigoPostal:"",fechaNacimiento:"",fechaCreacion:(new Date).getTime()},a.value=!1,C()};Object(s["onMounted"])(()=>{C()});const k=async()=>{const t=await Pa["a"].update(i.value._id,i.value);console.log(t),o.value=!1,C(),console.log(i.value._id)},A=async()=>{try{await Pa["a"].delete(r.value._id),c.value=!0,n.value=!1,C(),setTimeout(()=>{c.value=!1},3e3)}catch(t){console.error("Error al eliminar el cliente:",t)}},x=t=>({name:"UserProfile",params:{id:t._id}});return{navigateToProfile:x,createUser:t,saveChanges:k,createModal:a,fields:f,filteredClientes:h,editClient:_,modalShow:o,clientToEdit:i,modalDelete:n,clientToDelete:r,showSuccess:c,showAsAdmin:u,addClient:w,deleteUser:A,deleteClient:t=>{r.value=t,n.value=!0},filters:p,order:m,orderDirection:v,clearFilters:b,handleOrderChange:g,fetchData:C,currentPage:l,handlePageChange:y}}},Ea=ja,Na=(e("b14e"),Object(b["a"])(Ea,fa,Ca,!1,null,"0bfdb272",null)),Ta=Na.exports,Ia=function(){var t=this,a=t._self._c;return a("div",[t.showSuccess?a("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Cliente borrado correctamente")]):t._e(),a("h2",[t._v("Listado clientes genérico")]),a("b-button",{on:{click:function(a){t.createModal=!0}}},[t._v("Añadir cita")]),a("Listados",{attrs:{items:t.filteredClientes,fields:t.fields,"current-page":t.currentPage},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"filters",fn:function(){return[a("Formulario",{attrs:{filters:t.filterFields,formClass:"form-filters",fieldClass:"col-4",initialData:t.filters},on:{submit:t.handleFiltersSubmit,search:t.fetchData}}),a("b-button",{staticClass:"mt-2",attrs:{variant:"primary"},on:{click:t.fetchData}},[t._v("Buscar")])]},proxy:!0},{key:"order",fn:function(){return[a("div",{staticClass:"col-3 pl-0"},[a("label",{attrs:{for:""}},[t._v("Ordenar por:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.order=a.target.multiple?e:e[0]}}},t._l(t.orderColumnList,(function(e,s){return a("option",{key:s,domProps:{value:e.key}},[t._v(t._s(e.label))])})),0)])]},proxy:!0},{key:"tableActions",fn:function({data:e}){return[t.showAsAdmin?a("b-button",{staticClass:"ml-3",attrs:{size:"sm"},on:{click:function(a){return t.editClient(e.item)}}},[t._v("Editar cliente")]):t._e(),t.showAsAdmin?a("b-button",{staticClass:"ml-3 mt-3",attrs:{size:"sm"},on:{click:function(a){return t.deleteClient(e.item)}}},[t._v("Borrar cliente")]):t._e(),a("b-button",{staticClass:"mt-3 mx-3",attrs:{size:"sm"},on:{click:function(a){t.$router.push(t.navigateToProfile(e.item))}}},[t._v("Ver cliente")])]}}])}),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Ver caso abierto\n    ")]},proxy:!0}]),model:{value:t.modalOpenCase,callback:function(a){t.modalOpenCase=a},expression:"modalOpenCase"}},[a("formulario-confirma-caso",{attrs:{cases:t.cases,case:t.caseToEdit},on:{sendCheckCase:t.recivedCheckCase}})],1),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Editar cliente\n    ")]},proxy:!0}]),model:{value:t.modalShow,callback:function(a){t.modalShow=a},expression:"modalShow"}},[a("formulario-cliente",{attrs:{client:t.clientToEdit},on:{sendForm:t.recivedInfo}})],1),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Agregar caso\n    ")]},proxy:!0}]),model:{value:t.modalCase,callback:function(a){t.modalCase=a},expression:"modalCase"}},[a("formulario-caso",{on:{sendCase:t.recivedCase}})],1),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Borrar cliente\n    ")]},proxy:!0}]),model:{value:t.modalDelete,callback:function(a){t.modalDelete=a},expression:"modalDelete"}},[a("borrar-persona",{attrs:{client:t.clientToDelete},on:{deleteClient:t.deleteUser,cancelDelete:function(a){t.modalDelete=!1}}})],1),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Añadir cliente\n    ")]},proxy:!0}]),model:{value:t.createModal,callback:function(a){t.createModal=a},expression:"createModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Cliente")]),a("input",{staticClass:"form-control",attrs:{type:"text"}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Fecha")]),a("input",{staticClass:"form-control",attrs:{type:"date"}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Hora")]),a("input",{staticClass:"form-control",attrs:{type:"hour"}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Tipo de servicio")]),a("input",{staticClass:"form-control",attrs:{type:"text"}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Empleado asignado")]),a("input",{staticClass:"form-control",attrs:{type:"number"}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Estado")]),a("input",{staticClass:"form-control",attrs:{type:"text"}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Notas internas")]),a("textarea",{staticClass:"form-control",attrs:{type:"text"}})])])])],1)},Fa=[],$a=function(){var t=this,a=t._self._c;return a("div",[a("form",{on:{submit:function(a){return a.preventDefault(),t.sendInfo.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("fg-input",{attrs:{type:"text",label:"Nombre",placeholder:"Nombre"},model:{value:t.user.nombre,callback:function(a){t.$set(t.user,"nombre",a)},expression:"user.nombre"}})],1),a("div",{staticClass:"col-md-6"},[a("fg-input",{attrs:{type:"text",label:"Apellidos",placeholder:"Apellidos"},model:{value:t.user.apellidos,callback:function(a){t.$set(t.user,"apellidos",a)},expression:"user.apellidos"}})],1),a("div",{staticClass:"col-md-6"},[a("fg-input",{attrs:{type:"text",label:"Correo",placeholder:"Correo"},model:{value:t.user.correo,callback:function(a){t.$set(t.user,"correo",a)},expression:"user.correo"}})],1),t.client?t._e():a("div",{staticClass:"col-md-6"},[a("fg-input",{attrs:{type:"text",label:"Teléfono",placeholder:"Teléfono"},model:{value:t.user.tel,callback:function(a){t.$set(t.user,"tel",a)},expression:"user.tel"}})],1),a("div",{staticClass:"custom-select-wrapper col-md-6"},[a("label",{attrs:{for:""}},[t._v("Comunidad Autonoma")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.user.comunidad,expression:"user.comunidad"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.user,"comunidad",a.target.multiple?e:e[0])}}},t._l(t.comunidades,(function(e,s){return a("option",{key:s,domProps:{value:s}},[t._v(t._s(e))])})),0)]),a("div",{staticClass:"custom-select-wrapper col-md-6"},[a("label",{attrs:{for:""}},[t._v("Provincias")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.user.provincia,expression:"user.provincia"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.user,"provincia",a.target.multiple?e:e[0])}}},t._l(t.provincias,(function(e,s){return a("option",{key:s,domProps:{value:s}},[t._v(t._s(e))])})),0)]),a("div",{staticClass:"custom-select-wrapper col-md-6 mt-2"},[a("fg-input",{attrs:{type:"text",label:"Población",placeholder:"Población"},model:{value:t.user.poblacion,callback:function(a){t.$set(t.user,"poblacion",a)},expression:"user.poblacion"}})],1),a("div",{staticClass:"custom-select-wrapper col-md-6 mt-2"},[a("label",{staticStyle:{display:"block"}},[t._v("Observaciones")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.observaciones,expression:"user.observaciones"}],staticStyle:{width:"100%",border:"none","background-color":"#fffcf5",padding:"7px 18px"},attrs:{type:"text",label:"Observaciones",rows:"3"},domProps:{value:t.user.observaciones},on:{input:function(a){a.target.composing||t.$set(t.user,"observaciones",a.target.value)}}})]),t.client||t.isDespacho?t._e():a("div",{staticClass:"custom-select-wrapper col-md-12 mb-3"},[a("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1"},model:{value:t.altaCaso,callback:function(a){t.altaCaso=a},expression:"altaCaso"}},[t._v(" Dar de alta caso ")]),"0"===t.caso.tipoCliente?a("b-form-checkbox",{attrs:{id:"checkbox-2",name:"checkbox-2"},model:{value:t.necesitaAbogado,callback:function(a){t.necesitaAbogado=a},expression:"necesitaAbogado"}},[t._v(" Necesita abogado ")]):t._e()],1),t.altaCaso?a("div",{staticClass:"col-12"},[a("h3",[t._v("Datos del caso ")])]):t._e(),t.altaCaso?a("div",{staticClass:"custom-select-wrapper col-md-6"},[a("label",{attrs:{for:""}},[t._v("Tipo de contacto")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.especialidad,expression:"caso.especialidad"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.caso,"especialidad",a.target.multiple?e:e[0])}}},t._l(t.especialidades,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.nombre))])})),0)]):t._e(),t.altaCaso&&!t.isDespacho?a("div",{staticClass:"custom-select-wrapper col-md-6"},[a("label",{attrs:{for:""}},[t._v("Tipo de cliente")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.tipoCliente,expression:"caso.tipoCliente"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.caso,"tipoCliente",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:"0"}},[t._v("Particular")]),a("option",{attrs:{value:"1"}},[t._v("Despacho")])])]):t._e(),"1"!==t.caso.tipoCliente||t.isDespacho?t._e():a("div",{staticClass:"custom-select-wrapper col-md-6"},[a("label",{attrs:{for:""}},[t._v("Despacho")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.despacho,expression:"despacho"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.despacho=a.target.multiple?e:e[0]}}},t._l(t.despachos,(function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v(t._s(e.nombre))])})),0)]),a("div",{staticClass:"col-12 text-center mt-4 py-2"},[a("p-button",{attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.sendInfo.apply(null,arguments)}}},[t._v("\n          "+t._s(t.client?"Editar cliente":"Dar de alta cliente")+"\n        ")])],1)])])])},Ma=[],La={props:{client:{type:Object,require:!1}},setup(t,{emit:a}){const e=Object(s["ref"])(0),i=Object(s["ref"])(0),o=Object(s["ref"])([]),n=Object(s["ref"])(null),r=Object(s["ref"])({nombre:"",apellidos:"",correo:"",tel:"",comunidad:"",provincia:"",poblacion:"",observaciones:"Abogados: \nPlazos: \nHistoria clínica:",confirmaCaso:"0"}),l=Object(s["ref"])({}),d=Object(s["computed"])(()=>l.value.despacho),u=Object(s["ref"])({nombreDespacho:"",idDespacho:"",tipoCliente:"",especialidad:"",status:"0",confirmaCaso:"0",necesitaAbogado:"0",statusAbogado:null}),m=Object(s["ref"])([]),v=async()=>{if(m.value=(await Object(c["e"])(Object(c["b"])(p,"especialidades"))).docs.map(t=>({id:t.id,...t.data()})),o.value=(await Object(c["e"])(Object(c["b"])(p,"despachos"))).docs.map(t=>({id:t.id,...t.data()})),o.value.sort((t,a)=>{if("string"===typeof t["nombre"]){if(t["nombre"].toLowerCase()<a["nombre"].toLowerCase())return-1;if(t["nombre"].toLowerCase()>a["nombre"].toLowerCase())return 1}else{if(t["nombre"]<a["nombre"])return-1;if(t["nombre"]>a["nombre"])return 1}return 0}),l.value.despacho){const t=o.value.find(t=>t.nombre===l.value.nombre);console.log(t),console.log(l.value.tipoCliente),e.value=!0,n.value=t,u.value.idDespacho=t.id,u.value.nombreDespacho=t.nombre,u.value.tipoCliente="1"}};Object(s["onMounted"])(()=>{l.value=JSON.parse(localStorage.getItem("userInform")),v()}),t.client&&(r.value={...t.client},r.value.comunidad=la.findIndex(t=>t===r.value.comunidad),r.value.provincia=da.findIndex(t=>t===r.value.provincia));const f=()=>{n.value&&(u.value.idDespacho=n.value.id,u.value.nombreDespacho=n.value.nombre),u.value.necesitaAbogado=i.value?"1":"0",u.value.statusAbogado=i.value?"0":null,a("sendForm",{...r.value},{...u.value}),r.value={nombre:"",apellidos:"",correo:"",tel:"",comunidad:"",provincia:"",poblacion:"",observaciones:"Abogados: \nPlazos: \nHistoria clínica:",confirmaCaso:"0"},u.value={nombreDespacho:"",idDespacho:"",tipoCliente:"",especialidad:"",status:"0",confirmaCaso:"0",necesitaAbogado:"0",statusAbogado:null}};return{user:r,isDespacho:d,caso:u,comunidades:la,provincias:da,altaCaso:e,especialidades:m,necesitaAbogado:i,sendInfo:f,despachos:o,despacho:n}}},Ra=La,za=(e("5ec6"),Object(b["a"])(Ra,$a,Ma,!1,null,null,null)),Ba=za.exports,Ua=function(){var t=this,a=t._self._c;return a("div",[a("form",{on:{submit:function(a){return a.preventDefault(),t.sendInfo.apply(null,arguments)}}},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"custom-select-wrapper col-md-6"},[a("label",{attrs:{for:""}},[t._v("Tipo de contacto")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.especialidad,expression:"caso.especialidad"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.caso,"especialidad",a.target.multiple?e:e[0])}}},t._l(t.especialidades,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.nombre))])})),0)]),a("div",{staticClass:"custom-select-wrapper col-md-6"},[a("label",{attrs:{for:""}},[t._v("Tipo de cliente")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.tipoCliente,expression:"caso.tipoCliente"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.caso,"tipoCliente",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:"0"}},[t._v("Particular")]),a("option",{attrs:{value:"1"}},[t._v("Despacho")])])]),"1"===t.caso.tipoCliente?a("div",{staticClass:"custom-select-wrapper col-md-6"},[a("fg-input",{attrs:{type:"text",label:"Nombre del despacho",placeholder:"Despacho"}})],1):t._e(),a("div",{staticClass:"custom-select-wrapper col-md-12 mt-4"},[a("label",{attrs:{for:""}},[t._v("Necesita llamada de confirmacion")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.confirmaCaso,expression:"caso.confirmaCaso"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.caso,"confirmaCaso",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:"0"}},[t._v("SI Necesita segunda llamada")]),a("option",{attrs:{value:"1"}},[t._v("NO Necesita segunda llamada")])])]),a("div",{staticClass:"col-12 text-center mt-4"},[a("p-button",{attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.sendInfo.apply(null,arguments)}}},[t._v("\n          Dar de alta caso\n        ")])],1)])])])},qa=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"col-12"},[a("h3",[t._v("Datos del caso ")])])}],Va={props:{client:{type:Object,require:!1}},setup(t,{emit:a}){const e=Object(s["ref"])({nombreDespacho:"",tipoCliente:"",especialidad:"",status:"0",confirmaCaso:"1"}),i=Object(s["ref"])([]),o=async()=>{i.value=(await Object(c["e"])(Object(c["b"])(p,"especialidades"))).docs.map(t=>({id:t.id,...t.data()}))},n=()=>{a("sendCase",{...e.value})};return Object(s["onMounted"])(()=>{o()}),{caso:e,sendInfo:n,especialidades:i}}},Ha=Va,Ga=(e("125a"),Object(b["a"])(Ha,Ua,qa,!1,null,null,null)),Ja=Ga.exports,Qa=function(){var t=this,a=t._self._c;return a("div",[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("span",[t._v("¿Estás seguro que deseas eliminar a "+t._s(t.client.apellidos?t.client.nombre+t.client.apellidos:t.client.nombre)+"?")])]),a("div",{staticClass:"col-12 text-center mt-4"},[a("p-button",{attrs:{type:"danger",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.deleteClient.apply(null,arguments)}}},[t._v("\n          Sí, borrar\n        ")]),a("p-button",{staticClass:"ml-3",attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.cancelDelete.apply(null,arguments)}}},[t._v("\n          No, cancelar\n        ")])],1)])])])},Ya=[],Wa={props:{client:{type:Object,require:!1}},setup(t,{emit:a}){const e=()=>{a("cancelDelete")},s=()=>{a("deleteClient")};return{deleteClient:s,cancelDelete:e}}},Ka=Wa,Za=(e("3b19"),Object(b["a"])(Ka,Qa,Ya,!1,null,null,null)),Xa=Za.exports,te=function(){var t=this,a=t._self._c;return a("div",[t.cases.length>0?a("form",{on:{submit:function(a){return a.preventDefault(),t.sendInfo.apply(null,arguments)}}},[a("div",{staticClass:"row"},[t._m(0),a("div",{staticClass:"col-md-12"},[t._v("Cliente: "+t._s(t.cliente.nombre+" "+t.cliente.apellidos))]),a("div",{staticClass:"col-md-12 mt-2"},[t._v("\n      Telefono cliente: "+t._s(t.cliente.tel)+"\n      "),a("a",{staticClass:"mr-3",attrs:{href:"https://wa.me/34"+t.cliente.tel,target:"_blank"}},[t._v("Abrir en WhatsApp")]),a("a",{attrs:{href:"tel:+34"+t.cliente.tel}},[t._v("Llamar")])]),a("div",{staticClass:"col-md-12 mt-2"},[t._v("Correo: "+t._s(t.cliente.correo))]),a("div",{staticClass:"col-md-12 mt-2"},[t._v("Residencia cliente: "+t._s(t.cliente.comunidad+" ("+t.cliente.provincia+")"))]),a("div",{staticClass:"custom-select-wrapper col-md-12 mt-1"},[a("label",{staticStyle:{display:"block"}},[t._v("Observaciones")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cliente.observaciones,expression:"cliente.observaciones"}],staticStyle:{width:"100%",border:"none","background-color":"#fffcf5",padding:"7px 18px"},attrs:{type:"text",label:"Observaciones"},domProps:{value:t.cliente.observaciones},on:{input:function(a){a.target.composing||t.$set(t.cliente,"observaciones",a.target.value)}}})]),a("div",{staticClass:"custom-select-wrapper col-md-6 mt-3"},[a("label",{attrs:{for:""}},[t._v("Tipo de contacto")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.especialidad,expression:"caso.especialidad"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.caso,"especialidad",a.target.multiple?e:e[0])}}},t._l(t.especialidades,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.nombre))])})),0)]),a("div",{staticClass:"custom-select-wrapper col-md-6 mt-3"},[a("label",{attrs:{for:""}},[t._v("Tipo de cliente")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.tipoCliente,expression:"caso.tipoCliente"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.caso,"tipoCliente",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:"0"}},[t._v("Particular")]),a("option",{attrs:{value:"1"}},[t._v("Despacho")])])]),"1"===t.caso.tipoCliente?a("div",{staticClass:"custom-select-wrapper col-md-6"},[a("fg-input",{attrs:{type:"text",label:"Nombre del despacho",placeholder:"Despacho"},model:{value:t.caso.nombreDespacho,callback:function(a){t.$set(t.caso,"nombreDespacho",a)},expression:"caso.nombreDespacho"}})],1):t._e(),a("div",{staticClass:"col-12 text-center mt-4"},[a("p-button",{attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.sendInfo.apply(null,arguments)}}},[t._v("\n          Confirmar caso\n        ")])],1)])]):a("div",[t._v("\n      No hay casos asignados debes agregarle un caso\n  ")])])},ae=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"col-12"},[a("h3",[t._v("Datos del caso ")])])}],ee={props:{case:{type:Object,require:!1},cases:{type:Array,require:!1},user:{type:Object,require:!1}},setup(t,{emit:a}){const e=Object(s["ref"])(t.case),i=Object(s["ref"])(t.user),o=Object(s["ref"])([]),n=async()=>{o.value=(await Object(c["e"])(Object(c["b"])(p,"especialidades"))).docs.map(t=>({id:t.id,...t.data()}))},r=()=>{a("sendCheckCase",{...e.value},{...i.value})};return Object(s["onMounted"])(()=>{n()}),{caso:e,cliente:i,sendInfo:r,especialidades:o}}},se=ee,ie=(e("a09a"),Object(b["a"])(se,te,ae,!1,null,null,null)),oe=ie.exports,ne={components:{FormularioCliente:Ba,FormularioCaso:Ja,FormularioConfirmaCaso:oe,BorrarPersona:Xa,Listados:wa,Formulario:Da},setup(){const t=Object(s["ref"])(!1),a=Object(s["ref"])([]),e=Object(s["ref"])([]),i=Object(s["ref"])({}),o=Object(s["ref"])({}),n=Object(s["ref"])(!1),r=Object(s["ref"])(!1),l=Object(s["ref"])(null),d=Object(s["ref"])(!1),u=Object(s["ref"])({}),m=Object(s["ref"])(!1),v=Object(s["ref"])(!1),f=Object(s["ref"])({}),C=Object(s["ref"])([]),b=Object(s["ref"])(1),g=JSON.parse(localStorage.getItem("userInform")),h=Object(s["computed"])(()=>!(!g.admin||!0!==g.admin)),_=Object(s["ref"])({searchQuery:"",searchQueryName:"",searchQuerySurname:""}),y=Object(s["ref"])([{name:"searchQuery",label:"Filtrar por teléfono",type:"input",placeholder:"Buscar por teléfono",value:""},{name:"searchQueryName",label:"Filtrar por nombre",type:"input",placeholder:"Buscar por nombre",value:""},{name:"searchQuerySurname",label:"Filtrar por apellidos",type:"input",placeholder:"Buscar por apellidos",value:""}]),w=[{key:"dias",label:"Dias alta"},{key:"nombre",label:"Nombre"},{key:"apellidos",label:"Apellidos"},{key:"correo",label:"Correo"},{key:"tel",label:"Teléfono"},{key:"comunidad",label:"Comunidad"},{key:"poblacion",label:"Población"},{key:"actions",label:""}],k=Object(s["ref"])(w[0].key),A=Object(s["computed"])(()=>w.slice(0,-1)),x=async()=>{let t=Object(c["b"])(p,"clientes"),e=[];_.value.searchQuery&&e.push(Object(c["m"])("tel",">=",_.value.searchQuery)),_.value.searchQueryName&&(e.push(Object(c["m"])("nombre",">=",_.value.searchQueryName)),e.push(Object(c["m"])("nombre","<=",_.value.searchQueryName+""))),_.value.searchQuerySurname&&(e.push(Object(c["m"])("apellidos",">=",_.value.searchQuerySurname)),e.push(Object(c["m"])("apellidos","<=",_.value.searchQuerySurname+""))),0===e.length&&e.push(Object(c["i"])("time","desc"),Object(c["g"])(30));const s=await Object(c["e"])(Object(c["j"])(t,...e));a.value=s.docs.map(t=>({id:t.id,...t.data()})),D()},S=t=>{Object.assign(_.value,t),y.value.forEach(a=>{a.value=t[a.name]||""}),R()},O=async()=>{const t=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("confirmaCaso","==","0"),Object(c["m"])("telCliente","==",l.value));C.value=(await Object(c["e"])(t)).docs.map(t=>({id:t.id,...t.data()})),u.value=C.value[0],d.value=!0},D=()=>{e.value=a.value.map(t=>{const a={...t};a.comunidad=la[a.comunidad],a.provincia=da[a.provincia],a.id=t.id,a.time=t.time?t.time:1723068e6;const e=new Date(a.time),s=new Date,i=s-e,o=Math.floor(i/864e5);return a.dias=o,a})},P=Object(s["computed"])(()=>{let t=e.value;return _.value.searchQuery&&(t=t.filter(t=>t.tel.includes(_.value.searchQuery))),_.value.searchQueryName&&(t=t.filter(t=>t.nombre.toLowerCase().includes(_.value.searchQueryName.toLowerCase()))),_.value.searchQuerySurname&&(t=t.filter(t=>t.apellidos.toLowerCase().includes(_.value.searchQuerySurname.toLowerCase()))),t.sort((t,a)=>{if("string"===typeof t[k.value]){if(t[k.value].toLowerCase()<a[k.value].toLowerCase())return-1;if(t[k.value].toLowerCase()>a[k.value].toLowerCase())return 1}else{if(t[k.value]<a[k.value])return-1;if(t[k.value]>a[k.value])return 1}return 0})}),j=t=>{i.value=t,n.value=!0},E=async()=>{try{const t=Object(c["d"])(p,"clientes",i.value.id);await Object(c["l"])(t,o.value),x(),n.value=!1}catch(t){console.error("Error al actualizar el cliente:",t)}},N=async()=>{try{const t=Object(c["d"])(p,"clientes",i.value.id);await Object(c["l"])(t,{confirmaCaso:o.value.confirmaCaso}),x(),n.value=!1}catch(t){console.error("Error al actualizar el cliente:",t)}},T=()=>{0===C.value.length&&(i.value.confirmaCaso="1",o.value=i.value,N(),d.value=!1)},I=async t=>{try{const a=Object(c["d"])(p,"casos",t.id);await Object(c["l"])(a,t),await O(),T()}catch(a){console.error("Error al actualizar el cliente:",a)}},F=t=>{o.value=t,E()},$=async t=>{t.telCliente=l.value,t.telEspecialista=null,t.status="0",t.time=(new Date).getTime(),"0"===t.confirmaCaso&&(i.value.confirmaCaso="0",o.value=i.value,N()),await Object(c["a"])(Object(c["b"])(p,"casos"),t),l.value=null,r.value=!1},M=async()=>{try{const t=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("telCliente","==",f.value.tel)),a=await Object(c["e"])(t),e=a.docs.map(t=>Object(c["c"])(Object(c["d"])(p,"casos",t.id)));await Promise.all(e)}catch(t){console.error("Error al eliminar clientes:",t)}},L=t=>{b.value=parseInt(t),R()},R=()=>{const t={filters:{},order:k.value,currentPage:b.value};y.value.forEach(a=>{t.filters[a.name]=a.value}),localStorage.setItem("listadoClientesState",JSON.stringify(t))},z=()=>{const t=localStorage.getItem("listadoClientesState");if(t){const a=JSON.parse(t);a.filters&&(y.value.forEach(t=>{t.value=a.filters[t.name]||""}),_.value={searchQuery:a.filters.searchQuery||"",searchQueryName:a.filters.searchQueryName||"",searchQuerySurname:a.filters.searchQuerySurname||""},k.value=a.order||w[0].key,a.currentPage&&(b.value=parseInt(a.currentPage))),x()}else x()};Object(s["watch"])(k,()=>{R()}),Object(s["watch"])(_,()=>{R()},{deep:!0}),Object(s["watch"])(b,()=>{R()});const B=t=>(R(),{name:"UserProfile",params:{id:t.id},query:{type:"cliente"}});Object(s["onMounted"])(()=>{z(),window.addEventListener("keyup",U)}),Object(s["onBeforeUnmount"])(()=>{R(),window.removeEventListener("keyup",U)});const U=t=>{"Enter"===t.key&&x()};return{createModal:t,formattedClientes:e,fields:w,filteredClientes:P,editClient:j,modalShow:n,clientToEdit:i,recivedInfo:F,modalDelete:m,recivedCase:$,modalCase:r,modalOpenCase:d,caseToEdit:u,cases:C,clientToDelete:f,showSuccess:v,showAsAdmin:h,deleteClient:t=>{f.value=t,m.value=!0},newCase:t=>{i.value=t,l.value=t.tel,r.value=!0},openCase:t=>{i.value=t,l.value=t.tel,O()},recivedCheckCase:t=>{t.confirmaCaso="1",I(t)},deleteUser:async()=>{M();try{await Object(c["c"])(Object(c["d"])(p,"clientes",f.value.id)),v.value=!0,m.value=!1,x(),setTimeout(()=>{v.value=!1},3e3)}catch(t){console.error("Error al eliminar el documento: ",t)}},filterFields:y,filters:_,handleFiltersSubmit:S,order:k,orderColumnList:A,fetchData:x,navigateToProfile:B,currentPage:b,handlePageChange:L}}},ce=ne,re=Object(b["a"])(ce,Ia,Fa,!1,null,null,null),le=re.exports,de=function(){var t=this,a=t._self._c;return a("div",{staticClass:"agenda-container"},[a("div",{staticClass:"agenda-header"},[a("div",{staticClass:"header-content"},[a("button",{staticClass:"back-button",on:{click:function(a){return t.$router.back()}}},[a("i",{staticClass:"ti-arrow-left"}),t._v("\n        Volver al dashboard\n      ")]),a("h1",{staticClass:"agenda-title"},[t._v("Agenda de Citas")]),a("div",{staticClass:"view-controls"},[a("button",{staticClass:"view-btn",class:{active:"week"===t.currentView},on:{click:function(a){t.currentView="week"}}},[a("i",{staticClass:"ti-calendar"}),t._v("\n          Semana\n        ")]),a("button",{staticClass:"view-btn",class:{active:"month"===t.currentView},on:{click:function(a){t.currentView="month"}}},[a("i",{staticClass:"ti-calendar"}),t._v("\n          Mes\n        ")])])])]),a("div",{staticClass:"agenda-content"},[a("div",{staticClass:"navigation-controls"},[a("button",{staticClass:"nav-btn",on:{click:t.previousPeriod}},[a("i",{staticClass:"ti-arrow-left"})]),a("h2",{staticClass:"period-title"},[t._v(t._s(t.periodTitle))]),a("button",{staticClass:"nav-btn",on:{click:t.nextPeriod}},[a("i",{staticClass:"ti-arrow-right"})]),a("button",{staticClass:"today-btn",on:{click:t.goToToday}},[t._v("\n        Hoy\n      ")])]),"week"===t.currentView?a("div",{staticClass:"week-view"},[a("div",{staticClass:"week-header"},[a("div",{staticClass:"time-column-header"}),t._l(t.weekDays,(function(e){return a("div",{key:e.date,staticClass:"day-header",class:{today:e.isToday}},[a("div",{staticClass:"day-name"},[t._v(t._s(e.name))]),a("div",{staticClass:"day-date"},[t._v(t._s(e.date))])])}))],2),a("div",{staticClass:"week-grid"},[a("div",{staticClass:"time-slots"},t._l(t.businessHours,(function(e){return a("div",{key:e,staticClass:"time-slot"},[t._v("\n            "+t._s(t.formatHour(e))+"\n          ")])})),0),a("div",{staticClass:"week-columns"},t._l(t.weekDays,(function(e){return a("div",{key:e.fullDate,staticClass:"day-column"},t._l(t.businessHours,(function(s){return a("div",{key:s,staticClass:"time-cell",on:{click:function(a){return t.openAppointmentModal(e.fullDate,s)}}},[a("div",{staticClass:"appointments-container",class:{multiple:t.getAppointmentsForDayAndHour(e.fullDate,s).length>1}},t._l(t.getAppointmentsForDayAndHour(e.fullDate,s),(function(e){return a("div",{key:e.id,staticClass:"appointment-card",class:e.status,on:{click:function(a){return a.stopPropagation(),t.openAppointmentDetail(e)}}},[a("div",{staticClass:"appointment-time"},[t._v(t._s(e.hora))]),a("div",{staticClass:"appointment-client"},[t._v(t._s(e.cliente))]),a("div",{staticClass:"appointment-service"},[t._v(t._s(e.tipoServicio))]),a("div",{staticClass:"appointment-employee"},[t._v(t._s(e.empleado))]),a("div",{staticClass:"appointment-status",class:e.status},[t._v("\n                    "+t._s(t.getStatusText(e.status))+"\n                  ")])])})),0)])})),0)})),0)])]):t._e(),"month"===t.currentView?a("div",{staticClass:"month-view"},[a("div",{staticClass:"month-grid"},t._l(t.monthDays,(function(e){return a("div",{key:e.date,staticClass:"month-day",class:{today:e.isToday,otherMonth:e.otherMonth,hasAppointments:t.getAppointmentsForDay(e.fullDate).length>0},on:{click:function(a){return t.openDayView(e.fullDate)}}},[a("div",{staticClass:"day-number"},[t._v(t._s(e.dayNumber))]),a("div",{staticClass:"appointments-preview"},[t._l(["confirmada","pendiente","cancelada","completada"],(function(s){return t.getAppointmentsByStatus(e.fullDate,s).length>0?a("div",{key:s,staticClass:"appointment-count",class:s},[t._v("\n              "+t._s(t.getAppointmentsByStatus(e.fullDate,s).length)+"\n            ")]):t._e()})),0===t.getAppointmentsForDay(e.fullDate).length?a("div",{staticClass:"no-appointments"},[t._v("\n              -\n            ")]):t._e()],2)])})),0)]):t._e()]),a("b-modal",{attrs:{title:"Detalle de Cita",size:"lg","hide-footer":""},model:{value:t.showAppointmentDetail,callback:function(a){t.showAppointmentDetail=a},expression:"showAppointmentDetail"}},[t.selectedAppointment?a("div",{staticClass:"appointment-detail"},[a("div",{staticClass:"detail-section"},[a("h4",[a("i",{staticClass:"ti-user"}),t._v(" Cliente")]),a("p",[t._v(t._s(t.selectedAppointment.cliente))])]),a("div",{staticClass:"detail-section"},[a("h4",[a("i",{staticClass:"ti-calendar"}),t._v(" Fecha y Hora")]),a("p",[t._v(t._s(t.formatDateTime(t.selectedAppointment.fecha,t.selectedAppointment.hora)))])]),a("div",{staticClass:"detail-section"},[a("h4",[a("i",{staticClass:"ti-settings"}),t._v(" Tipo de Servicio")]),a("p",[t._v(t._s(t.selectedAppointment.tipoServicio))])]),a("div",{staticClass:"detail-section"},[a("h4",[a("i",{staticClass:"ti-user"}),t._v(" Empleado Asignado")]),a("p",[t._v(t._s(t.selectedAppointment.empleado))])]),a("div",{staticClass:"detail-section"},[a("h4",[a("i",{staticClass:"ti-flag"}),t._v(" Estado")]),a("span",{staticClass:"status-badge",class:t.selectedAppointment.status},[t._v("\n          "+t._s(t.getStatusText(t.selectedAppointment.status))+"\n        ")])]),t.selectedAppointment.notas?a("div",{staticClass:"detail-section"},[a("h4",[a("i",{staticClass:"ti-comment"}),t._v(" Notas Internas")]),a("p",[t._v(t._s(t.selectedAppointment.notas))])]):t._e(),a("div",{staticClass:"detail-actions"},[a("button",{staticClass:"btn-edit",on:{click:t.editAppointment}},[a("i",{staticClass:"ti-pencil"}),t._v(" Editar\n        ")]),a("button",{staticClass:"btn-delete",on:{click:t.deleteAppointment}},[a("i",{staticClass:"ti-trash"}),t._v(" Eliminar\n        ")])])]):t._e()]),a("b-modal",{attrs:{title:"Nueva Cita",size:"lg","hide-footer":""},model:{value:t.showNewAppointment,callback:function(a){t.showNewAppointment=a},expression:"showNewAppointment"}},[a("div",{staticClass:"new-appointment-form"},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Cliente")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.cliente,expression:"newAppointment.cliente"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre del cliente"},domProps:{value:t.newAppointment.cliente},on:{input:function(a){a.target.composing||t.$set(t.newAppointment,"cliente",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Fecha")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.fecha,expression:"newAppointment.fecha"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.newAppointment.fecha},on:{input:function(a){a.target.composing||t.$set(t.newAppointment,"fecha",a.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Hora")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.hora,expression:"newAppointment.hora"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.newAppointment.hora},on:{input:function(a){a.target.composing||t.$set(t.newAppointment,"hora",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Tipo de Servicio")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.tipoServicio,expression:"newAppointment.tipoServicio"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.newAppointment,"tipoServicio",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:""}},[t._v("Seleccionar servicio")]),a("option",{attrs:{value:"Consulta inicial"}},[t._v("Consulta inicial")]),a("option",{attrs:{value:"Seguimiento"}},[t._v("Seguimiento")]),a("option",{attrs:{value:"Juicio"}},[t._v("Juicio")]),a("option",{attrs:{value:"Firma de documentos"}},[t._v("Firma de documentos")]),a("option",{attrs:{value:"Reunión"}},[t._v("Reunión")])])])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Empleado Asignado")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.empleado,expression:"newAppointment.empleado"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.newAppointment,"empleado",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:""}},[t._v("Seleccionar empleado")]),a("option",{attrs:{value:"Dr. Carlos Martínez"}},[t._v("Dr. Carlos Martínez")]),a("option",{attrs:{value:"Dra. Ana García"}},[t._v("Dra. Ana García")]),a("option",{attrs:{value:"Dr. Luis Rodríguez"}},[t._v("Dr. Luis Rodríguez")])])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Estado")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.status,expression:"newAppointment.status"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.newAppointment,"status",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:"confirmada"}},[t._v("Confirmada")]),a("option",{attrs:{value:"pendiente"}},[t._v("Pendiente")]),a("option",{attrs:{value:"cancelada"}},[t._v("Cancelada")]),a("option",{attrs:{value:"completada"}},[t._v("Completada")])])])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Notas Internas")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.notas,expression:"newAppointment.notas"}],staticClass:"form-control",attrs:{rows:"3",placeholder:"Notas adicionales..."},domProps:{value:t.newAppointment.notas},on:{input:function(a){a.target.composing||t.$set(t.newAppointment,"notas",a.target.value)}}})]),a("div",{staticClass:"form-actions"},[a("button",{staticClass:"btn-cancel",on:{click:function(a){t.showNewAppointment=!1}}},[t._v("Cancelar")]),a("button",{staticClass:"btn-save",on:{click:t.saveAppointment}},[t._v("Guardar Cita")])])])])],1)},ue=[],pe={setup(){const t=Object(s["ref"])("week"),a=Object(s["ref"])(new Date),e=Object(s["ref"])(!1),i=Object(s["ref"])(!1),o=Object(s["ref"])(null),n=Object(s["ref"])(null),c=Object(s["ref"])(null),r=Object(s["ref"])([{id:1,cliente:"María González López",fecha:"2024-01-15",hora:"10:30",tipoServicio:"Consulta inicial",empleado:"Dr. Carlos Martínez",status:"confirmada",notas:"Cliente interesado en caso de despido improcedente"},{id:2,cliente:"Juan Pérez García",fecha:"2024-01-15",hora:"14:00",tipoServicio:"Seguimiento",empleado:"Dra. Ana García",status:"pendiente",notas:"Revisión de documentos del caso de familia"},{id:3,cliente:"Carmen Ruiz Martín",fecha:"2024-01-16",hora:"09:00",tipoServicio:"Juicio",empleado:"Dr. Luis Rodríguez",status:"confirmada",notas:"Audiencia judicial - Juzgado de lo Social"},{id:4,cliente:"Pedro Sánchez López",fecha:"2024-01-16",hora:"16:30",tipoServicio:"Firma de documentos",empleado:"Dr. Carlos Martínez",status:"completada",notas:"Firma de acuerdo de divorcio"},{id:5,cliente:"Isabel Moreno Jiménez",fecha:"2024-01-17",hora:"11:15",tipoServicio:"Reunión",empleado:"Dra. Ana García",status:"cancelada",notas:"Cliente canceló por motivos personales"}]),l=()=>{const t=new Date,a=f(t),e=[{id:1,cliente:"María González López",fecha:y(a),hora:"10:30",tipoServicio:"Consulta inicial",empleado:"Dr. Carlos Martínez",status:"confirmada",notas:"Cliente interesado en caso de despido improcedente"},{id:2,cliente:"Juan Pérez García",fecha:y(a),hora:"14:00",tipoServicio:"Seguimiento",empleado:"Dra. Ana García",status:"pendiente",notas:"Revisión de documentos del caso de familia"},{id:3,cliente:"Carmen Ruiz Martín",fecha:y(new Date(a.getTime()+864e5)),hora:"09:00",tipoServicio:"Juicio",empleado:"Dr. Luis Rodríguez",status:"confirmada",notas:"Audiencia judicial - Juzgado de lo Social"},{id:4,cliente:"Pedro Sánchez López",fecha:y(new Date(a.getTime()+864e5)),hora:"16:30",tipoServicio:"Firma de documentos",empleado:"Dr. Carlos Martínez",status:"completada",notas:"Firma de acuerdo de divorcio"},{id:5,cliente:"Isabel Moreno Jiménez",fecha:y(new Date(a.getTime()+1728e5)),hora:"11:15",tipoServicio:"Reunión",empleado:"Dra. Ana García",status:"cancelada",notas:"Cliente canceló por motivos personales"},{id:6,cliente:"Roberto Fernández",fecha:y(new Date(a.getTime()+2592e5)),hora:"08:00",tipoServicio:"Consulta inicial",empleado:"Dr. Carlos Martínez",status:"confirmada",notas:"Primera consulta sobre herencia"},{id:7,cliente:"Laura Martínez",fecha:y(new Date(a.getTime()+3456e5)),hora:"15:45",tipoServicio:"Seguimiento",empleado:"Dra. Ana García",status:"pendiente",notas:"Revisión de documentos de divorcio"},{id:8,cliente:"Ana López Silva",fecha:y(a),hora:"10:30",tipoServicio:"Consulta familiar",empleado:"Dra. Ana García",status:"confirmada",notas:"Consulta sobre custodia de menores"},{id:9,cliente:"Miguel Torres Vega",fecha:y(new Date(a.getTime()+864e5)),hora:"09:00",tipoServicio:"Seguimiento laboral",empleado:"Dr. Carlos Martínez",status:"pendiente",notas:"Revisión de expediente de accidente laboral"},{id:10,cliente:"Sofía Ramírez",fecha:y(new Date(a.getTime()+1728e5)),hora:"11:15",tipoServicio:"Firma de documentos",empleado:"Dr. Luis Rodríguez",status:"confirmada",notas:"Firma de contrato de arrendamiento"},{id:11,cliente:"Carlos Mendoza",fecha:y(new Date(a.getTime()+2592e5)),hora:"08:00",tipoServicio:"Juicio",empleado:"Dra. Ana García",status:"confirmada",notas:"Audiencia de divorcio contencioso"},{id:12,cliente:"Elena Castro",fecha:y(new Date(a.getTime()+3456e5)),hora:"15:45",tipoServicio:"Consulta inicial",empleado:"Dr. Luis Rodríguez",status:"pendiente",notas:"Primera consulta sobre derecho mercantil"}];r.value=e},d=Object(s["ref"])({cliente:"",fecha:"",hora:"",tipoServicio:"",empleado:"",status:"pendiente",notas:""}),u=Array.from({length:24},(t,a)=>a),p=Object(s["computed"])(()=>{if("week"===t.value){const t=f(a.value),e=C(a.value);return`${b(t)} - ${b(e)}`}return g(a.value)}),m=Object(s["computed"])(()=>{const t=f(a.value),e=[];for(let a=0;a<7;a++){const s=new Date(t);s.setDate(s.getDate()+a),e.push({name:h(s),date:_(s),fullDate:y(s),isToday:A(s)})}return e}),v=Object(s["computed"])(()=>{const t=a.value.getFullYear(),e=a.value.getMonth(),s=new Date(t,e,1),i=new Date(t,e+1,0),o=new Date(s),n=new Date(i),c=new Date(o),r=o.getDay(),l=0===r?6:r-1;c.setDate(c.getDate()-l);const d=[],u=new Date(c);while(u<=n||1!==u.getDay())d.push({dayNumber:u.getDate(),fullDate:y(u),isToday:A(u),otherMonth:u.getMonth()!==e}),u.setDate(u.getDate()+1);return d}),f=t=>{const a=new Date(t),e=a.getDay(),s=a.getDate()-e+(0===e?-6:1);return new Date(a.setDate(s))},C=t=>{const a=f(t),e=new Date(a);return e.setDate(e.getDate()+6),e},b=t=>t.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),g=t=>t.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),h=t=>t.toLocaleDateString("es-ES",{weekday:"short"}),_=t=>t.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"}),y=t=>t.toISOString().split("T")[0],w=t=>t.toString().padStart(2,"0")+":00",k=(t,a)=>`${b(new Date(t))} a las ${a}`,A=t=>{const a=new Date;return t.toDateString()===a.toDateString()},x=t=>{const a={confirmada:"Confirmada",pendiente:"Pendiente",cancelada:"Cancelada",completada:"Completada"};return a[t]||t},S=(t,a)=>r.value.filter(e=>{const s=parseInt(e.hora.split(":")[0]);return e.fecha===t&&s===a}),O=t=>r.value.filter(a=>a.fecha===t),D=(t,a)=>r.value.filter(e=>e.fecha===t&&e.status===a),P=()=>{if(console.log("Navegando a período anterior"),"week"===t.value){const t=new Date(a.value);t.setDate(t.getDate()-7),a.value=t,console.log("Nueva fecha (semana anterior):",a.value)}else{const t=new Date(a.value);t.setMonth(t.getMonth()-1),a.value=t,console.log("Nueva fecha (mes anterior):",a.value)}},j=()=>{if(console.log("Navegando a período siguiente"),"week"===t.value){const t=new Date(a.value);t.setDate(t.getDate()+7),a.value=t,console.log("Nueva fecha (semana siguiente):",a.value)}else{const t=new Date(a.value);t.setMonth(t.getMonth()+1),a.value=t,console.log("Nueva fecha (mes siguiente):",a.value)}},E=()=>{console.log("Navegando a hoy"),a.value=new Date,console.log("Nueva fecha (hoy):",a.value)},N=(t,a)=>{n.value=t,c.value=a,d.value.fecha=t,d.value.hora=a+":00",i.value=!0},T=t=>{o.value=t,e.value=!0},I=e=>{t.value="week";const s=new Date(e);a.value=s},F=()=>{console.log("Editar cita:",o.value)},$=()=>{if(confirm("¿Estás seguro de que quieres eliminar esta cita?")){const t=r.value.findIndex(t=>t.id===o.value.id);t>-1&&(r.value.splice(t,1),e.value=!1)}},M=()=>{if(d.value.cliente&&d.value.fecha&&d.value.hora){const t={id:Date.now(),...d.value};r.value.push(t),d.value={cliente:"",fecha:"",hora:"",tipoServicio:"",empleado:"",status:"pendiente",notas:""},i.value=!1}};return Object(s["onMounted"])(()=>{a.value=new Date,l()}),{currentView:t,currentDate:a,showAppointmentDetail:e,showNewAppointment:i,selectedAppointment:o,appointments:r,newAppointment:d,businessHours:u,periodTitle:p,weekDays:m,monthDays:v,previousPeriod:P,nextPeriod:j,goToToday:E,openAppointmentModal:N,openAppointmentDetail:T,openDayView:I,editAppointment:F,deleteAppointment:$,saveAppointment:M,getAppointmentsForDayAndHour:S,getAppointmentsForDay:O,getAppointmentsByStatus:D,formatHour:w,formatDateTime:k,getStatusText:x,generateSampleData:l}}},me=pe,ve=(e("ffa1"),Object(b["a"])(me,de,ue,!1,null,"fb998f18",null)),fe=ve.exports,Ce=function(){var t=this,a=t._self._c;return a("div",{staticClass:"agenda-citas-container"},[t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"options-grid"},[a("div",{staticClass:"option-card",on:{click:t.goToListadoCitas}},[t._m(1),a("div",{staticClass:"card-content"},[a("h3",[t._v("Listado de Citas")]),a("p",[t._v("Visualiza y gestiona todas las citas programadas en formato de lista")]),a("div",{staticClass:"card-stats"},[a("span",{staticClass:"stat-item"},[a("i",{staticClass:"ti-calendar"}),t._v("\n              "+t._s(t.totalCitas)+" citas totales\n            ")]),a("span",{staticClass:"stat-item"},[a("i",{staticClass:"ti-clock"}),t._v("\n              "+t._s(t.citasHoy)+" citas hoy\n            ")])])]),t._m(2)]),a("div",{staticClass:"option-card",on:{click:t.goToAgenda}},[t._m(3),t._m(4),t._m(5)])]),a("div",{staticClass:"quick-summary"},[a("h3",[t._v("Resumen Rápido")]),a("div",{staticClass:"summary-grid"},[a("div",{staticClass:"summary-card confirmadas"},[t._m(6),a("div",{staticClass:"summary-content"},[a("div",{staticClass:"summary-number"},[t._v(t._s(t.citasConfirmadas))]),a("div",{staticClass:"summary-label"},[t._v("Confirmadas")])])]),a("div",{staticClass:"summary-card pendientes"},[t._m(7),a("div",{staticClass:"summary-content"},[a("div",{staticClass:"summary-number"},[t._v(t._s(t.citasPendientes))]),a("div",{staticClass:"summary-label"},[t._v("Pendientes")])])]),a("div",{staticClass:"summary-card canceladas"},[t._m(8),a("div",{staticClass:"summary-content"},[a("div",{staticClass:"summary-number"},[t._v(t._s(t.citasCanceladas))]),a("div",{staticClass:"summary-label"},[t._v("Canceladas")])])]),a("div",{staticClass:"summary-card completadas"},[t._m(9),a("div",{staticClass:"summary-content"},[a("div",{staticClass:"summary-number"},[t._v(t._s(t.citasCompletadas))]),a("div",{staticClass:"summary-label"},[t._v("Completadas")])])])])])])])},be=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-calendar"}),t._v("\n        Agenda y Citas\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Gestiona tus citas y agenda de manera eficiente")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-icon"},[a("i",{staticClass:"ti-list"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-arrow"},[a("i",{staticClass:"ti-arrow-right"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-icon"},[a("i",{staticClass:"ti-calendar"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-content"},[a("h3",[t._v("Agenda")]),a("p",[t._v("Visualiza las citas en formato de calendario semanal y mensual")]),a("div",{staticClass:"card-stats"},[a("span",{staticClass:"stat-item"},[a("i",{staticClass:"ti-calendar"}),t._v("\n              Vista semanal y mensual\n            ")]),a("span",{staticClass:"stat-item"},[a("i",{staticClass:"ti-time"}),t._v("\n              Gestión por horas\n            ")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-arrow"},[a("i",{staticClass:"ti-arrow-right"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"summary-icon"},[a("i",{staticClass:"ti-check"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"summary-icon"},[a("i",{staticClass:"ti-time"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"summary-icon"},[a("i",{staticClass:"ti-close"})])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"summary-icon"},[a("i",{staticClass:"ti-check-box"})])}],ge={setup(){const t=Object(_["useRouter"])(),a=Object(s["ref"])([{id:1,cliente:"María González López",fecha:"2024-01-15",hora:"10:30",status:"confirmada"},{id:2,cliente:"Juan Pérez García",fecha:"2024-01-15",hora:"14:00",status:"pendiente"},{id:3,cliente:"Carmen Ruiz Martín",fecha:"2024-01-16",hora:"09:00",status:"confirmada"},{id:4,cliente:"Pedro Sánchez López",fecha:"2024-01-16",hora:"16:30",status:"completada"},{id:5,cliente:"Isabel Moreno Jiménez",fecha:"2024-01-17",hora:"11:15",status:"cancelada"}]),e=Object(s["computed"])(()=>a.value.length),i=Object(s["computed"])(()=>{const t=(new Date).toISOString().split("T")[0];return a.value.filter(a=>a.fecha===t).length}),o=Object(s["computed"])(()=>a.value.filter(t=>"confirmada"===t.status).length),n=Object(s["computed"])(()=>a.value.filter(t=>"pendiente"===t.status).length),c=Object(s["computed"])(()=>a.value.filter(t=>"cancelada"===t.status).length),r=Object(s["computed"])(()=>a.value.filter(t=>"completada"===t.status).length),l=()=>{t.push("/listado-citas")},d=()=>{t.push("/agenda")};return Object(s["onMounted"])(()=>{console.log("Agenda y Citas - Página cargada")}),{totalCitas:e,citasHoy:i,citasConfirmadas:o,citasPendientes:n,citasCanceladas:c,citasCompletadas:r,goToListadoCitas:l,goToAgenda:d}}},he=ge,_e=(e("04fa"),Object(b["a"])(he,Ce,be,!1,null,"243b7df4",null)),ye=_e.exports,we=function(){var t=this,a=t._self._c;return a("div",{staticClass:"profile-container"},[a("div",{staticClass:"profile-header"},[a("div",{staticClass:"header-content"},[a("button",{staticClass:"back-button",on:{click:function(a){return t.$router.back()}}},[a("i",{staticClass:"ti-arrow-left"}),t._v("\n        Volver al listado\n      ")]),a("h1",{staticClass:"profile-title"},[t._v(t._s("Perfil de "+t.typeUser))])])]),a("div",{staticClass:"profile-content"},[a("div",{staticClass:"main-info-card"},[a("div",{staticClass:"user-avatar"},[a("div",{staticClass:"avatar-circle"},[a("span",{staticClass:"avatar-text"},[t._v(t._s(t.user.nombre?t.user.nombre.charAt(0).toUpperCase():"U"))])]),a("div",{staticClass:"user-status",class:t.getStatusClass()},[a("span",{staticClass:"status-dot"}),t._v("\n          "+t._s(t.getStatusText())+"\n        ")])]),a("div",{staticClass:"user-info"},[a("h2",{staticClass:"user-name"},[t._v(t._s(t.user.nombre)+" "+t._s(t.user.apellidos))]),a("p",{staticClass:"user-role"},[t._v(t._s(t.getRoleText()))]),a("div",{staticClass:"contact-info"},[a("div",{staticClass:"contact-item"},[a("i",{staticClass:"ti-mobile"}),a("span",[t._v(t._s(t.user.tel||"No disponible"))])]),t.user.email?a("div",{staticClass:"contact-item"},[a("i",{staticClass:"ti-email"}),a("span",[t._v(t._s(t.user.email))])]):t._e()])])]),a("div",{staticClass:"info-grid"},[a("div",{staticClass:"info-card personal-info"},[t._m(0),a("div",{staticClass:"card-content"},[a("div",{staticClass:"info-row"},[a("span",{staticClass:"label"},[t._v("Nombre completo:")]),a("span",{staticClass:"value"},[t._v(t._s(t.user.nombre)+" "+t._s(t.user.apellidos))])]),t.user.fechaNacimiento?a("div",{staticClass:"info-row"},[a("span",{staticClass:"label"},[t._v("Fecha de nacimiento:")]),a("span",{staticClass:"value"},[t._v(t._s(t.formatDate(t.user.fechaNacimiento)))])]):t._e(),t.user.direccion?a("div",{staticClass:"info-row"},[a("span",{staticClass:"label"},[t._v("Dirección:")]),a("span",{staticClass:"value"},[t._v(t._s(t.user.direccion))])]):t._e(),t.user.codigoPostal?a("div",{staticClass:"info-row"},[a("span",{staticClass:"label"},[t._v("Código postal:")]),a("span",{staticClass:"value"},[t._v(t._s(t.user.codigoPostal))])]):t._e(),t.user.notas?a("div",{staticClass:"info-row"},[a("span",{staticClass:"label"},[t._v("Notas:")]),a("span",{staticClass:"value"},[t._v(t._s(t.user.notas))])]):t._e()])]),a("div",{staticClass:"info-card stats-card"},[t._m(1),a("div",{staticClass:"stats-grid"},[t._m(2),a("div",{staticClass:"stat-item"},[a("div",{staticClass:"stat-number"},[t._v(t._s(t.totalRevenue)+"€")]),a("div",{staticClass:"stat-label"},[t._v("Coste del cliente")])]),a("div",{staticClass:"stat-item"},[a("div",{staticClass:"stat-number"},[t._v(t._s(t.totalRevenue/t.visitHistory.length)+"€")]),a("div",{staticClass:"stat-label"},[t._v("Coste por visita")])])])]),a("div",{staticClass:"info-card visits-card"},[t._m(3),a("div",{staticClass:"visits-list"},[t._l(t.visitHistory,(function(e,s){return a("div",{key:s,staticClass:"visit-item"},[a("div",{staticClass:"visit-date"},[a("div",{staticClass:"date-day"},[t._v(t._s(t.formatVisitDate(e.fecha).day))]),a("div",{staticClass:"date-month"},[t._v(t._s(t.formatVisitDate(e.fecha).month))])]),a("div",{staticClass:"visit-details"},[a("h4",[t._v(t._s(e.tipo))]),a("p",[t._v(t._s(e.descripcion))]),a("span",{staticClass:"visit-status",class:e.status},[t._v(t._s(e.status))])]),a("div",{staticClass:"visit-time"},[t._v(t._s(e.hora))])])})),0===t.visitHistory.length?a("div",{staticClass:"no-data"},[a("i",{staticClass:"ti-calendar"}),a("p",[t._v("No hay visitas registradas")])]):t._e()],2)]),a("div",{staticClass:"info-card purchases-card"},[t._m(4),a("div",{staticClass:"purchases-list"},[t._l(t.purchaseHistory,(function(e,s){return a("div",{key:s,staticClass:"purchase-item"},[a("div",{staticClass:"purchase-icon"},[a("i",{class:t.getPurchaseIcon(e.tipo)})]),a("div",{staticClass:"purchase-details"},[a("h4",[t._v(t._s(e.producto))]),a("p",[t._v(t._s(e.descripcion))]),a("div",{staticClass:"purchase-meta"},[a("span",{staticClass:"purchase-date"},[t._v(t._s(t.formatDate(e.fecha)))]),a("span",{staticClass:"purchase-status",class:e.status},[t._v(t._s(e.status))])])]),a("div",{staticClass:"purchase-amount"},[a("span",{staticClass:"amount"},[t._v(t._s(e.precio)+"€")])])])})),0===t.purchaseHistory.length?a("div",{staticClass:"no-data"},[a("i",{staticClass:"ti-shopping-cart"}),a("p",[t._v("No hay compras registradas")])]):t._e()],2)])]),null===t.caseDetail||t.gestionPermiso?t._e():a("div",{staticClass:"case-detail-section"},[a("user-case",{attrs:{caseDetail:t.caseDetail,isClient:t.isClient,userCase:t.userCase,user:t.user},on:{back:function(a){t.caseDetail=null}}})],1),t.gestionPermiso?a("div",{staticClass:"permissions-section"},[a("gestion-permisos",{attrs:{user:t.user},on:{back:function(a){t.gestionPermiso=!1}}})],1):t._e()]),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Añadir cita o juicio\n    ")]},proxy:!0}]),model:{value:t.showModalCita,callback:function(a){t.showModalCita=a},expression:"showModalCita"}}),a("b-modal",{attrs:{title:"Nueva Remesa","hide-footer":""},model:{value:t.showRemesa,callback:function(a){t.showRemesa=a},expression:"showRemesa"}},[a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v("Remesas para: "+t._s(t.user.nombre+t.user.apellidos))])]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v("Fecha de Remesa")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newRemesa.fecha,expression:"newRemesa.fecha"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:t.newRemesa.fecha},on:{input:function(a){a.target.composing||t.$set(t.newRemesa,"fecha",a.target.value)}}})]),a("div",{staticClass:"mb-3"},[a("label",{staticClass:"form-label"},[t._v("Cantidad")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newRemesa.cantidad,expression:"newRemesa.cantidad"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:t.newRemesa.cantidad},on:{input:function(a){a.target.composing||t.$set(t.newRemesa,"cantidad",a.target.value)}}})]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[t._v("Remesas creadas: ")]),t._l(t.remesas,(function(e,s){return a("div",{key:s,staticClass:"col-12 mt-2"},[a("b",[t._v(t._s(e.fecha)+" - "+t._s(e.cantidad)+"€")]),a("i",{staticClass:"ti-trash",on:{click:function(a){return t.remesas.splice(s,1)}}})])}))],2),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-success",on:{click:function(a){return t.addRemesa()}}},[t._v("Añadir nueva fecha de remesa")])]),a("div",{staticClass:"col-12 mt-5"},[a("button",{staticClass:"btn btn-success",on:{click:function(a){return t.addAllRemesas()}}},[t._v("Guardar remesas")])])])])],1)},ke=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"ti-user"}),a("h3",[t._v("Información Personal")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"ti-stats-up"}),a("h3",[t._v("Estadísticas")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"stat-item"},[a("div",{staticClass:"stat-number"},[t._v("5")]),a("div",{staticClass:"stat-label"},[t._v("Número total de visitas")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"ti-calendar"}),a("h3",[t._v("Histórico de Visitas")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-header"},[a("i",{staticClass:"ti-shopping-cart"}),a("h3",[t._v("Histórico de Compras")])])}],Ae=function(){var t=this,a=t._self._c;return a("card",{staticClass:"card-user"},[t.showSuccess?a("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Observación modificada con exito")]):t._e(),a("div",[a("h4",{staticClass:"title"},[t._v("\n        "+t._s(t.user.apellidos?`${t.user.nombre} ${t.user.apellidos}`:""+t.user.nombre)+"\n      ")])]),t._l(t.dataUser,(function(e,s){return a("div",{key:s},[e.visible?a("div",{staticClass:"mt-2"},[e.label?a("label",{staticStyle:{display:"block"},attrs:{for:""}},[t._v(t._s(e.label)+" "),"Observaciones"===e.label?a("a",{staticClass:"text-blue",on:{click:function(a){!0===t.editObs?t.editObs=!1:t.editObs=!0}}},[t._v("Editar")]):t._e()]):t._e(),a("span",[t._v(t._s(e.span))]),"Observaciones"===e.label&&!0===t.editObs?a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.observaciones,expression:"user.observaciones"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.user.observaciones},on:{input:function(a){a.target.composing||t.$set(t.user,"observaciones",a.target.value)}}}):t._e(),a("br"),"Observaciones"===e.label&&!0===t.editObs?a("a",{staticClass:"text-blue",on:{click:t.updateObs}},[t._v("Guardar")]):t._e()]):t._e()])})),!t.isClient&&t.showAsAdmin?a("div",{staticClass:"mt-4 text-blue",staticStyle:{color:"rgb(0, 123, 255)"},on:{click:function(a){return t.$emit("permisosUsuario")}}},[t._v("\n      Gestionar permisos\n    ")]):t._e(),t.showAsAdmin&&"despacho"!==t.typeUser?a("div",{staticClass:"mt-2"},[a("a",{attrs:{href:"https://wa.me/34"+t.user.tel,target:"_blank"}},[t._v("Abrir en WhatsApp")]),a("br"),a("a",{attrs:{href:"tel:+34"+t.user.tel}},[t._v("Llamar")])]):t._e(),t.user.tel&&t.caseDetail&&t.url.includes("cliente")?a("chat",{attrs:{caseDetail:t.caseDetail,userCase:t.user}}):t._e()],2)},xe=[],Se=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container mt-5"},[a("div",{staticClass:"card shadow-sm"},[a("div",{staticClass:"py-2 bg-primary text-white text-center font-weight-bold"},[t._v("Chat")]),a("div",{ref:"chatBox",staticClass:"card-body chat-box overflow-auto",staticStyle:{"max-height":"100px"}},t._l(t.messages,(function(e){return a("div",{key:e.id,staticClass:"mb-2"},[a("div",{staticClass:"alert alert-primary text-secondary"},[a("strong",[t._v(t._s(e.user))]),a("span",{staticClass:"small text-primary ml-1"},[t._v(t._s(e.time)+" "+t._s(e.timestamp?new Date(1e3*e.timestamp.seconds+e.timestamp.nanoseconds/1e6).toISOString().split("T")[0].split("-").reverse().join("/"):""))]),a("br"),t._v("\n          "+t._s(e.text)+"\n        ")])])})),0),a("div",{staticClass:"card-footer d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newMessage,expression:"newMessage"}],attrs:{placeholder:"Escribe un mensaje..."},domProps:{value:t.newMessage},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.sendMessage.apply(null,arguments)},input:function(a){a.target.composing||(t.newMessage=a.target.value)}}})])])])},Oe=[],De={name:"ChatApp",props:{userCase:{type:Object},caseDetail:{type:Object}},setup(t){const a=Object(s["ref"])(t.userCase.tel),e=Object(s["ref"])([]),i=Object(s["ref"])("");let o=null;const n=Object(s["ref"])(JSON.parse(localStorage.getItem("userInform")));console.log(t.caseDetail.telEspecialista);const r=()=>{o&&o(),o=Object(c["h"])(Object(c["j"])(Object(c["b"])(p,"chats",a.value,"messages"),Object(c["i"])("timestamp")),t=>{e.value=t.docs.map(t=>({id:t.id,...t.data()}))})},l=async()=>{""!==i.value.trim()&&(await Object(c["a"])(Object(c["b"])(p,"chats",a.value,"messages"),{text:i.value,user:n.value.nombre,userId:n.value.id,time:(new Date).toLocaleTimeString(),timestamp:new Date}),await Object(c["a"])(Object(c["b"])(p,"notificacionesChat"),{userWrite:n.value.tel,userTo:n.value.tel===t.caseDetail.telEspecialista?"607417310":t.caseDetail.telEspecialista,userId:t.userCase.id,userName:t.userCase.nombre,userEspe:t.caseDetail.telEspecialista}),i.value="")};return Object(s["onBeforeUnmount"])(()=>{o&&o()}),Object(s["onMounted"])(()=>{console.log(t.userCase),t.userCase.tel||(a.value=t.userCase.tel),r()}),{messages:e,newMessage:i,sendMessage:l}}},Pe=De,je=(e("8cba"),Object(b["a"])(Pe,Se,Oe,!1,null,"56b0118e",null)),Ee=je.exports,Ne={props:{user:{type:Object},isClient:{type:Boolean},typeUser:{type:String},caseDetail:{type:Object}},components:{Chat:Ee},setup(t){const a=Object(s["computed"])(()=>window.location.href),e=Object(s["ref"])(!1),i=Object(s["ref"])(!1),o=Object(s["computed"])(()=>t.user.observaciones),n=t=>{if(!t)return"NA";const a=new Date(t),e=String(a.getDate()).padStart(2,"0"),s=String(a.getMonth()+1).padStart(2,"0"),i=a.getFullYear();return`${e}/${s}/${i}`},r=JSON.parse(localStorage.getItem("userInform")),l=Object(s["computed"])(()=>!(!r.admin||!0!==r.admin)),d=Object(s["computed"])(()=>[{span:t.user.tel,visible:l.value},{span:t.user.correo,visible:l.value},{span:la[t.user.comunidad]?la[t.user.comunidad]:t.user.comunidad,visible:!0},{span:da[t.user.provincia]?da[t.user.provincia]:t.user.provincia,visible:!0},{span:t.user.poblacion,visible:!0},{span:t.user.especialista?t.user.especialista:"",label:"Especialidad:",visible:t.user.especialista},{span:t.user.observaciones,label:"Observaciones",visible:t.isClient&&l.value},{span:n(t.user.time),label:"Fecha perfil creado:",visible:l.value}]),u=async()=>{const a=Object(c["d"])(p,"clientes",t.user.id);await Object(c["l"])(a,{observaciones:o.value}),i.value=!0,setTimeout(()=>{i.value=!1},4e3)};return{formatDate:n,comunidades:la,provincias:da,showAsAdmin:l,dataUser:d,editObs:e,obsModify:o,showSuccess:i,url:a,updateObs:u}}},Te=Ne,Ie=Object(b["a"])(Te,Ae,xe,!1,null,null,null),Fe=Ie.exports,$e=function(){var t=this,a=t._self._c;return a("div",[a("Listados",{attrs:{"current-page":t.currentPage,items:[...t.casesItems||[]].sort((t,a)=>{const e=t.fechaAlta?new Date(t.fechaAlta.split("/").reverse().join("-")):new Date(0),s=a.fechaAlta?new Date(a.fechaAlta.split("/").reverse().join("-")):new Date(0);return s-e}),fields:t.filteredFields},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"filters",fn:function(){return[a("Formulario",{attrs:{formClass:"form-filters",fieldClass:"col-4"}})]},proxy:!0},t.showAsAdmin?{key:"order",fn:function(){return[a("div",{staticClass:"col-3 pl-0"},[a("label",{attrs:{for:""}},[t._v("Filtrar por:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterCases,expression:"filterCases"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.filterCases=a.target.multiple?e:e[0]}}},[a("option",{key:"1",attrs:{value:"all"}},[t._v("Todos los casos")]),a("option",{key:"2",attrs:{value:"confirmed"}},[t._v("Presupuesto aceptado")])])])]},proxy:!0}:null,{key:"tableActions",fn:function({data:e}){return[null!==e.item.telCliente&&null!==e.item.telEspecialista?a("b-button",{staticClass:"my-3 mx-3",attrs:{size:"sm"},on:{click:function(a){return t.guardaCaso(e.item)}}},[t._v("\n        Ver Detalle\n      ")]):t._e(),t.showAsAdmin?a("b-button",{staticClass:"my-3 mx-3",attrs:{size:"sm"},on:{click:function(a){return t.mueveCaso(e.item)}}},[t._v("\n        Mover estado\n      ")]):t._e()]}}],null,!0)}),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Mover estado\n    ")]},proxy:!0}]),model:{value:t.editEstado,callback:function(a){t.editEstado=a},expression:"editEstado"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.casoChange,expression:"casoChange"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.casoChange=a.target.multiple?e:e[0]}}},t._l(t.estadosFilter,(function(e,s){return a("option",{key:s,domProps:{value:e}},[t._v(t._s(e))])})),0),a("p-button",{staticClass:"mt-4",attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.updateCase.apply(null,arguments)}}},[t._v("\n      Aceptar\n    ")])],1)],1)},Me=[];async function Le(t){console.log("Llegoo");const a=Object(c["d"])(p,"casos",t);await Object(c["l"])(a,{telEspecialista:null,status:null,confirmaCaso:"0"})}async function Re(t){console.log("Llegoo");const a=Object(c["d"])(p,"casos",t);await Object(c["l"])(a,{telEspecialista:null,status:"0",confirmaCaso:"1"})}async function ze(t){const a=Object(c["d"])(p,"casos",t);await Object(c["l"])(a,{status:"1",confirmaCaso:"1"})}async function Be(t){const a=Object(c["d"])(p,"casos",t);await Object(c["l"])(a,{status:"2"})}var Ue={components:{Listados:wa},props:{cases:{type:Array,required:!0}},setup(t,{emit:a}){const e=Object(s["ref"])("all"),i=Object(s["ref"])(["Caso sin asignar","Cliente sin presupuesto","Presupuesto pendiente","Presupuesto aceptado"]),o=Object(s["ref"])([]),n=JSON.parse(localStorage.getItem("userInform")),c=Object(s["ref"])(1),r=Object(s["computed"])(()=>!(!n.admin||!0!==n.admin)),l=Object(s["computed"])(()=>!(!n.superAdmin||!0!==n.superAdmin)),d=Object(s["ref"])(t.cases),u=l.value?[{key:"nombreCompleto",label:"Nombre apellidos"},{key:"fechaAlta",label:"Fecha de alta caso"},{key:"estadoCaso",label:"Estado del caso"},{key:"especialidadNombre",label:"Especialidad"},{key:"pago",label:"Pagado cliente"},{key:"actions",label:"Acciones"}]:[{key:"nombreCompleto",label:"Nombre apellidos"},{key:"fechaAlta",label:"Fecha de alta caso"},{key:"estadoCaso",label:"Estado del caso"},{key:"especialidadNombre",label:"Especialidad"},{key:"actions",label:"Acciones"}],p=Object(s["ref"])(null),m=Object(s["ref"])(!1),v=Object(s["ref"])(null),f=Object(s["computed"])(()=>{const t=JSON.parse(localStorage.getItem("userInform"));console.log(t);const a=t.routes.some(t=>!1===t.visibility);return a?u.filter(t=>"estadoCaso"!==t.key):u}),C=t=>{a("wantSeeCase",t)};return Object(s["watch"])(e,a=>{d.value=t.cases.filter(t=>"confirmed"!==a||"Presupuesto aceptado"===t.estadoCaso)}),{filteredFields:f,estados:i,guardaCaso:C,itemMueve:p,editEstado:m,casoChange:v,estadosFilter:o,showAsAdmin:r,filterCases:e,casesItems:d,currentPage:c,handlePageChange:t=>{c.value=t},updateCase:()=>{switch(v.value){case"Caso sin asignar":Re(p.value.id);break;case"Cliente sin presupuesto":ze(p.value.id);break;case"Presupuesto pendiente":Be(p.value.id);break;case"Presupuesto aceptado":Le(p.value.id);break;default:break}m.value=!1},mueveCaso:t=>{p.value=t,m.value=!0;const a=i.value.findIndex(a=>a===t.estadoCaso);o.value=i.value.slice(0,a)}}}},qe=Ue,Ve=Object(b["a"])(qe,$e,Me,!1,null,null,null),He=Ve.exports,Ge=function(){var t=this,a=t._self._c;return a("card",{staticClass:"card-user"},[t.showSuccessEspe?a("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Especialista modificado correctamente")]):t._e(),a("div",[a("span",{staticStyle:{color:"#007bff",cursor:"pointer"},on:{click:function(a){return t.$emit("back")}}},[t._v("Volver listado casos cliente")])]),a("div",[t.showAsAdmin&&"4"!==t.caseDetail.status?a("p-button",{staticClass:"mt-3",attrs:{type:"info",round:""},nativeOn:{click:function(a){a.preventDefault(),t.modalCloseCase=!0}}},[t._v("\n     Caso finalizado\n    ")]):t._e(),t.showAsSuperAdmin&&"3"===t.caseDetail.status?a("p-button",{staticClass:"mt-3 ml-3",attrs:{type:"info",round:""},nativeOn:{click:function(a){a.preventDefault(),t.modalFactura=!0}}},[t._v("\n     Crear factura\n    ")]):t._e(),t.isClient&&t.showAsAdmin?a("p-button",{staticClass:"mt-3 ml-3",attrs:{type:"info",round:""},nativeOn:{click:function(a){a.preventDefault(),t.editEspe=!0}}},[t._v("\n      Editar especialista\n    ")]):t._e(),t.isClient&&t.showAsAdmin?a("p-button",{staticClass:"mt-3 ml-3",attrs:{type:"info",round:""},nativeOn:{click:function(a){a.preventDefault(),t.editEspecialidad=!0}}},[t._v("\n      Editar especialidad\n    ")]):t._e()],1),a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-6 col-sm-12"},[a("h4",{staticClass:"title"},[t._v("\n              "+t._s(t.caseDetail.factura)+"\n          ")])]),a("div",{staticClass:"col-md-6 col-sm-12"},[a("h4",{staticClass:"title"},[t._v("\n              "+t._s(t.isClient?"Datos Especialista ":"Datos Cliente ")+"\n          ")])]),a("div",{staticClass:"col-md-6 col-sm-12"},[t.showAsAdmin?a("div",[a("span",{attrs:{for:""}},[t._v("Estado: "+t._s(t.caseDetail.estadoCaso))])]):t._e(),t.showAsAdmin?a("div",{staticClass:"mt-2"},[a("span",{attrs:{for:""}},[t._v("Fecha alta caso: "+t._s(t.caseDetail.fechaAlta))])]):t._e(),t.showAsAdmin?a("div",{staticClass:"mt-2"},[a("span",{attrs:{for:""}},[t._v("Tipo de cliente: "+t._s("1"===t.caseDetail.tipoCliente?"Despacho":"Particular"))])]):t._e(),t.showAsAdmin&&"1"===t.caseDetail.tipoCliente?a("div",{staticClass:"mt-2"},[a("span",{attrs:{for:""}},[t._v("Nombre del despacho: "+t._s(t.caseDetail.nombreDespacho))])]):t._e(),a("div",{staticClass:"mt-2"},[a("span",{attrs:{for:""}},[t._v("Especialidad: "+t._s(t.caseDetail.especialidadNombre))])])]),t.userCase?a("div",{staticClass:"col-md-6 col-sm-12"},[t._v("\n        "+t._s(t.userCase.id)+"\n          "),a("div",{},[t.isClient||t.showAsSuperAdmin?t._e():a("span",{attrs:{for:""}},[t._v(t._s(t.userCase.nombre+" "+t.userCase.apellidos))]),t.showAsSuperAdmin?a("a",{attrs:{href:`https://alexmc14.github.io/peritomedicotest/#/perfil/${t.userCase.id}?type=${t.isClient?"especialista":"cliente"}`,target:"_blank",rel:"noopener noreferrer"},on:{click:function(a){return t.$router.push({name:"UserProfile",params:{id:t.userCase.id},query:{type:t.isClient?"despacho":"cliente"}})}}},[t._v("\n                "+t._s(t.userCase.nombre+" "+t.userCase.apellidos)+"\n              ")]):t._e()]),a("div",{staticClass:"mt-2"},[a("span",[t._v(t._s(t.userCase.tel))])]),a("div",{staticClass:"mt-2"},[a("span",{attrs:{for:""}},[t._v(t._s(t.userCase.correo))])]),a("div",{staticClass:"mt-2"},[a("span",{attrs:{for:""}},[t._v(t._s(t.comunidades[t.userCase.comunidad]))])]),a("div",{staticClass:"mt-2"},[a("span",{attrs:{for:""}},[t._v(t._s(t.provincias[t.userCase.provincia]))])]),a("div",{staticClass:"mt-2"},[a("span",{attrs:{for:""}},[t._v(t._s(t.userCase.poblacion))])])]):t._e(),a("div",{staticClass:"col-12 text-center"},[a("h3",[t._v("Juicio")])])]),t.userCase&&t.userCase.tel?a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-12"},[a("h4",{staticClass:"title"},[t._v("Citas/juicio del cliente")]),t.citasCliente.length>0?a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",[t._v("Fecha")]),a("th",[t._v("Hora")]),a("th",[t._v("Tipo")]),a("th",[t._v("Lugar")])])]),a("tbody",t._l(t.citasCliente,(function(e){return a("tr",{key:e.id},[a("td",[t._v(t._s(t.formatDate(e.fecha)))]),a("td",[t._v(t._s(e.hora))]),a("td",[t._v(t._s("cita"===e.tipo?"Cita":"Juicio"))]),a("td",[t._v(t._s(e.lugar))])])})),0)])]):a("div",{staticClass:"text-center"},[a("p",[t._v("No hay citas registradas para este cliente.")])])])]):t._e(),parseInt(t.caseDetail.status)>1?a("div",{staticClass:"accordion",attrs:{role:"tablist"}},["praxis"===t.caseDetail.especialidadNombre.toLowerCase()||"incapacidad"===t.caseDetail.especialidadNombre.toLowerCase()||t.caseDetail.especialidadNombre.toLowerCase().includes("laboral")||t.caseDetail.especialidadNombre.toLowerCase().includes("daño")?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-0",modifiers:{"accordion-0":!0}}],attrs:{block:"",variant:"info"}},[t._v("Documentación útil")])],1),a("b-collapse",{attrs:{id:"accordion-0",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",{staticClass:"row"},["incapacidad"===t.caseDetail.especialidadNombre.toLowerCase()?a("div",{staticClass:"col-3 text-center"},[a("div",{on:{click:function(a){return t.descargarArchivo("documents/plantillainformepericialincapacidad.docx","plantillaViabilidad.docx")}}},[a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("3b84"),alt:""}}),a("span",[t._v("Plantilla incapacidad")]),a("br")])]):t._e(),"praxis"===t.caseDetail.especialidadNombre.toLowerCase()?a("div",{staticClass:"col-3 text-center"},[a("div",{on:{click:function(a){return t.descargarArchivo("documents/plantillaViabilidad.docx","plantillaViabilidad.docx")}}},[a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("3b84"),alt:""}}),a("span",[t._v("Plantilla viabilidad")]),a("br")])]):t._e(),"praxis"===t.caseDetail.especialidadNombre.toLowerCase()?a("div",{staticClass:"col-3 text-center"},[a("div",{on:{click:function(a){return t.descargarArchivo("documents/plantillaInformePericial.docx","plantillaInformePericial.docx")}}},[a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("3b84"),alt:""}}),a("span",[t._v("Plantilla informe pericial")]),a("br")])]):t._e(),t.caseDetail.especialidadNombre.toLowerCase().includes("laboral")?a("div",{staticClass:"col-3 text-center"},[a("div",{on:{click:function(a){return t.descargarArchivo("documents/plantillaViabilidadIncapacidad.docx","plantillaInformePericial.docx")}}},[a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("3b84"),alt:""}}),a("span",[t._v("Plantilla incapacidad laboral")]),a("br")])]):t._e(),t.caseDetail.especialidadNombre.toLowerCase().includes("daño")?a("div",{staticClass:"col-3 text-center"},[a("div",{on:{click:function(a){return t.descargarArchivo("documents/plantillaVDC.docx","plantillaVDC.docx")}}},[a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("3b84"),alt:""}}),a("span",[t._v("Plantilla valoración del daño corporal")]),a("br")])]):t._e(),t.caseDetail.especialidadNombre.toLowerCase().includes("daño")?a("div",{staticClass:"col-3 text-center"},[a("div",{on:{click:function(a){return t.descargarArchivo("documents/baremoTrafico2016.pdf","baremoTrafico2016.pdf")}}},[a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("3b84"),alt:""}}),a("span",[t._v("Baremo tráfico 2016")]),a("br")])]):t._e()])])],1)],1):t._e(),t.showAsSuperAdmin||t.caseDetail.telEspecialista===t.userInfo.tel?a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-5",modifiers:{"accordion-5":!0}}],attrs:{block:"",variant:"info"}},[t._v("Factura especialista")])],1),a("b-collapse",{attrs:{id:"accordion-5",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h3",[t._v("Factura del especialista")]),a("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[a("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),a("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(a){return a.preventDefault(),t.uploadFile("facturaEspecialista")}}},[t._v("\n                  Subir Archivo\n                ")])],1)]),t.files.facturaEspecialista?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h4",[t._v("Archivos Subidos:")]),a("div",{staticClass:"row"},t._l(t.files.facturaEspecialista,(function(s){return a("div",{key:s.name,staticClass:"col-3 text-center;"},[a("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(a){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("4c8b"),alt:""}}):a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}),a("span",[t._v(t._s(s.name))]),a("br"),a("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?a("div",{on:{click:function(a){return t.deleteFile(s,"facturaEspecialista")}}},[a("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:""}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e()])],1)],1):t._e(),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"info"}},[t._v("Estudio de viabilidad")])],1),a("b-collapse",{attrs:{id:"accordion-1",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("label",{staticClass:"d-block",attrs:{for:"plazoEstudio"}},[t._v("Plazo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.plazo,expression:"estudio.plazo"}],attrs:{name:"plazoEstudio",type:"date"},domProps:{value:t.estudio.plazo},on:{input:function(a){a.target.composing||t.$set(t.estudio,"plazo",a.target.value)}}})]),a("div",{staticClass:"col-4"},[a("label",{staticClass:"d-block",attrs:{for:"fechaEncargo"}},[t._v("Fecha de encargo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.fechaEncargo,expression:"estudio.fechaEncargo"}],attrs:{name:"fechaEncargo",type:"date"},domProps:{value:t.estudio.fechaEncargo},on:{input:function(a){a.target.composing||t.$set(t.estudio,"fechaEncargo",a.target.value)}}})]),a("div",{staticClass:"col-4"},[a("label",{staticClass:"d-block",attrs:{for:"estudioEnviado"}},[t._v("Enviado al cliente: ")]),a("label",{staticClass:"mr-1",attrs:{for:"estudioEnviado"}},[t._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.enviadoCliente,expression:"estudio.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioEnviado",name:"estudioCliente",value:"true"},domProps:{checked:t._q(t.estudio.enviadoCliente,"true")},on:{change:function(a){return t.$set(t.estudio,"enviadoCliente","true")}}}),a("label",{staticClass:"ml-3 mr-1",attrs:{for:"estudioEnviado"}},[t._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.enviadoCliente,expression:"estudio.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioEnviado",name:"estudioCliente",value:"false"},domProps:{checked:t._q(t.estudio.enviadoCliente,"false")},on:{change:function(a){return t.$set(t.estudio,"enviadoCliente","false")}}})]),t.showAsAdmin?a("div",{staticClass:"col-4 mt-4"},[a("label",{staticClass:"d-block"},[t._v("Pagado por el cliente: ")]),a("label",{staticClass:"mr-1",attrs:{for:"estudioPagadoCliente"}},[t._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.pagadoCliente,expression:"estudio.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioPagadoCliente",name:"estudioPagoCliente",value:"true"},domProps:{checked:t._q(t.estudio.pagadoCliente,"true")},on:{change:function(a){return t.$set(t.estudio,"pagadoCliente","true")}}}),a("label",{staticClass:"ml-3 mr-1",attrs:{for:"estudioPagadoCliente"}},[t._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.pagadoCliente,expression:"estudio.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioPagadoCliente",name:"estudioPagoCliente",value:"false"},domProps:{checked:t._q(t.estudio.pagadoCliente,"false")},on:{change:function(a){return t.$set(t.estudio,"pagadoCliente","false")}}})]):t._e(),t.showAsAdmin?a("div",{staticClass:"col-4 mt-4"},[a("label",{staticClass:"d-block"},[t._v("Pagado al especialista: ")]),a("label",{staticClass:"mr-1",attrs:{for:"estudioPagadoEspecialista"}},[t._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.pagadoEspecialista,expression:"estudio.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioPagadoEspecialista",name:"estudioPagoEspecialista",value:"true"},domProps:{checked:t._q(t.estudio.pagadoEspecialista,"true")},on:{change:function(a){return t.$set(t.estudio,"pagadoEspecialista","true")}}}),a("label",{staticClass:"ml-4 mr-1",attrs:{for:"estudioPagadoEspecialista"}},[t._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.pagadoEspecialista,expression:"estudio.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioPagadoEspecialista",name:"estudioNoPagoEspecialista",value:"false"},domProps:{checked:t._q(t.estudio.pagadoEspecialista,"false")},on:{change:function(a){return t.$set(t.estudio,"pagadoEspecialista","false")}}})]):t._e(),a("div",{staticClass:"col-12"},[a("h3",[t._v("Archivos de estudio viabilidad")]),a("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[a("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),a("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(a){return a.preventDefault(),t.uploadFile("viabilidad")}}},[t._v("\n                  Subir Archivo\n                ")])],1)]),t.files.viabilidad?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h4",[t._v("Archivos Subidos:")]),a("div",{staticClass:"row"},t._l(t.files.viabilidad,(function(s){return a("div",{key:s.name,staticClass:"col-3 text-center;"},[a("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(a){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("4c8b"),alt:""}}):a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}),a("span",[t._v(t._s(s.name))]),a("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?a("div",{on:{click:function(a){return t.deleteFile(s,"viabilidad")}}},[a("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),a("div",{staticClass:"col-12 pl-0"},[a("h3",[t._v("Informe pericial")]),a("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[a("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),a("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(a){return a.preventDefault(),t.uploadFile("informeViabilidad")}}},[t._v("\n                  Subir Archivo\n                ")])],1),t.files.informeViabilidad?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h4",[t._v("Archivos Subidos:")]),a("div",{staticClass:"row"},t._l(t.files.informeViabilidad,(function(s){return a("div",{key:s.name,staticClass:"col-3 text-center;"},[a("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(a){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("4c8b"),alt:""}}):a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}),a("span",[t._v(t._s(s.name))]),a("br"),a("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?a("div",{on:{click:function(a){return t.deleteFile(s,"informeViabilidad")}}},[a("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),t.showAsSuperAdmin?a("div",{staticClass:"col-12 pl-0"},[a("h3",[t._v("Archivos Pagos de estudio de viabilidad")]),a("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[a("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),a("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(a){return a.preventDefault(),t.uploadFile("viabilidadPago")}}},[t._v("\n                  Subir Archivo\n                ")])],1):t._e(),t.files.viabilidadPago&&t.showAsSuperAdmin?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h4",[t._v("Archivos Subidos:")]),a("div",{staticClass:"row"},t._l(t.files.viabilidadPago,(function(s){return a("div",{key:s.name,staticClass:"col-3 text-center;"},[a("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(a){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("4c8b"),alt:""}}):a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}),a("span",[t._v(t._s(s.name))]),a("br"),a("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?a("div",{on:{click:function(a){return t.deleteFile(s,"viabilidadPago")}}},[a("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e()])],1)],1),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"info"}},[t._v("Informe pericial médico")])],1),a("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("label",{staticClass:"d-block",attrs:{for:"plazoInforme"}},[t._v("Plazo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.plazo,expression:"informe.plazo"}],attrs:{name:"plazoInforme",type:"date"},domProps:{value:t.informe.plazo},on:{input:function(a){a.target.composing||t.$set(t.informe,"plazo",a.target.value)}}})]),a("div",{staticClass:"col-4"},[a("label",{staticClass:"d-block",attrs:{for:"fechaEncargo"}},[t._v("Fecha de encargo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.fechaEncargo,expression:"informe.fechaEncargo"}],attrs:{name:"fechaEncargo",type:"date"},domProps:{value:t.informe.fechaEncargo},on:{input:function(a){a.target.composing||t.$set(t.informe,"fechaEncargo",a.target.value)}}})]),a("div",{staticClass:"col-4"},[a("label",{staticClass:"d-block",attrs:{for:"informeEnviado"}},[t._v("Enviado al cliente: ")]),a("label",{staticClass:"mr-1",attrs:{for:"informeEnviado"}},[t._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.enviadoCliente,expression:"informe.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"informeEnviado",name:"informeCliente",value:"true"},domProps:{checked:t._q(t.informe.enviadoCliente,"true")},on:{change:function(a){return t.$set(t.informe,"enviadoCliente","true")}}}),a("label",{staticClass:"ml-3 mr-1",attrs:{for:"informeEnviado"}},[t._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.enviadoCliente,expression:"informe.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"informeEnviado",name:"informeCliente",value:"false"},domProps:{checked:t._q(t.informe.enviadoCliente,"false")},on:{change:function(a){return t.$set(t.informe,"enviadoCliente","false")}}})]),t.showAsAdmin?a("div",{staticClass:"col-4 mt-4"},[a("label",{staticClass:"d-block"},[t._v("Pagado por el cliente: ")]),a("label",{staticClass:"mr-1",attrs:{for:"informePagadoCliente"}},[t._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.pagadoCliente,expression:"informe.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"informePagadoCliente",name:"informePagoCliente",value:"true"},domProps:{checked:t._q(t.informe.pagadoCliente,"true")},on:{change:function(a){return t.$set(t.informe,"pagadoCliente","true")}}}),a("label",{staticClass:"ml-3 mr-1",attrs:{for:"informePagadoCliente"}},[t._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.pagadoCliente,expression:"informe.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"informePagadoCliente",name:"informePagoCliente",value:"false"},domProps:{checked:t._q(t.informe.pagadoCliente,"false")},on:{change:function(a){return t.$set(t.informe,"pagadoCliente","false")}}})]):t._e(),t.showAsAdmin?a("div",{staticClass:"col-4 mt-4"},[a("label",{staticClass:"d-block"},[t._v("Pagado al especialista: ")]),a("label",{staticClass:"mr-1",attrs:{for:"informePagadoEspecialista"}},[t._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.pagadoEspecialista,expression:"informe.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"informePagadoEspecialista",name:"informePagoEspecialista",value:"true"},domProps:{checked:t._q(t.informe.pagadoEspecialista,"true")},on:{change:function(a){return t.$set(t.informe,"pagadoEspecialista","true")}}}),a("label",{staticClass:"ml-4 mr-1",attrs:{for:"informePagadoEspecialista"}},[t._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.pagadoEspecialista,expression:"informe.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"informePagadoEspecialista",name:"informePagoEspecialista",value:"false"},domProps:{checked:t._q(t.informe.pagadoEspecialista,"false")},on:{change:function(a){return t.$set(t.informe,"pagadoEspecialista","false")}}})]):t._e(),a("div",{staticClass:"col-12"},[a("h3",[t._v("Archivos de estudio informe pericial")]),a("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[a("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),a("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(a){return a.preventDefault(),t.uploadFile("informe")}}},[t._v("\n                  Subir Archivo\n                ")])],1)]),t.files.informe?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h4",[t._v("Archivos Subidos:")]),a("div",{staticClass:"row"},t._l(t.files.informe,(function(s){return a("div",{key:s.name,staticClass:"col-3 text-center;"},[a("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(a){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("4c8b"),alt:""}}):a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}),a("span",[t._v(t._s(s.name))]),a("br"),a("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?a("div",{on:{click:function(a){return t.deleteFile(s,"informe")}}},[a("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:""}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),a("div",{staticClass:"col-12 pl-0"},[a("h3",[t._v("Informe pericial")]),a("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[a("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),a("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(a){return a.preventDefault(),t.uploadFile("informePericial")}}},[t._v("\n                  Subir Archivo\n                ")])],1),t.files.informePericial?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h4",[t._v("Archivos Subidos:")]),a("div",{staticClass:"row"},t._l(t.files.informePericial,(function(s){return a("div",{key:s.name,staticClass:"col-3 text-center;"},[a("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(a){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("4c8b"),alt:""}}):a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}),a("span",[t._v(t._s(s.name))]),a("br"),a("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?a("div",{on:{click:function(a){return t.deleteFile(s,"informePericial")}}},[a("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),t.showAsSuperAdmin?a("div",{staticClass:"col-12 pl-0"},[a("h3",[t._v("Archivos Pagos de estudio informe pericial")]),a("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[a("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),a("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(a){return a.preventDefault(),t.uploadFile("informePago")}}},[t._v("\n                  Subir Archivo\n                ")])],1):t._e(),t.files.informePago&&t.showAsSuperAdmin?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h4",[t._v("Archivos Subidos:")]),a("div",{staticClass:"row"},t._l(t.files.informePago,(function(s){return a("div",{key:s.name,staticClass:"col-3 text-center;"},[a("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(a){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("4c8b"),alt:""}}):a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}),a("span",[t._v(t._s(s.name))]),a("br"),a("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?a("div",{on:{click:function(a){return t.deleteFile(s,"informePago")}}},[a("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e()])],1)],1),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],attrs:{block:"",variant:"info"}},[t._v("Ratificación en juicio")])],1),a("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[a("b-card-body",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 mt-4"},[a("label",{staticClass:"d-block",attrs:{for:"ratificacionEnviado"}},[t._v("Enviado al cliente: ")]),a("label",{staticClass:"mr-1",attrs:{for:"ratificacionEnviado"}},[t._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.enviadoCliente,expression:"ratificacion.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionEnviado",name:"ratificacionEnviado",value:"true"},domProps:{checked:t._q(t.ratificacion.enviadoCliente,"true")},on:{change:function(a){return t.$set(t.ratificacion,"enviadoCliente","true")}}}),a("label",{staticClass:"ml-3 mr-1",attrs:{for:"ratificacionEnviado"}},[t._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.enviadoCliente,expression:"ratificacion.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionEnviado",name:"ratificacionEnviado",value:"false"},domProps:{checked:t._q(t.ratificacion.enviadoCliente,"false")},on:{change:function(a){return t.$set(t.ratificacion,"enviadoCliente","false")}}})]),t.showAsAdmin?a("div",{staticClass:"col-4 mt-4"},[a("label",{staticClass:"d-block"},[t._v("Pagado por el cliente: ")]),a("label",{staticClass:"mr-1",attrs:{for:"ratificacionPagadoCliente"}},[t._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.pagadoCliente,expression:"ratificacion.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionPagadoCliente",name:"ratificacionPagoCliente",value:"true"},domProps:{checked:t._q(t.ratificacion.pagadoCliente,"true")},on:{change:function(a){return t.$set(t.ratificacion,"pagadoCliente","true")}}}),a("label",{staticClass:"ml-3 mr-1",attrs:{for:"ratificacionPagadoCliente"}},[t._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.pagadoCliente,expression:"ratificacion.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionPagadoCliente",name:"ratificacionPagoCliente",value:"false"},domProps:{checked:t._q(t.ratificacion.pagadoCliente,"false")},on:{change:function(a){return t.$set(t.ratificacion,"pagadoCliente","false")}}})]):t._e(),t.showAsAdmin?a("div",{staticClass:"col-4 mt-4"},[a("label",{staticClass:"d-block"},[t._v("Pagado al especialista: ")]),a("label",{staticClass:"mr-1",attrs:{for:"ratificacionPagadoEspecialista"}},[t._v("Si")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.pagadoEspecialista,expression:"ratificacion.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionPagadoEspecialista",name:"ratificacionPagoEspecialista",value:"true"},domProps:{checked:t._q(t.ratificacion.pagadoEspecialista,"true")},on:{change:function(a){return t.$set(t.ratificacion,"pagadoEspecialista","true")}}}),a("label",{staticClass:"ml-4 mr-1",attrs:{for:"ratificacionPagadoEspecialista"}},[t._v("No")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.pagadoEspecialista,expression:"ratificacion.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionPagadoEspecialista",name:"ratificacionPagoEspecialista",value:"false"},domProps:{checked:t._q(t.ratificacion.pagadoEspecialista,"false")},on:{change:function(a){return t.$set(t.ratificacion,"pagadoEspecialista","false")}}})]):t._e(),a("div",{staticClass:"col-12"},[a("h3",[t._v("Archivos de ratificación de juicio")]),a("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[a("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),a("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(a){return a.preventDefault(),t.uploadFile("ratificacion")}}},[t._v("\n                  Subir Archivo\n                ")])],1)]),t.files.informe?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h4",[t._v("Archivos Subidos:")]),a("div",{staticClass:"row"},t._l(t.files.ratificacion,(function(s){return a("div",{key:s.name,staticClass:"col-3 text-center;"},[a("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(a){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("4c8b"),alt:""}}):a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}),a("span",[t._v(t._s(s.name))]),a("br"),a("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?a("div",{on:{click:function(a){return t.deleteFile(s,"ratificacion")}}},[a("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),t.superAdmin?a("div",{staticClass:"col-12 pl-0"},[a("h3",[t._v("Informe de ratificación de juicio")]),a("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[a("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),a("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(a){return a.preventDefault(),t.uploadFile("informeRatificacion")}}},[t._v("\n                  Subir Archivo\n                ")])],1):t._e(),t.files.informeRatificacion?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h4",[t._v("Archivos Subidos:")]),a("div",{staticClass:"row"},t._l(t.files.informeRatificacion,(function(s){return a("div",{key:s.name,staticClass:"col-3 text-center;"},[a("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(a){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("4c8b"),alt:""}}):a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}),a("span",[t._v(t._s(s.name))]),a("br"),a("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?a("div",{on:{click:function(a){return t.deleteFile(s,"informeRatificacion")}}},[a("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),t.showAsSuperAdmin?a("div",{staticClass:"col-12 pl-0"},[a("h3",[t._v("Archivos Pagos de ratificación de juicio")]),a("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[a("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),a("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(a){return a.preventDefault(),t.uploadFile("ratificacionPago")}}},[t._v("\n                  Subir Archivo\n                ")])],1):t._e(),t.files.ratificacionPago&&t.showAsSuperAdmin?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h4",[t._v("Archivos Subidos:")]),a("div",{staticClass:"row"},t._l(t.files.ratificacionPago,(function(s){return a("div",{key:s.name,staticClass:"col-3 text-center;"},[a("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(a){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("4c8b"),alt:""}}):a("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:e("77ef"),alt:""}}),a("span",[t._v(t._s(s.name))]),a("br"),a("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?a("div",{on:{click:function(a){return t.deleteFile(s,"ratificacionPago")}}},[a("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e()])],1),t.successMessage?a("b-alert",{attrs:{variant:"success",show:""}},[t._v(t._s(t.successMessage))]):t._e(),t.errorMessage?a("b-alert",{attrs:{variant:"danger",show:""}},[t._v(t._s(t.errorMessage))]):t._e(),t.showSuccess?a("b-alert",{attrs:{variant:"success",show:""}},[t._v("Caso actualizado correctamente")]):t._e(),a("p-button",{staticClass:"mt-4",attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.saveCase.apply(null,arguments)}}},[t._v("\n          Guardar caso\n        ")])],1)],1):t._e(),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Editar especialista\n    ")]},proxy:!0}]),model:{value:t.editEspe,callback:function(a){t.editEspe=a},expression:"editEspe"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.espeChange,expression:"espeChange"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.espeChange=a.target.multiple?e:e[0]}}},t._l(t.especialistas,(function(e,s){return a("option",{key:s,domProps:{value:e.tel}},[t._v(t._s(`${e.nombre} ${e.apellidos}`))])})),0),a("i",{staticClass:"mt-3",staticStyle:{"white-space-collapse":"preserve-breaks"}},[t._v("\n      *Para poder ver reflejado el cambio de especialista tienes que volver al listado principal del cual viniste.\n    ")]),a("p-button",{staticClass:"mt-4",attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.updateEspe.apply(null,arguments)}}},[t._v("\n      Aceptar\n    ")])],1),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Editar especialidad\n    ")]},proxy:!0}]),model:{value:t.editEspecialidad,callback:function(a){t.editEspecialidad=a},expression:"editEspecialidad"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.especialidadChange,expression:"especialidadChange"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.especialidadChange=a.target.multiple?e:e[0]}}},t._l(t.especialidades,(function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.nombre))])})),0),a("i",{staticClass:"mt-3",staticStyle:{"white-space-collapse":"preserve-breaks"}},[t._v("\n      *Para poder ver reflejado el cambio de especialista tienes que volver al listado principal del cual viniste.\n    ")]),a("p-button",{staticClass:"mt-4",attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.updateEspecialidad.apply(null,arguments)}}},[t._v("\n      Aceptar\n    ")])],1),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Finalizar caso\n    ")]},proxy:!0}]),model:{value:t.modalCloseCase,callback:function(a){t.modalCloseCase=a},expression:"modalCloseCase"}},[a("p",[t._v("Deseas finalizar el caso")]),a("p-button",{staticClass:"mt-4",attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.closeCase.apply(null,arguments)}}},[t._v("\n      Aceptar\n    ")])],1),a("b-modal",{attrs:{id:"budget-modal","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Realizar Factura\n    ")]},proxy:!0}]),model:{value:t.modalFactura,callback:function(a){t.modalFactura=a},expression:"modalFactura"}})],1)},Je=[],Qe={props:{caseDetail:{type:Object},userCase:{type:Object},user:{type:Object},isClient:{type:Boolean}},setup(t,{emit:a}){const e=Object(s["ref"])(!1),i=Object(s["ref"])(t.caseDetail.estudio?t.caseDetail.estudio:{}),o=Object(s["ref"])(t.caseDetail.informe?t.caseDetail.informe:{}),n=Object(s["ref"])(t.caseDetail.ratificacion?t.caseDetail.ratificacion:{}),l=Object(s["ref"])(null),d=Object(s["ref"])(null),u=Object(s["ref"])(""),v=Object(s["ref"])(""),f=Object(s["ref"])([]),C=Object(s["ref"])(!1),b=Object(s["ref"])(!1),g=Object(s["ref"])([]),h=Object(s["ref"])([]),_=Object(s["ref"])([]),y=Object(s["ref"])(""),w=Object(s["ref"])(""),k=Object(s["ref"])(!1),A=Object(s["ref"])(!1),x=Object(s["ref"])(!1),S=Object(s["ref"])([]),O=Object(s["ref"])(JSON.parse(localStorage.getItem("userInform"))),D=t=>{if(!t)return"NA";const a=new Date(t),e=String(a.getDate()).padStart(2,"0"),s=String(a.getMonth()+1).padStart(2,"0"),i=a.getFullYear();return`${e}/${s}/${i}`},P=JSON.parse(localStorage.getItem("userInform")),j=Object(s["computed"])(()=>!(!P.admin||!0!==P.admin)),E=Object(s["computed"])(()=>!(!P.superAdmin||!0!==P.superAdmin)),N=async()=>{const a=Object(c["d"])(p,"casos",t.caseDetail.id);await Object(c["l"])(a,{estudioPlazo:i.value.plazo?new Date(i.value.plazo).getTime():null,informePlazo:o.value.plazo?new Date(o.value.plazo).getTime():null,ratificacionPlazo:n.value.plazo?new Date(n.value.plazo).getTime():null,ratificacionJuicio:n.value.fechaJuicio?new Date(n.value.fechaJuicio).getTime():null,estudio:i.value,informe:o.value,ratificacion:n.value})},T=async()=>{const a=Object(c["d"])(p,"casos",t.caseDetail.id);await Object(c["l"])(a,{status:"4"}),A.value=!1},I=async()=>{const a=Object(c["d"])(p,"casos",t.caseDetail.id);await Object(c["l"])(a,{telEspecialista:y.value}),k.value=!0,C.value=!1,setTimeout(()=>{k.value=!1},4e3)},F=async()=>{const a=Object(c["d"])(p,"casos",t.caseDetail.id);await Object(c["l"])(a,{especialidad:w.value}),k.value=!0,b.value=!1,setTimeout(()=>{k.value=!1},4e3)},$=t=>{l.value=Array.from(t.target.files),u.value="",d.value=null,v.value=""},M=async()=>{try{const t=new FormData,a=window.location.hash.split("/")[window.location.hash.split("/").length-1];t.append("to","coordinacionpraxis@informesmedicospericiales.com"),t.append("subject","Nuevo documento subido"),t.append("text",`Nuevo documento subido de praxis <a href="https://alexmc14.github.io/peritomedicotest/#/perfil/${a}" target="_blank">link al perfil</a>`),await fetch("https://test-perito.onrender.com/send-email",{method:"POST",body:t})}catch(t){console.error("Error al enviar el presupuesto:",t),alert("Hubo un error al enviar el presupuesto")}},L=async()=>{try{const a=new FormData,e=window.location.hash.split("/")[window.location.hash.split("/").length-1];a.append("to","lsanchezamo@yahoo.es"),a.append("subject","Nuevo informe subido"),a.append("text",`Nuevo informe subido por ${O.value.nombre} ${O.value.apellidos} al cliente ${t.userCase.nombre} ${t.userCase.apellidos} <a href="https://alexmc14.github.io/peritomedicotest/#/perfil/${e}" target="_blank">link al perfil</a>`),await fetch("https://test-perito.onrender.com/send-email",{method:"POST",body:a})}catch(a){console.error("Error al enviar el presupuesto:",a),alert("Hubo un error al enviar el presupuesto")}},R=a=>{if(!l.value||0===l.value.length)return v.value="Por favor selecciona un archivo.",void setTimeout(()=>{v.value=""},2e3);const e=Array.isArray(l.value)?l.value:[l.value];for(const s of e){const e=Object(r["f"])(m,`casos/${t.caseDetail.factura}/${a}/${s.name}`),i=Object(r["g"])(e,s);i.on("state_changed",t=>{const a=t.bytesTransferred/t.totalBytes*100;d.value=a.toFixed(0)},t=>{v.value="Error al subir el archivo: "+t.message,setTimeout(()=>{v.value=""},2e3)},()=>{Object(r["b"])(i.snapshot.ref).then(t=>{u.value="Archivo subido con éxito! URL: "+t,setTimeout(()=>{u.value=""},2e3),"viabilidad"===a&&f.value.viabilidad.push({name:s.name,url:t,ref:i.snapshot.ref}),"informe"===a&&f.value.informe.push({name:s.name,url:t,ref:i.snapshot.ref}),"ratificacion"===a&&f.value.ratificacion.push({name:s.name,url:t,ref:i.snapshot.ref}),"viabilidadPago"===a&&f.value.viabilidadPago.push({name:s.name,url:t,ref:i.snapshot.ref}),"informePago"===a&&f.value.informePago.push({name:s.name,url:t,ref:i.snapshot.ref}),"ratificacionPago"===a&&f.value.ratificacionPago.push({name:s.name,url:t,ref:i.snapshot.ref}),"informeViabilidad"===a&&(f.value.informeViabilidad.push({name:s.name,url:t,ref:i.snapshot.ref}),L()),"informePericial"===a&&(f.value.informePericial.push({name:s.name,url:t,ref:i.snapshot.ref}),L()),"informeRatificacion"===a&&(f.value.informeRatificacion.push({name:s.name,url:t,ref:i.snapshot.ref}),L()),"facturaEspecialista"===a&&f.value.facturaEspecialista.push({name:s.name,url:t,ref:i.snapshot.ref}),l.value=null})})}"praxis"!==t.caseDetail.especialidadNombre.toLowerCase()||a.toLowerCase().includes("pago")||a.toLowerCase().includes("facturaEspecialista")||M()},z=async()=>{const a=["viabilidad","informe","ratificacion","viabilidadPago","informePago","ratificacionPago","informeViabilidad","informePericial","informeRatificacion","facturaEspecialista"];let e={};await Promise.all(a.map(async a=>{const s=Object(r["f"])(m,`casos/${t.caseDetail.factura}/${a}`),i=await Object(r["e"])(s);e[a]=await Promise.all(i.items.map(async t=>{const a=await Object(r["b"])(t),e=Object(r["d"])(),s=a,i=Object(r["f"])(e,s),o=await Object(r["c"])(i);return{name:t.name,url:a,ref:t,date:o.timeCreated}}))})),e.informe.length>0&&(e.informe=e.informe.sort((t,a)=>new Date(t.date)-new Date(a.date))),e.ratificacion.length>0&&(e.ratificacion=e.ratificacion.sort((t,a)=>new Date(t.date)-new Date(a.date))),e.viabilidad.length>0&&(e.viabilidad=e.viabilidad.sort((t,a)=>new Date(t.date)-new Date(a.date))),e.viabilidadPago.length>0&&(e.viabilidadPago=e.viabilidadPago.sort((t,a)=>new Date(t.date)-new Date(a.date))),e.informePago.length>0&&(e.informePago=e.informePago.sort((t,a)=>new Date(t.date)-new Date(a.date))),e.ratificacionPago.length>0&&(e.ratificacionPago=e.ratificacionPago.sort((t,a)=>new Date(t.date)-new Date(a.date))),e.informeViabilidad.length>0&&(e.informeViabilidad=e.informeViabilidad.sort((t,a)=>new Date(t.date)-new Date(a.date))),e.informePericial.length>0&&(e.informePericial=e.informePericial.sort((t,a)=>new Date(t.date)-new Date(a.date))),e.informeRatificacion.length>0&&(e.informeRatificacion=e.informeRatificacion.sort((t,a)=>new Date(t.date)-new Date(a.date))),e.facturaEspecialista.length>0&&(e.facturaEspecialista=e.facturaEspecialista.sort((t,a)=>new Date(t.date)-new Date(a.date))),f.value=e},B=async(t,a)=>{const e=t.ref;try{await Object(r["a"])(e),"viabilidad"===a&&(f.value.viabilidad=f.value.viabilidad.filter(a=>a.name!==t.name)),"informe"===a&&(f.value.informe=f.value.informe.filter(a=>a.name!==t.name)),"ratificacion"===a&&(f.value.ratificacion=f.value.ratificacion.filter(a=>a.name!==t.name)),"viabilidadPago"===a&&(f.value.viabilidadPago=f.value.viabilidadPago.filter(a=>a.name!==t.name)),"informePago"===a&&(f.value.informePago=f.value.informePago.filter(a=>a.name!==t.name)),"ratificacionPago"===a&&(f.value.ratificacionPago=f.value.ratificacionPago.filter(a=>a.name!==t.name)),"informeViabilidad"===a&&(f.value.informeViabilidad=f.value.informeViabilidad.filter(a=>a.name!==t.name)),"informePericial"===a&&(f.value.informePericial=f.value.informePericial.filter(a=>a.name!==t.name)),"informeRatificacion"===a&&(f.value.informeRatificacion=f.value.informeRatificacion.filter(a=>a.name!==t.name)),"facturaEspecialista"===a&&(f.value.facturaEspecialista=f.value.facturaEspecialista.filter(a=>a.name!==t.name)),u.value=`Archivo ${t.name} eliminado exitosamente.`,setTimeout(()=>{u.value=""},2e3)}catch(s){console.error("Error al eliminar el archivo:",s),v.value="Error al eliminar el archivo: "+s.message,setTimeout(()=>{v.value=""},2e3)}},U=async()=>{g.value=(await Object(c["e"])(Object(c["b"])(p,"especialistas"))).docs.map(t=>({id:t.id,...t.data()})).sort((t,a)=>`${t.nombre} ${t.apellidos}`.localeCompare(`${a.nombre} ${a.apellidos}`))},q=async()=>{h.value=(await Object(c["e"])(Object(c["b"])(p,"especialidades"))).docs.map(t=>({id:t.id,...t.data()}))},V=async()=>{if(t.userCase&&t.userCase.tel&&t.user){console.log("aa",t.userCase),console.log("bb",t.user);try{const a=Object(c["j"])(Object(c["b"])(p,"citas"),Object(c["m"])("cliente.telCliente","==",t.isClient?t.user.tel:t.userCase.tel)),e=await Object(c["e"])(a);S.value=e.docs.map(t=>({id:t.id,...t.data()})).sort((t,a)=>new Date(a.fecha)-new Date(t.fecha))}catch(a){console.error("Error al obtener citas del cliente:",a),S.value=[]}}};return Object(s["watch"])(C,t=>{!0===C.value&&0===g.value.length?U():!0===C.value&&console.log(g.value)}),Object(s["watch"])(b,t=>{!0===b.value&&0===h.value.length?q():!0===b.value&&console.log(h.value)}),z(),V(),{formatDate:D,comunidades:la,provincias:da,showAsAdmin:j,estudio:i,informe:o,ratificacion:n,showSuccess:e,closeCase:T,modalCloseCase:A,saveCase:()=>{e.value=!0,setTimeout(()=>{e.value=!1},2e3),N()},openAllFiles:t=>{t.forEach((t,a)=>{t.url&&setTimeout(()=>{window.open(t.url,"_blank")},500*a)})},markAsClicked:t=>{console.log(t),_.value.includes(t)||_.value.push(t)},descargarArchivo:(t,a)=>{console.log(t);const e=document.createElement("a");e.href=t,e.download=a,document.body.appendChild(e),e.click(),document.body.removeChild(e)},onFileChange:$,uploadFile:R,uploadProgress:d,successMessage:u,errorMessage:v,file:l,files:f,deleteFile:B,editEspe:C,editEspecialidad:b,especialidades:h,especialistas:g,espeChange:y,especialidadChange:w,updateEspe:I,showSuccessEspe:k,updateEspecialidad:F,userInfo:O,showAsSuperAdmin:E,clickedFiles:_,modalFactura:x,citasCliente:S}}},Ye=Qe,We=(e("06bd"),Object(b["a"])(Ye,Ge,Je,!1,null,null,null)),Ke=We.exports,Ze=function(){var t=this,a=t._self._c;return a("card",{staticClass:"card-user"},[a("div",[a("span",{staticStyle:{color:"#007bff",cursor:"pointer"},on:{click:function(a){return t.$emit("back")}}},[t._v("Volver")]),a("div",{staticClass:"col-12 mt-3"},[a("h3",[t._v("Selecciona las rutas visibles:")]),a("div",{staticClass:"row"},t._l(t.routes,(function(e,s){return a("div",{key:s,staticClass:"col-4 d-flex align-items-center",staticStyle:{"min-height":"40px"}},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.visibility,expression:"route.visibility"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.visibility)?t._i(e.visibility,null)>-1:e.visibility},on:{change:function(a){var s=e.visibility,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,c=t._i(s,n);i.checked?c<0&&t.$set(e,"visibility",s.concat([n])):c>-1&&t.$set(e,"visibility",s.slice(0,c).concat(s.slice(c+1)))}else t.$set(e,"visibility",o)}}}),a("label",{staticClass:"form-check-label",staticStyle:{"margin-left":"5px"}},[t._v(t._s(e.path))])])])})),0)]),a("div",{staticClass:"custom-select-wrapper col-md-6 mt-5"},[a("div",{staticClass:"custom-select-wrapper col-md-12"},[a("label",{attrs:{for:""}},[t._v("Que especialidad puede ver aparte de sus casos")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.verEspe,expression:"verEspe"}],staticClass:"custom-select",staticStyle:{"min-height":"100px"},attrs:{multiple:""},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.verEspe=a.target.multiple?e:e[0]}}},t._l(t.especialidades,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.nombre))])})),0)])])]),a("div",{staticClass:"col-12 mt-3"},[a("p-button",{attrs:{type:"info",round:""},nativeOn:{click:function(a){return a.preventDefault(),t.saveInfo.apply(null,arguments)}}},[t._v("\r\n            Guardar\r\n          ")])],1)])},Xe=[],ts={props:{user:{type:Object}},setup(t){const a=Object(s["ref"])(""),e=Object(s["ref"])(""),i=Object(s["ref"])([]),o=Object(s["ref"])([]),n=async()=>{o.value=(await Object(c["e"])(Object(c["b"])(p,"especialidades"))).docs.map(t=>({id:t.id,...t.data()}))},r=Object(s["ref"])([{path:"dashboard",visibility:!1},{path:"alta-especialidades",visibility:!1},{path:"listado-notificaciones-chats",visibility:!1},{path:"listado-clientes",visibility:!1},{path:"listado-clientes-llamar",visibility:!1},{path:"listado-clientes-sin-abogado",visibility:!1},{path:"listado-especialistas",visibility:!1},{path:"listado-despachos",visibility:!1},{path:"alta-clientes",visibility:!1},{path:"casos-sin-asignar",visibility:!1},{path:"clientes-sin-presupuesto",visibility:!1},{path:"clientes-presupuesto-pendiente",visibility:!1},{path:"presupuestos-aceptados",visibility:!1},{path:"alta-especialista",visibility:!1},{path:"alta-despacho",visibility:!1},{path:"mis-casos",visibility:!1},{path:"mis-casos-abogados",visibility:!1},{path:"seguimiento-casos",visibility:!1},{path:"citas",visibility:!1},{path:"calendario",visibility:!1},{path:"calendario-remesas",visibility:!1},{path:"historico-login",visibility:!1}]),l=async()=>{const a=Object(c["j"])(Object(c["b"])(p,"especialistas"),Object(c["m"])("correo","==",t.user.correo)),e=await Object(c["e"])(a);if(e.docs.length>0){const t=Object(c["d"])(p,"especialistas",e.docs[0].id),a=[];o.value.forEach(t=>{i.value.includes(t.id)&&a.push(t)}),await Object(c["l"])(t,{especialidadesObs:a,routes:r.value})}else console.error("No se encontroooo")},d=()=>{t.user.especialidadesObs.forEach(t=>{i.value.push(t.id)}),r.value.forEach(a=>{const e=t.user.routes.find(t=>"object"===typeof t&&t.path===a.path&&!0===t.visibility);e&&(a.visibility=!0)})};return Object(s["onMounted"])(()=>{n(),d()}),{mail:a,password:e,routes:r,verEspe:i,especialidades:o,saveInfo:()=>{l()}}}},as=ts,es=(e("3105"),Object(b["a"])(as,Ze,Xe,!1,null,"830c1698",null)),ss=es.exports,is={components:{UserCard:Fe,CasosUsuario:He,UserCase:Ke,GestionPermisos:ss},data(){return{isClient:!0,typeUser:"cliente",user:{id:"CLI001",nombre:"María",apellidos:"González López",tel:"+34 612 345 678",email:"maria.gonzalez@email.com",fechaNacimiento:"1985-03-15",direccion:"Calle Mayor 123, 2º A",codigoPostal:"28001",notas:"Cliente preferente. Interesada en servicios de derecho laboral y familia."},cases:[{id:"1",nombreCompleto:"María González López",fechaAlta:"15/01/2024",estadoCaso:"Presupuesto aceptado",especialidadNombre:"Derecho Laboral",pago:"Si Si Si"},{id:"2",nombreCompleto:"María González López",fechaAlta:"20/02/2024",estadoCaso:"Caso finalizado",especialidadNombre:"Derecho de Familia",pago:"Si Si Si"},{id:"3",nombreCompleto:"María González López",fechaAlta:"10/03/2024",estadoCaso:"Presupuesto pendiente",especialidadNombre:"Derecho Civil",pago:"No No No"}],idUser:null,especialidades:[],caseDetail:null,userCase:null,showCases:!0,gestionPermiso:!1,showModalCita:!1,userData:JSON.parse(localStorage.getItem("userInform")),newRemesa:{fecha:"",cantidad:"",idCliente:"",nombreCliente:""},remesas:[],showRemesa:!1,visitHistory:[{fecha:"2024-01-15",hora:"10:30",tipo:"Consulta inicial",descripcion:"Primera consulta para evaluación del caso de despido improcedente",status:"completada"},{fecha:"2024-02-20",hora:"16:00",tipo:"Seguimiento",descripcion:"Revisión de documentos y avances en el proceso judicial",status:"completada"},{fecha:"2024-03-10",hora:"11:15",tipo:"Juicio",descripcion:"Audiencia judicial para el caso de derecho laboral",status:"pendiente"},{fecha:"2024-03-25",hora:"09:45",tipo:"Consulta familiar",descripcion:"Asesoramiento sobre proceso de divorcio",status:"programada"},{fecha:"2024-04-05",hora:"14:30",tipo:"Firma de documentos",descripcion:"Firma de acuerdo de divorcio y documentos finales",status:"programada"}],purchaseHistory:[{fecha:"2024-01-15",producto:"Consulta legal laboral",descripcion:"Evaluación inicial del caso de despido improcedente",precio:150,tipo:"servicio",status:"pagado"},{fecha:"2024-02-20",producto:"Documentación judicial",descripcion:"Preparación de demanda y documentos oficiales",precio:300,tipo:"documento",status:"pagado"},{fecha:"2024-03-05",producto:"Representación judicial",descripcion:"Servicios de abogado en juicio laboral",precio:800,tipo:"servicio",status:"pagado"},{fecha:"2024-03-15",producto:"Consulta familiar",descripcion:"Asesoramiento inicial sobre proceso de divorcio",precio:120,tipo:"consulta",status:"pagado"},{fecha:"2024-03-20",producto:"Acuerdo de divorcio",descripcion:"Elaboración y negociación del acuerdo de divorcio",precio:450,tipo:"documento",status:"pendiente"},{fecha:"2024-04-01",producto:"Servicios notariales",descripcion:"Gestión de documentos notariales para el divorcio",precio:200,tipo:"servicio",status:"pendiente"}]}},computed:{showAsSuperAdmin(){return this.userData&&!0===this.userData.superAdmin},activeCases(){return this.cases.filter(t=>t.estadoCaso.includes("pendiente")||t.estadoCaso.includes("aceptado")).length},completedCases(){return this.cases.filter(t=>t.estadoCaso.includes("finalizado")).length},totalRevenue(){return this.purchaseHistory.filter(t=>"pagado"===t.status).reduce((t,a)=>t+a.precio,0)}},mounted(){this.idUser=this.$route.params.id,console.log("ID del usuario obtenido de la URL:",this.idUser),this.fetchUserData(),this.fetchEspecialidades()},methods:{getStatusClass(){return"status-client"},getStatusText(){return"Cliente Activo"},getRoleText(){return"Cliente del sistema"},formatVisitDate(t){const a=new Date(t),e=["ENE","FEB","MAR","ABR","MAY","JUN","JUL","AGO","SEP","OCT","NOV","DIC"];return{day:a.getDate(),month:e[a.getMonth()]}},getPurchaseIcon(t){const a={servicio:"ti-settings",documento:"ti-file",producto:"ti-package",consulta:"ti-comments"};return a[t]||"ti-shopping-cart"},formatDate(t){if(!t)return"NA";const a=new Date(t),e=String(a.getDate()).padStart(2,"0"),s=String(a.getMonth()+1).padStart(2,"0"),i=a.getFullYear();return`${e}/${s}/${i}`},async fetchEspecialidades(){this.especialidades=[{id:"1",nombre:"Derecho Laboral"},{id:"2",nombre:"Derecho de Familia"},{id:"3",nombre:"Derecho Civil"},{id:"4",nombre:"Derecho Mercantil"}]},async fetchCases(){this.showCases=!0},async fetchUserData(){try{if(console.log("ID del usuario obtenido de la URL:",this.idUser),this.idUser){const t=await Pa["a"].getById(this.idUser);console.log("Datos del usuario obtenidos:",t),t&&(this.user={id:t._id||t.id,nombre:t.nombre||"",apellidos:t.apellidos||"",tel:t.telefono||t.tel||"",email:t.email||"",fechaNacimiento:t.fechaNacimiento||"",direccion:t.direccion||"",codigoPostal:t.codigoPostal||"",notas:t.notas||""})}this.fetchCases()}catch(t){console.error("Error al obtener datos del usuario:",t)}},async fetchEspe(){this.userCase={nombre:"Dr. Carlos",apellidos:"Martínez Ruiz",tel:"+34 678 901 234",email:"carlos.martinez@despacho.com",especialidad:"Derecho Laboral"}},wantAddBook(){this.showModalCita=!0},setCase(t){this.caseDetail=t,this.fetchEspe()},addRemesa(){this.newRemesa.idCliente=this.user.id,this.newRemesa.nombreCliente=this.user.nombre+this.user.apellidos,this.newRemesa.pagado=!1,this.remesas.push({...this.newRemesa}),this.newRemesa={fecha:"",cantidad:"",idCliente:this.user.id,nombreCliente:this.user.nombre+this.user.apellidos}},async addAllRemesas(){0!==this.remesas.length&&(console.log("Remesas guardadas:",this.remesas),this.showRemesa=!1,this.newRemesa={fecha:"",cantidad:"",idCliente:this.user.id,nombreCliente:this.user.nombre+" "+this.user.apellidos},this.remesas=[])}}},os=is,ns=(e("73f6"),Object(b["a"])(os,we,ke,!1,null,"14651936",null)),cs=ns.exports,rs=function(){var t=this,a=t._self._c;return a("div",{staticClass:"login-container"},[""!==t.errorMessage?a("b-alert",{staticStyle:{position:"fixed",left:"0px",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"danger",show:""}},[t._v(t._s(t.errorMessage))]):t._e(),a("form",{staticClass:"form-filters mx-5 my-5 py-5",on:{submit:function(a){return a.preventDefault(),t.login.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"mail"}},[t._v("Usuario")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.mail,expression:"mail"}],staticClass:"form-control",attrs:{id:"mail",type:"text",placeholder:"Usuario",autocomplete:"username"},domProps:{value:t.mail},on:{input:function(a){a.target.composing||(t.mail=a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v("Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Contraseña",autocomplete:"current-password"},domProps:{value:t.password},on:{input:function(a){a.target.composing||(t.password=a.target.value)}}})]),a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("Login")])])],1)},ls=[],ds={data(){return{mail:"",password:"",errorMessage:"",libraryErrors:["Email inválido","Contraseña incorrecta"]}},methods:{async login(){const t=Object(v["b"])();try{const e=await Object(v["d"])(t,this.mail,this.password);console.log(e);const s=await Object(Pa["d"])(this.mail);if(s&&s.plataformaId){localStorage.setItem("tenantId",s.plataformaId),Object(Pa["f"])(s.plataformaId);try{const t=await B["g"].getAll(),a=Array.isArray(t)?t:t.data||[];if(a.length>0){const t=a[0],e="/crm-seccion/"+this.sanitizePath(t.nombre);this.$router.push(e)}else this.$router.push("/crm-dinamico")}catch(a){console.error("Error al cargar secciones:",a),this.$router.push("/crm-dinamico")}}else this.errorMessage="No se pudo obtener la plataforma asociada a este usuario.",setTimeout(()=>{this.errorMessage=""},3e3)}catch(a){console.error("Error en el login:",a.code,a.message),"auth/user-not-found"===a.code?this.errorMessage="El usuario no existe":"auth/wrong-password"===a.code?this.errorMessage="Contraseña incorrecta":"auth/invalid-email"===a.code?this.errorMessage="Email inválido":this.errorMessage="Error al iniciar sesión",setTimeout(()=>{this.errorMessage=""},3e3)}},sanitizePath(t){return t.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}}},us=ds,ps=(e("a6d7"),Object(b["a"])(us,rs,ls,!1,null,"6046bbdc",null)),ms=ps.exports,vs=function(){var t=this,a=t._self._c;return a("card",{attrs:{title:"Notifications","sub-title":"Custom Vue notifications plugin"}},[a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h5",[t._v("Notifications Style")]),a("div",{staticClass:"alert alert-info"},[a("span",[t._v("This is a plain notification")])]),a("div",{staticClass:"alert alert-info"},[a("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),a("span",[t._v("This is a notification with close button.")])]),a("div",{staticClass:"alert alert-info alert-with-icon",attrs:{"data-notify":"container"}},[a("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"ti-bell",attrs:{"data-notify":"icon"}}),a("span",{attrs:{"data-notify":"message"}},[t._v("This is a notification with close button and icon.")])]),a("div",{staticClass:"alert alert-info alert-with-icon",attrs:{"data-notify":"container"}},[a("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"ti-pie-chart",attrs:{"data-notify":"icon"}}),a("span",{attrs:{"data-notify":"message"}},[t._v("This is a notification with close button and icon and have many\n            lines. You can see that the icon and the close button are always\n            vertically aligned. This is a beautiful notification. So you don't\n            have to worry about the style.")])])]),a("div",{staticClass:"col-md-6"},[a("h5",[t._v("Notification states")]),a("div",{staticClass:"alert alert-info"},[a("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),a("span",[a("b",[t._v(" Info - ")]),t._v(' This is a regular notification made with\n            ".alert-info"')])]),a("div",{staticClass:"alert alert-success"},[a("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),a("span",[a("b",[t._v(" Success - ")]),t._v(' This is a regular notification made with\n            ".alert-success"')])]),a("div",{staticClass:"alert alert-warning"},[a("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),a("span",[a("b",[t._v(" Warning - ")]),t._v(' This is a regular notification made with\n            ".alert-warning"')])]),a("div",{staticClass:"alert alert-danger"},[a("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),a("span",[a("b",[t._v(" Danger - ")]),t._v(' This is a regular notification made with\n            ".alert-danger"')])])])]),a("br"),a("br"),a("div",{staticClass:"places-buttons"},[a("div",{staticClass:"row d-flex justify-content-center"},[a("div",[a("h5",[t._v("\n            Notifications Places\n            "),a("p",{staticClass:"category"},[t._v("Click to view notifications")])])])]),a("div",{staticClass:"row d-flex justify-content-center"},[a("div",{staticClass:"col-md-3"},[a("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(a){return t.notifyVue("top","left")}}},[t._v("Top Left")])],1),a("div",{staticClass:"col-md-3"},[a("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(a){return t.notifyVue("top","center")}}},[t._v("Top Center")])],1),a("div",{staticClass:"col-md-3"},[a("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(a){return t.notifyVue("top","right")}}},[t._v("Top Right")])],1)]),a("div",{staticClass:"row d-flex justify-content-center"},[a("div",{staticClass:"col-md-3"},[a("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(a){return t.notifyVue("bottom","left")}}},[t._v("Bottom Left")])],1),a("div",{staticClass:"col-md-3"},[a("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(a){return t.notifyVue("bottom","center")}}},[t._v("Bottom Center")])],1),a("div",{staticClass:"col-md-3"},[a("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(a){return t.notifyVue("bottom","right")}}},[t._v("Bottom Right")])],1)])])])])},fs=[],Cs=function(){var t=this,a=t._self._c;return a("span",[t._v("Especialista creado correctamente")])},bs=[],gs={name:"notification-template"},hs=gs,_s=Object(b["a"])(hs,Cs,bs,!1,null,null,null),ys=_s.exports,ws={data(){return{type:["","info","success","warning","danger"],notifications:{topCenter:!1}}},methods:{notifyVue(t,a){const e=Math.floor(4*Math.random()+1);this.$notify({component:ys,icon:"ti-gift",horizontalAlign:a,verticalAlign:t,type:this.type[e]})}}},ks=ws,As=Object(b["a"])(ks,vs,fs,!1,null,null,null),xs=(As.exports,function(){var t=this,a=t._self._c;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("card",[a("template",{slot:"header"},[a("h4",{staticClass:"card-title"},[t._v("320+ Themify Icons")]),a("p",{staticClass:"card-category"},[t._v("\n          Handcrafted by our friends from\n          "),a("a",{attrs:{target:"_blank",href:"https://themify.me/"}},[t._v("Themify")]),t._v(".\n        ")])]),a("div",{staticClass:"content all-icons"},[a("div",{staticClass:"icon-section"},[a("h3",[t._v("Arrows & Direction Icons")]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrow-up"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrow-up")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrow-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrow-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrow-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrow-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrow-down"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrow-down")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrows-vertical"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrows-vertical")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrows-horizontal"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrows-horizontal")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-angle-up"}),a("span",{staticClass:"icon-name"},[t._v(" ti-angle-up")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-angle-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-angle-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-angle-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-angle-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-angle-down"}),a("span",{staticClass:"icon-name"},[t._v(" ti-angle-down")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-angle-double-up"}),a("span",{staticClass:"icon-name"},[t._v(" ti-angle-double-up")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-angle-double-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-angle-double-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-angle-double-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-angle-double-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-angle-double-down"}),a("span",{staticClass:"icon-name"},[t._v(" ti-angle-double-down")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-move"}),a("span",{staticClass:"icon-name"},[t._v(" ti-move")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-fullscreen"}),a("span",{staticClass:"icon-name"},[t._v(" ti-fullscreen")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrow-top-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrow-top-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrow-top-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrow-top-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrow-circle-up"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrow-circle-up")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrow-circle-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrow-circle-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrow-circle-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrow-circle-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrow-circle-down"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrow-circle-down")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-arrows-corner"}),a("span",{staticClass:"icon-name"},[t._v(" ti-arrows-corner")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-split-v"}),a("span",{staticClass:"icon-name"},[t._v(" ti-split-v")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-split-v-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-split-v-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-split-h"}),a("span",{staticClass:"icon-name"},[t._v(" ti-split-h")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-hand-point-up"}),a("span",{staticClass:"icon-name"},[t._v(" ti-hand-point-up")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-hand-point-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-hand-point-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-hand-point-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-hand-point-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-hand-point-down"}),a("span",{staticClass:"icon-name"},[t._v(" ti-hand-point-down")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-back-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-back-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-back-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-back-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-exchange-vertical"}),a("span",{staticClass:"icon-name"},[t._v(" ti-exchange-vertical")])])]),a("h3",[t._v("Web App Icons")]),a("div",{staticClass:"icon-section"},[a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-wand"}),a("span",{staticClass:"icon-name"},[t._v(" ti-wand")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-save"}),a("span",{staticClass:"icon-name"},[t._v(" ti-save")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-save-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-save-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-direction"}),a("span",{staticClass:"icon-name"},[t._v(" ti-direction")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-direction-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-direction-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-user"}),a("span",{staticClass:"icon-name"},[t._v(" ti-user")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-link"}),a("span",{staticClass:"icon-name"},[t._v(" ti-link")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-unlink"}),a("span",{staticClass:"icon-name"},[t._v(" ti-unlink")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-trash"}),a("span",{staticClass:"icon-name"},[t._v(" ti-trash")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-target"}),a("span",{staticClass:"icon-name"},[t._v(" ti-target")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-tag"}),a("span",{staticClass:"icon-name"},[t._v(" ti-tag")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-desktop"}),a("span",{staticClass:"icon-name"},[t._v(" ti-desktop")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-tablet"}),a("span",{staticClass:"icon-name"},[t._v(" ti-tablet")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-mobile"}),a("span",{staticClass:"icon-name"},[t._v(" ti-mobile")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-email"}),a("span",{staticClass:"icon-name"},[t._v(" ti-email")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-star"}),a("span",{staticClass:"icon-name"},[t._v(" ti-star")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-spray"}),a("span",{staticClass:"icon-name"},[t._v(" ti-spray")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-signal"}),a("span",{staticClass:"icon-name"},[t._v(" ti-signal")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-shopping-cart"}),a("span",{staticClass:"icon-name"},[t._v(" ti-shopping-cart")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-shopping-cart-full"}),a("span",{staticClass:"icon-name"},[t._v(" ti-shopping-cart-full")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-settings"}),a("span",{staticClass:"icon-name"},[t._v(" ti-settings")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-search"}),a("span",{staticClass:"icon-name"},[t._v(" ti-search")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-zoom-in"}),a("span",{staticClass:"icon-name"},[t._v(" ti-zoom-in")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-zoom-out"}),a("span",{staticClass:"icon-name"},[t._v(" ti-zoom-out")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-cut"}),a("span",{staticClass:"icon-name"},[t._v(" ti-cut")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-ruler"}),a("span",{staticClass:"icon-name"},[t._v(" ti-ruler")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-ruler-alt-2"}),a("span",{staticClass:"icon-name"},[t._v(" ti-ruler-alt-2")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-ruler-pencil"}),a("span",{staticClass:"icon-name"},[t._v(" ti-ruler-pencil")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-ruler-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-ruler-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-bookmark"}),a("span",{staticClass:"icon-name"},[t._v(" ti-bookmark")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-bookmark-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-bookmark-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-reload"}),a("span",{staticClass:"icon-name"},[t._v(" ti-reload")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-plus"}),a("span",{staticClass:"icon-name"},[t._v(" ti-plus")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-minus"}),a("span",{staticClass:"icon-name"},[t._v(" ti-minus")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-close"}),a("span",{staticClass:"icon-name"},[t._v(" ti-close")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-pin"}),a("span",{staticClass:"icon-name"},[t._v(" ti-pin")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-pencil"}),a("span",{staticClass:"icon-name"},[t._v(" ti-pencil")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-pencil-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-pencil-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-paint-roller"}),a("span",{staticClass:"icon-name"},[t._v(" ti-paint-roller")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-paint-bucket"}),a("span",{staticClass:"icon-name"},[t._v(" ti-paint-bucket")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-na"}),a("span",{staticClass:"icon-name"},[t._v(" ti-na")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-medall"}),a("span",{staticClass:"icon-name"},[t._v(" ti-medall")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-medall-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-medall-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-marker"}),a("span",{staticClass:"icon-name"},[t._v(" ti-marker")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-marker-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-marker-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-lock"}),a("span",{staticClass:"icon-name"},[t._v(" ti-lock")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-unlock"}),a("span",{staticClass:"icon-name"},[t._v(" ti-unlock")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-location-arrow"}),a("span",{staticClass:"icon-name"},[t._v(" ti-location-arrow")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layers"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layers")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layers-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layers-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-key"}),a("span",{staticClass:"icon-name"},[t._v(" ti-key")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-image"}),a("span",{staticClass:"icon-name"},[t._v(" ti-image")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-heart"}),a("span",{staticClass:"icon-name"},[t._v(" ti-heart")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-heart-broken"}),a("span",{staticClass:"icon-name"},[t._v(" ti-heart-broken")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-hand-stop"}),a("span",{staticClass:"icon-name"},[t._v(" ti-hand-stop")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-hand-open"}),a("span",{staticClass:"icon-name"},[t._v(" ti-hand-open")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-hand-drag"}),a("span",{staticClass:"icon-name"},[t._v(" ti-hand-drag")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-flag"}),a("span",{staticClass:"icon-name"},[t._v(" ti-flag")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-flag-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-flag-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-flag-alt-2"}),a("span",{staticClass:"icon-name"},[t._v(" ti-flag-alt-2")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-eye"}),a("span",{staticClass:"icon-name"},[t._v(" ti-eye")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-import"}),a("span",{staticClass:"icon-name"},[t._v(" ti-import")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-export"}),a("span",{staticClass:"icon-name"},[t._v(" ti-export")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-cup"}),a("span",{staticClass:"icon-name"},[t._v(" ti-cup")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-crown"}),a("span",{staticClass:"icon-name"},[t._v(" ti-crown")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-comments"}),a("span",{staticClass:"icon-name"},[t._v(" ti-comments")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-comment"}),a("span",{staticClass:"icon-name"},[t._v(" ti-comment")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-comment-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-comment-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-thought"}),a("span",{staticClass:"icon-name"},[t._v(" ti-thought")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-clip"}),a("span",{staticClass:"icon-name"},[t._v(" ti-clip")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-check"}),a("span",{staticClass:"icon-name"},[t._v(" ti-check")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-check-box"}),a("span",{staticClass:"icon-name"},[t._v(" ti-check-box")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-camera"}),a("span",{staticClass:"icon-name"},[t._v(" ti-camera")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-announcement"}),a("span",{staticClass:"icon-name"},[t._v(" ti-announcement")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-brush"}),a("span",{staticClass:"icon-name"},[t._v(" ti-brush")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-brush-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-brush-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-palette"}),a("span",{staticClass:"icon-name"},[t._v(" ti-palette")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-briefcase"}),a("span",{staticClass:"icon-name"},[t._v(" ti-briefcase")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-bolt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-bolt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-bolt-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-bolt-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-blackboard"}),a("span",{staticClass:"icon-name"},[t._v(" ti-blackboard")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-bag"}),a("span",{staticClass:"icon-name"},[t._v(" ti-bag")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-world"}),a("span",{staticClass:"icon-name"},[t._v(" ti-world")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-wheelchair"}),a("span",{staticClass:"icon-name"},[t._v(" ti-wheelchair")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-car"}),a("span",{staticClass:"icon-name"},[t._v(" ti-car")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-truck"}),a("span",{staticClass:"icon-name"},[t._v(" ti-truck")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-timer"}),a("span",{staticClass:"icon-name"},[t._v(" ti-timer")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-ticket"}),a("span",{staticClass:"icon-name"},[t._v(" ti-ticket")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-thumb-up"}),a("span",{staticClass:"icon-name"},[t._v(" ti-thumb-up")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-thumb-down"}),a("span",{staticClass:"icon-name"},[t._v(" ti-thumb-down")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-stats-up"}),a("span",{staticClass:"icon-name"},[t._v(" ti-stats-up")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-stats-down"}),a("span",{staticClass:"icon-name"},[t._v(" ti-stats-down")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-shine"}),a("span",{staticClass:"icon-name"},[t._v(" ti-shine")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-shift-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-shift-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-shift-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-shift-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-shift-right-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-shift-right-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-shift-left-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-shift-left-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-shield"}),a("span",{staticClass:"icon-name"},[t._v(" ti-shield")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-notepad"}),a("span",{staticClass:"icon-name"},[t._v(" ti-notepad")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-server"}),a("span",{staticClass:"icon-name"},[t._v(" ti-server")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-pulse"}),a("span",{staticClass:"icon-name"},[t._v(" ti-pulse")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-printer"}),a("span",{staticClass:"icon-name"},[t._v(" ti-printer")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-power-off"}),a("span",{staticClass:"icon-name"},[t._v(" ti-power-off")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-plug"}),a("span",{staticClass:"icon-name"},[t._v(" ti-plug")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-pie-chart"}),a("span",{staticClass:"icon-name"},[t._v(" ti-pie-chart")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-panel"}),a("span",{staticClass:"icon-name"},[t._v(" ti-panel")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-package"}),a("span",{staticClass:"icon-name"},[t._v(" ti-package")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-music"}),a("span",{staticClass:"icon-name"},[t._v(" ti-music")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-music-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-music-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-mouse"}),a("span",{staticClass:"icon-name"},[t._v(" ti-mouse")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-mouse-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-mouse-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-money"}),a("span",{staticClass:"icon-name"},[t._v(" ti-money")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-microphone"}),a("span",{staticClass:"icon-name"},[t._v(" ti-microphone")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-menu"}),a("span",{staticClass:"icon-name"},[t._v(" ti-menu")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-menu-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-menu-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-map"}),a("span",{staticClass:"icon-name"},[t._v(" ti-map")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-map-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-map-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-location-pin"}),a("span",{staticClass:"icon-name"},[t._v(" ti-location-pin")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-light-bulb"}),a("span",{staticClass:"icon-name"},[t._v(" ti-light-bulb")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-info"}),a("span",{staticClass:"icon-name"},[t._v(" ti-info")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-infinite"}),a("span",{staticClass:"icon-name"},[t._v(" ti-infinite")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-id-badge"}),a("span",{staticClass:"icon-name"},[t._v(" ti-id-badge")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-hummer"}),a("span",{staticClass:"icon-name"},[t._v(" ti-hummer")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-home"}),a("span",{staticClass:"icon-name"},[t._v(" ti-home")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-help"}),a("span",{staticClass:"icon-name"},[t._v(" ti-help")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-headphone"}),a("span",{staticClass:"icon-name"},[t._v(" ti-headphone")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-harddrives"}),a("span",{staticClass:"icon-name"},[t._v(" ti-harddrives")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-harddrive"}),a("span",{staticClass:"icon-name"},[t._v(" ti-harddrive")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-gift"}),a("span",{staticClass:"icon-name"},[t._v(" ti-gift")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-game"}),a("span",{staticClass:"icon-name"},[t._v(" ti-game")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-filter"}),a("span",{staticClass:"icon-name"},[t._v(" ti-filter")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-files"}),a("span",{staticClass:"icon-name"},[t._v(" ti-files")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-file"}),a("span",{staticClass:"icon-name"},[t._v(" ti-file")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-zip"}),a("span",{staticClass:"icon-name"},[t._v(" ti-zip")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-folder"}),a("span",{staticClass:"icon-name"},[t._v(" ti-folder")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-envelope"}),a("span",{staticClass:"icon-name"},[t._v(" ti-envelope")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-dashboard"}),a("span",{staticClass:"icon-name"},[t._v(" ti-dashboard")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-cloud"}),a("span",{staticClass:"icon-name"},[t._v(" ti-cloud")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-cloud-up"}),a("span",{staticClass:"icon-name"},[t._v(" ti-cloud-up")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-cloud-down"}),a("span",{staticClass:"icon-name"},[t._v(" ti-cloud-down")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-clipboard"}),a("span",{staticClass:"icon-name"},[t._v(" ti-clipboard")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-calendar"}),a("span",{staticClass:"icon-name"},[t._v(" ti-calendar")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-book"}),a("span",{staticClass:"icon-name"},[t._v(" ti-book")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-bell"}),a("span",{staticClass:"icon-name"},[t._v(" ti-bell")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-basketball"}),a("span",{staticClass:"icon-name"},[t._v(" ti-basketball")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-bar-chart"}),a("span",{staticClass:"icon-name"},[t._v(" ti-bar-chart")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-bar-chart-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-bar-chart-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-archive"}),a("span",{staticClass:"icon-name"},[t._v(" ti-archive")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-anchor"}),a("span",{staticClass:"icon-name"},[t._v(" ti-anchor")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-alert"}),a("span",{staticClass:"icon-name"},[t._v(" ti-alert")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-alarm-clock"}),a("span",{staticClass:"icon-name"},[t._v(" ti-alarm-clock")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-agenda"}),a("span",{staticClass:"icon-name"},[t._v(" ti-agenda")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-write"}),a("span",{staticClass:"icon-name"},[t._v(" ti-write")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-wallet"}),a("span",{staticClass:"icon-name"},[t._v(" ti-wallet")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-video-clapper"}),a("span",{staticClass:"icon-name"},[t._v(" ti-video-clapper")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-video-camera"}),a("span",{staticClass:"icon-name"},[t._v(" ti-video-camera")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-vector"}),a("span",{staticClass:"icon-name"},[t._v(" ti-vector")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-support"}),a("span",{staticClass:"icon-name"},[t._v(" ti-support")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-stamp"}),a("span",{staticClass:"icon-name"},[t._v(" ti-stamp")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-slice"}),a("span",{staticClass:"icon-name"},[t._v(" ti-slice")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-shortcode"}),a("span",{staticClass:"icon-name"},[t._v(" ti-shortcode")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-receipt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-receipt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-pin2"}),a("span",{staticClass:"icon-name"},[t._v(" ti-pin2")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-pin-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-pin-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-pencil-alt2"}),a("span",{staticClass:"icon-name"},[t._v(" ti-pencil-alt2")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-eraser"}),a("span",{staticClass:"icon-name"},[t._v(" ti-eraser")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-more"}),a("span",{staticClass:"icon-name"},[t._v(" ti-more")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-more-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-more-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-microphone-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-microphone-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-magnet"}),a("span",{staticClass:"icon-name"},[t._v(" ti-magnet")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-line-double"}),a("span",{staticClass:"icon-name"},[t._v(" ti-line-double")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-line-dotted"}),a("span",{staticClass:"icon-name"},[t._v(" ti-line-dotted")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-line-dashed"}),a("span",{staticClass:"icon-name"},[t._v(" ti-line-dashed")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-ink-pen"}),a("span",{staticClass:"icon-name"},[t._v(" ti-ink-pen")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-info-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-info-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-help-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-help-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-headphone-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-headphone-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-gallery"}),a("span",{staticClass:"icon-name"},[t._v(" ti-gallery")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-face-smile"}),a("span",{staticClass:"icon-name"},[t._v(" ti-face-smile")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-face-sad"}),a("span",{staticClass:"icon-name"},[t._v(" ti-face-sad")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-credit-card"}),a("span",{staticClass:"icon-name"},[t._v(" ti-credit-card")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-comments-smiley"}),a("span",{staticClass:"icon-name"},[t._v(" ti-comments-smiley")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-time"}),a("span",{staticClass:"icon-name"},[t._v(" ti-time")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-share"}),a("span",{staticClass:"icon-name"},[t._v(" ti-share")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-share-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-share-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-rocket"}),a("span",{staticClass:"icon-name"},[t._v(" ti-rocket")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-new-window"}),a("span",{staticClass:"icon-name"},[t._v(" ti-new-window")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-rss"}),a("span",{staticClass:"icon-name"},[t._v(" ti-rss")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-rss-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-rss-alt")])])]),a("div",{staticClass:"icon-section"},[a("h3",[t._v("Control Icons")]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-control-stop"}),a("span",{staticClass:"icon-name"},[t._v(" ti-control-stop")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-control-shuffle"}),a("span",{staticClass:"icon-name"},[t._v(" ti-control-shuffle")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-control-play"}),a("span",{staticClass:"icon-name"},[t._v(" ti-control-play")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-control-pause"}),a("span",{staticClass:"icon-name"},[t._v(" ti-control-pause")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-control-forward"}),a("span",{staticClass:"icon-name"},[t._v(" ti-control-forward")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-control-backward"}),a("span",{staticClass:"icon-name"},[t._v(" ti-control-backward")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-volume"}),a("span",{staticClass:"icon-name"},[t._v(" ti-volume")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-control-skip-forward"}),a("span",{staticClass:"icon-name"},[t._v(" ti-control-skip-forward")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-control-skip-backward"}),a("span",{staticClass:"icon-name"},[t._v(" ti-control-skip-backward")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-control-record"}),a("span",{staticClass:"icon-name"},[t._v(" ti-control-record")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-control-eject"}),a("span",{staticClass:"icon-name"},[t._v(" ti-control-eject")])])]),a("div",{staticClass:"icon-section"},[a("h3",[t._v("Text Editor")]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-paragraph"}),a("span",{staticClass:"icon-name"},[t._v(" ti-paragraph")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-uppercase"}),a("span",{staticClass:"icon-name"},[t._v(" ti-uppercase")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-underline"}),a("span",{staticClass:"icon-name"},[t._v(" ti-underline")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-text"}),a("span",{staticClass:"icon-name"},[t._v(" ti-text")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-Italic"}),a("span",{staticClass:"icon-name"},[t._v(" ti-Italic")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-smallcap"}),a("span",{staticClass:"icon-name"},[t._v(" ti-smallcap")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-list"}),a("span",{staticClass:"icon-name"},[t._v(" ti-list")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-list-ol"}),a("span",{staticClass:"icon-name"},[t._v(" ti-list-ol")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-align-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-align-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-align-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-align-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-align-justify"}),a("span",{staticClass:"icon-name"},[t._v(" ti-align-justify")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-align-center"}),a("span",{staticClass:"icon-name"},[t._v(" ti-align-center")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-quote-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-quote-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-quote-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-quote-left")])])]),a("div",{staticClass:"icon-section"},[a("h3",[t._v("Layout Icons")]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-width-full"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-width-full")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-width-default"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-width-default")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-width-default-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-width-default-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-tab"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-tab")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-tab-window"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-tab-window")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-tab-v"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-tab-v")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-tab-min"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-tab-min")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-slider"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-slider")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-slider-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-slider-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-sidebar-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-sidebar-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-sidebar-none"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-sidebar-none")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-sidebar-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-sidebar-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-placeholder"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-placeholder")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-menu"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-menu")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-menu-v"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-menu-v")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-menu-separated"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-menu-separated")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-menu-full"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-menu-full")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-media-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-media-right-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-right-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-media-overlay"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-overlay")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-media-overlay-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-overlay-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-media-overlay-alt-2"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-overlay-alt-2")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-media-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-media-left-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-left-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-media-center"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-center")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-media-center-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-center-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-list-thumb"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-list-thumb")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-list-thumb-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-list-thumb-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-list-post"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-list-post")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-list-large-image"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-list-large-image")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-line-solid"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-line-solid")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-grid4"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid4")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-grid3"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid3")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-grid2"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid2")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-grid2-thumb"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid2-thumb")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-cta-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-cta-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-cta-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-cta-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-cta-center"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-cta-center")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-cta-btn-right"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-cta-btn-right")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-cta-btn-left"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-cta-btn-left")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-column4"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-column4")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-column3"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-column3")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-column2"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-column2")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-accordion-separated"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-accordion-separated")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-accordion-merged"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-accordion-merged")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-accordion-list"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-accordion-list")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-widgetized"}),a("span",{staticClass:"icon-name"},[t._v(" ti-widgetized")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-widget"}),a("span",{staticClass:"icon-name"},[t._v(" ti-widget")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-widget-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-widget-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-view-list"}),a("span",{staticClass:"icon-name"},[t._v(" ti-view-list")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-view-list-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-view-list-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-view-grid"}),a("span",{staticClass:"icon-name"},[t._v(" ti-view-grid")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-upload"}),a("span",{staticClass:"icon-name"},[t._v(" ti-upload")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-download"}),a("span",{staticClass:"icon-name"},[t._v(" ti-download")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-loop"}),a("span",{staticClass:"icon-name"},[t._v(" ti-loop")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-sidebar-2"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-sidebar-2")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-grid4-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid4-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-grid3-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid3-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-grid2-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid2-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-column4-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-column4-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-column3-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-column3-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-layout-column2-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-layout-column2-alt")])])]),a("div",{staticClass:"icon-section"},[a("h3",[t._v("Brand Icons")]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-flickr"}),a("span",{staticClass:"icon-name"},[t._v(" ti-flickr")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-flickr-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-flickr-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-instagram"}),a("span",{staticClass:"icon-name"},[t._v(" ti-instagram")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-google"}),a("span",{staticClass:"icon-name"},[t._v(" ti-google")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-github"}),a("span",{staticClass:"icon-name"},[t._v(" ti-github")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-facebook"}),a("span",{staticClass:"icon-name"},[t._v(" ti-facebook")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-dropbox"}),a("span",{staticClass:"icon-name"},[t._v(" ti-dropbox")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-dropbox-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-dropbox-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-dribbble"}),a("span",{staticClass:"icon-name"},[t._v(" ti-dribbble")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-apple"}),a("span",{staticClass:"icon-name"},[t._v(" ti-apple")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-android"}),a("span",{staticClass:"icon-name"},[t._v(" ti-android")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-yahoo"}),a("span",{staticClass:"icon-name"},[t._v(" ti-yahoo")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-trello"}),a("span",{staticClass:"icon-name"},[t._v(" ti-trello")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-stack-overflow"}),a("span",{staticClass:"icon-name"},[t._v(" ti-stack-overflow")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-soundcloud"}),a("span",{staticClass:"icon-name"},[t._v(" ti-soundcloud")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-sharethis"}),a("span",{staticClass:"icon-name"},[t._v(" ti-sharethis")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-sharethis-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-sharethis-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-reddit"}),a("span",{staticClass:"icon-name"},[t._v(" ti-reddit")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-microsoft"}),a("span",{staticClass:"icon-name"},[t._v(" ti-microsoft")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-microsoft-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-microsoft-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-linux"}),a("span",{staticClass:"icon-name"},[t._v(" ti-linux")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-jsfiddle"}),a("span",{staticClass:"icon-name"},[t._v(" ti-jsfiddle")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-joomla"}),a("span",{staticClass:"icon-name"},[t._v(" ti-joomla")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-html5"}),a("span",{staticClass:"icon-name"},[t._v(" ti-html5")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-css3"}),a("span",{staticClass:"icon-name"},[t._v(" ti-css3")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-drupal"}),a("span",{staticClass:"icon-name"},[t._v(" ti-drupal")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-wordpress"}),a("span",{staticClass:"icon-name"},[t._v(" ti-wordpress")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-tumblr"}),a("span",{staticClass:"icon-name"},[t._v(" ti-tumblr")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-tumblr-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-tumblr-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-skype"}),a("span",{staticClass:"icon-name"},[t._v(" ti-skype")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-youtube"}),a("span",{staticClass:"icon-name"},[t._v(" ti-youtube")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-vimeo"}),a("span",{staticClass:"icon-name"},[t._v(" ti-vimeo")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-vimeo-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-vimeo-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-twitter"}),a("span",{staticClass:"icon-name"},[t._v(" ti-twitter")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-twitter-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-twitter-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-linkedin"}),a("span",{staticClass:"icon-name"},[t._v(" ti-linkedin")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-pinterest"}),a("span",{staticClass:"icon-name"},[t._v(" ti-pinterest")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-pinterest-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-pinterest-alt")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-themify-logo"}),a("span",{staticClass:"icon-name"},[t._v(" ti-themify-logo")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-themify-favicon"}),a("span",{staticClass:"icon-name"},[t._v(" ti-themify-favicon")])]),a("div",{staticClass:"icon-container"},[a("span",{staticClass:"ti-themify-favicon-alt"}),a("span",{staticClass:"icon-name"},[t._v(" ti-themify-favicon-alt")])])])])],2)],1)])}),Ss=[],Os={},Ds=Os,Ps=Object(b["a"])(Ds,xs,Ss,!1,null,null,null),js=(Ps.exports,function(){var t=this,a=t._self._c;return a("card",{staticClass:"card-map",attrs:{title:"Google Maps"}},[a("div",{staticClass:"map"},[a("div",{attrs:{id:"map"}})])])}),Es=[],Ns={mounted(){var t=new window.google.maps.LatLng(40.748817,-73.985428),a={zoom:13,center:t,scrollwheel:!1,styles:[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b8cb93"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]},{featureType:"poi.medical",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"simplified"}]}]},e=new window.google.maps.Map(document.getElementById("map"),a),s=new window.google.maps.Marker({position:t,title:"Hello World!"});s.setMap(e)}},Ts=Ns,Is=Object(b["a"])(Ts,js,Es,!1,null,null,null),Fs=(Is.exports,function(){var t=this,a=t._self._c;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("card",[a("template",{slot:"header"},[a("h4",{staticClass:"card-title"},[t._v("Paper Dashboard Headings")]),a("p",{staticClass:"card-category"},[t._v("\n            Created using\n            "),a("a",{attrs:{href:"https://www.google.com/fonts/specimen/Muli"}},[t._v("Muli")]),t._v(" Font\n            Family\n          ")])]),a("div",{staticClass:"content"},[a("div",{staticClass:"typo-line"},[a("h1",[a("p",{staticClass:"category"},[t._v("Header 1")]),t._v("\n              Paper Dashboard Heading\n            ")])]),a("div",{staticClass:"typo-line"},[a("h2",[a("p",{staticClass:"category"},[t._v("Header 2")]),t._v("\n              Paper Dashboard Heading\n            ")])]),a("div",{staticClass:"typo-line"},[a("h3",[a("p",{staticClass:"category"},[t._v("Header 3")]),t._v("\n              Paper Dashboard Heading\n            ")])]),a("div",{staticClass:"typo-line"},[a("h4",[a("p",{staticClass:"category"},[t._v("Header 4")]),t._v("\n              Paper Dashboard Heading\n            ")])]),a("div",{staticClass:"typo-line"},[a("h5",[a("p",{staticClass:"category"},[t._v("Header 5")]),t._v("\n              Paper Dashboard Heading\n            ")])]),a("div",{staticClass:"typo-line"},[a("h6",[a("p",{staticClass:"category"},[t._v("Header 6")]),t._v("\n              Paper Dashboard Heading\n            ")])]),a("div",{staticClass:"typo-line"},[a("p",[a("span",{staticClass:"category"},[t._v("Paragraph")]),t._v("Lorem ipsum dolor sit amet,\n              consectetuer adipiscing elit, sed diam nonummy nibh euismod\n              tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi\n              enim ad minim veniam.\n            ")])]),a("div",{staticClass:"typo-line"},[a("p",{staticClass:"category"},[t._v("Quote")]),a("blockquote",[a("p",[t._v("\n                Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed\n                diam nonummy nibh euismod tincidunt ut laoreet dolore magna\n                aliquam erat volutpat. Ut wisi enim ad minim veniam.\n              ")]),a("small",[t._v(" Steve Jobs, CEO Apple ")])])]),a("div",{staticClass:"typo-line"},[a("p",{staticClass:"category"},[t._v("Muted Text")]),a("p",{staticClass:"text-muted"},[t._v("\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam\n              nonummy nibh euismod tincidunt ut laoreet.\n            ")])]),a("div",{staticClass:"typo-line"},[a("p",{staticClass:"category"},[t._v("Coloured Text")]),a("p",{staticClass:"text-primary"},[t._v("\n              Text Primary - Light Bootstrap Table Heading and complex bootstrap\n              dashboard you've ever seen on the internet.\n            ")]),a("p",{staticClass:"text-info"},[t._v("\n              Text Info - Light Bootstrap Table Heading and complex bootstrap\n              dashboard you've ever seen on the internet.\n            ")]),a("p",{staticClass:"text-success"},[t._v("\n              Text Success - Light Bootstrap Table Heading and complex bootstrap\n              dashboard you've ever seen on the internet.\n            ")]),a("p",{staticClass:"text-warning"},[t._v("\n              Text Warning - Light Bootstrap Table Heading and complex bootstrap\n              dashboard you've ever seen on the internet.\n            ")]),a("p",{staticClass:"text-danger"},[t._v("\n              Text Danger - Light Bootstrap Table Heading and complex bootstrap\n              dashboard you've ever seen on the internet.\n            ")])]),a("div",{staticClass:"typo-line"},[a("h2",[a("p",{staticClass:"category"},[t._v("Small Tag")]),t._v("\n              Header with small subtitle\n              "),a("br"),a("small",[t._v('".small" is a tag for the headers')])])]),a("div",{staticClass:"typo-line"},[a("p",{staticClass:"category"},[t._v("Lists")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("h5",[t._v("Unordered List")]),a("ul",[a("li",[t._v("List Item")]),a("li",[t._v("List Item")]),a("li",{staticClass:"list-unstyled"},[a("ul",[a("li",[t._v("List Item")]),a("li",[t._v("List Item")]),a("li",[t._v("List Item")])])]),a("li",[t._v("List Item")])])]),a("div",{staticClass:"col-md-3"},[a("h5",[t._v("Ordered List")]),a("ol",[a("li",[t._v("List Item")]),a("li",[t._v("List Item")]),a("li",[t._v("List Item")])])]),a("div",{staticClass:"col-md-3"},[a("h5",[t._v("Unstyled List")]),a("ul",{staticClass:"list-unstyled"},[a("li",[t._v("List Item")]),a("li",[t._v("List Item")]),a("li",[t._v("List Item")])])]),a("div",{staticClass:"col-md-3"},[a("h5",[t._v("Inline List")]),a("ul",{staticClass:"list-inline"},[a("li",[t._v("List Item")]),a("li",[t._v("List Item")]),a("li",[t._v("List Item")])])])])]),a("div",{staticClass:"typo-line"},[a("p",{staticClass:"category"},[t._v("Blockquotes")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h5",[t._v("Default Blockquote")]),a("blockquote",[a("p",[t._v("\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Integer posuere erat a ante.\n                  ")])])]),a("div",{staticClass:"col-md-6"},[a("h5",[t._v("Blockquote with Citation")]),a("blockquote",[a("p",[t._v("\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Integer posuere erat a ante.\n                  ")]),a("small",[t._v("Someone famous in\n                    "),a("cite",{attrs:{title:"Source Title"}},[t._v("Source Title")])])])])])]),a("div",{staticClass:"typo-line"},[a("p",{staticClass:"category"},[t._v("Code")]),a("p",[t._v("\n              This is\n              "),a("code",[t._v(".css-class-as-code")]),t._v(", an example of an inline code\n              element. Wrap inline code within a\n              "),a("code",[t._v(" <code>...</code>")]),t._v("tag.\n            ")]),a("pre",[t._v("1. #This is an example of preformatted text. 2. #Here is another line of code")])])])],2)],1)])}),$s=[],Ms={},Ls=Ms,Rs=Object(b["a"])(Ls,Fs,$s,!1,null,null,null),zs=(Rs.exports,function(){var t=this,a=t._self._c;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("card",{attrs:{title:t.table1.title,subTitle:t.table1.subTitle}},[a("div",{staticClass:"table-responsive",attrs:{slot:"raw-content"},slot:"raw-content"},[a("paper-table",{attrs:{data:t.table1.data,columns:t.table1.columns}})],1)])],1),a("div",{staticClass:"col-12"},[a("card",{staticClass:"card-plain"},[a("div",{staticClass:"table-full-width table-responsive"},[a("paper-table",{attrs:{type:"hover",title:t.table2.title,"sub-title":t.table2.subTitle,data:t.table2.data,columns:t.table2.columns}})],1)])],1)])}),Bs=[];const Us=["Id","Name","Salary","Country","City"],qs=[{id:1,name:"Dakota Rice",salary:"$36.738",country:"Niger",city:"Oud-Turnhout"},{id:2,name:"Minerva Hooper",salary:"$23,789",country:"Curaçao",city:"Sinaai-Waas"},{id:3,name:"Sage Rodriguez",salary:"$56,142",country:"Netherlands",city:"Baileux"},{id:4,name:"Philip Chaney",salary:"$38,735",country:"Korea, South",city:"Overland Park"},{id:5,name:"Doris Greene",salary:"$63,542",country:"Malawi",city:"Feldkirchen in Kärnten"}];var Vs={components:{PaperTable:bt},data(){return{table1:{title:"Stripped Table",subTitle:"Here is a subtitle for this table",columns:[...Us],data:[...qs]},table2:{title:"Table on Plain Background",subTitle:"Here is a subtitle for this table",columns:[...Us],data:[...qs]}}}},Hs=Vs,Gs=Object(b["a"])(Hs,zs,Bs,!1,null,null,null),Js=(Gs.exports,function(){var t=this,a=t._self._c;return a("div",{staticClass:"listado-servicios-container"},[t.showSuccess?a("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Servicio borrado correctamente")]):t._e(),t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-section"},[a("div",{staticClass:"table-header"},[a("h2",[t._v("Filtros de Búsqueda")]),a("button",{staticClass:"btn-add",on:{click:function(a){t.createModal=!0}}},[a("i",{staticClass:"ti-plus"}),t._v(" Añadir Servicio\n        ")])]),a("div",{staticClass:"filters-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"nombreInput"}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.nombre,expression:"filters.nombre"}],staticClass:"form-control",attrs:{id:"nombreInput",type:"text",placeholder:"Buscar por nombre"},domProps:{value:t.filters.nombre},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.filters,"nombre",a.target.value)}}})])]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"categoriaInput"}},[t._v("Categoría")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.categoria,expression:"filters.categoria"}],staticClass:"form-control",attrs:{id:"categoriaInput",type:"text",placeholder:"Buscar por categoría"},domProps:{value:t.filters.categoria},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.filters,"categoria",a.target.value)}}})])]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"precioInput"}},[t._v("Precio máximo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.precioMax,expression:"filters.precioMax"}],staticClass:"form-control",attrs:{id:"precioInput",type:"number",placeholder:"Precio máximo"},domProps:{value:t.filters.precioMax},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.filters,"precioMax",a.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orderSelect"}},[t._v("Ordenar por")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],staticClass:"form-control",attrs:{id:"orderSelect"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.order=a.target.multiple?e:e[0]},t.handleOrderChange]}},[a("option",{attrs:{value:"nombre"}},[t._v("Nombre")]),a("option",{attrs:{value:"precio"}},[t._v("Precio")]),a("option",{attrs:{value:"categoria"}},[t._v("Categoría")]),a("option",{attrs:{value:"duracion"}},[t._v("Duración")])])])]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orderDirection"}},[t._v("Dirección")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.orderDirection,expression:"orderDirection"}],staticClass:"form-control",attrs:{id:"orderDirection"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.orderDirection=a.target.multiple?e:e[0]},t.handleOrderChange]}},[a("option",{attrs:{value:"asc"}},[t._v("Ascendente")]),a("option",{attrs:{value:"desc"}},[t._v("Descendente")])])])]),a("div",{staticClass:"col-md-4 mb-3 d-flex align-items-end"},[a("div",{staticClass:"w-100"},[a("button",{staticClass:"btn-search",on:{click:t.fetchData}},[a("i",{staticClass:"ti-search"}),t._v(" Buscar\n              ")]),a("button",{staticClass:"btn-clear",on:{click:t.clearFilters}},[a("i",{staticClass:"ti-eraser"}),t._v(" Limpiar\n              ")])])])])])]),a("div",{staticClass:"table-section"},[t._m(1),a("Listados",{attrs:{items:t.filteredServicios,fields:t.fields,"current-page":t.currentPage},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"tableActions",fn:function({data:e}){return[t.showAsAdmin?a("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(a){return t.editService(e.item)}}},[a("i",{staticClass:"ti-pencil"})]):t._e(),t.showAsAdmin?a("button",{staticClass:"btn-delete",attrs:{title:"Borrar"},on:{click:function(a){return t.deleteService(e.item)}}},[a("i",{staticClass:"ti-trash"})]):t._e(),a("button",{staticClass:"btn-view",attrs:{title:"Ver"},on:{click:function(a){return t.viewService(e.item)}}},[a("i",{staticClass:"ti-eye"})])]}}])})],1),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Editar servicio\n      ")]},proxy:!0}]),model:{value:t.modalShow,callback:function(a){t.modalShow=a},expression:"modalShow"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.serviceToEdit.nombre,expression:"serviceToEdit.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.serviceToEdit.nombre},on:{input:function(a){a.target.composing||t.$set(t.serviceToEdit,"nombre",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Categoría")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.serviceToEdit.categoria,expression:"serviceToEdit.categoria"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.serviceToEdit.categoria},on:{input:function(a){a.target.composing||t.$set(t.serviceToEdit,"categoria",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Precio (€)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.serviceToEdit.precio,expression:"serviceToEdit.precio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.serviceToEdit.precio},on:{input:function(a){a.target.composing||t.$set(t.serviceToEdit,"precio",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Impuestos (%)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.serviceToEdit.impuesto,expression:"serviceToEdit.impuesto",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.serviceToEdit.impuesto},on:{input:function(a){a.target.composing||t.$set(t.serviceToEdit,"impuesto",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Duración (minutos)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.serviceToEdit.duracion,expression:"serviceToEdit.duracion",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Duración del servicio"},domProps:{value:t.serviceToEdit.duracion},on:{input:function(a){a.target.composing||t.$set(t.serviceToEdit,"duracion",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-12"},[a("label",{attrs:{for:""}},[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.serviceToEdit.descripcion,expression:"serviceToEdit.descripcion"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.serviceToEdit.descripcion},on:{input:function(a){a.target.composing||t.$set(t.serviceToEdit,"descripcion",a.target.value)}}})]),a("b-button",{staticClass:"btn-search mx-5 mt-4",on:{click:t.saveChanges}},[t._v("Guardar cambios")])],1)]),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Borrar servicio\n      ")]},proxy:!0}]),model:{value:t.modalDelete,callback:function(a){t.modalDelete=a},expression:"modalDelete"}},[a("div",{staticClass:"text-center"},[a("p",[t._v("¿Estás seguro de que quieres eliminar el servicio "),a("strong",[t._v(t._s(t.serviceToDelete.nombre))]),t._v("?")]),a("p",{staticClass:"text-danger"},[t._v("Esta acción no se puede deshacer.")]),a("div",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.deleteUser}},[t._v("Eliminar")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(a){t.modalDelete=!1}}},[t._v("Cancelar")])],1)])]),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Añadir servicio\n      ")]},proxy:!0}]),model:{value:t.createModal,callback:function(a){t.createModal=a},expression:"createModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createService.nombre,expression:"createService.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createService.nombre},on:{input:function(a){a.target.composing||t.$set(t.createService,"nombre",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Categoría")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createService.categoria,expression:"createService.categoria"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createService.categoria},on:{input:function(a){a.target.composing||t.$set(t.createService,"categoria",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Precio (€)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createService.precio,expression:"createService.precio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.createService.precio},on:{input:function(a){a.target.composing||t.$set(t.createService,"precio",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Impuestos (%)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createService.impuesto,expression:"createService.impuesto",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.createService.impuesto},on:{input:function(a){a.target.composing||t.$set(t.createService,"impuesto",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Duración (minutos)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createService.duracion,expression:"createService.duracion",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Duración del servicio"},domProps:{value:t.createService.duracion},on:{input:function(a){a.target.composing||t.$set(t.createService,"duracion",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-12"},[a("label",{attrs:{for:""}},[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.createService.descripcion,expression:"createService.descripcion"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.createService.descripcion},on:{input:function(a){a.target.composing||t.$set(t.createService,"descripcion",a.target.value)}}})])]),a("b-button",{staticClass:"btn-search mt-4",on:{click:t.addService}},[t._v("Añadir servicio")])],1)],1)],1)}),Qs=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-briefcase"}),t._v("\n        Listado de Servicios\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Gestión y administración de servicios")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"table-header"},[a("h2",[t._v("Listado de Servicios")])])}],Ys={components:{Listados:wa},setup(){const t=Object(s["ref"])({nombre:"",descripcion:"",precio:0,duracion:0,categoria:"",impuesto:21}),a=Object(s["ref"])(!1),e=Object(s["ref"])([]),i=Object(s["ref"])({}),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=Object(s["ref"])(!1),r=Object(s["ref"])({}),l=Object(s["ref"])(1),d=JSON.parse(localStorage.getItem("userInform")),u=Object(s["computed"])(()=>!(!d.admin||!0!==d.admin)),p=Object(s["ref"])({nombre:"",categoria:"",precioMax:""}),m=Object(s["ref"])("nombre"),v=Object(s["ref"])("asc"),f=[{key:"nombre",label:"Nombre"},{key:"descripcion",label:"Descripción"},{key:"precio",label:"Precio"},{key:"duracion",label:"Duración"},{key:"categoria",label:"Categoría"},{key:"actions",label:""}],C=async()=>{try{const t={};p.value.nombre.trim()&&(t.nombre=p.value.nombre.trim()),p.value.categoria.trim()&&(t.categoria=p.value.categoria.trim()),p.value.precioMax&&(t.precioMax=parseFloat(p.value.precioMax)),t.categoria="Servicios",console.log("Parámetros enviados a la API:",t);const a=await B["h"].getAll(t);console.log("Respuesta de la API:",a),e.value=a}catch(t){console.error("Error al obtener servicios:",t)}},b=()=>{p.value.nombre="",p.value.categoria="",p.value.precioMax="",m.value="nombre",v.value="asc",C()},g=()=>{console.log("Cambio de ordenamiento:",{order:m.value,direction:v.value})},h=Object(s["computed"])(()=>{let t=e.value;return t.sort((t,a)=>{let e=t[m.value],s=a[m.value];if("string"===typeof e&&(e=e.toLowerCase(),s=s.toLowerCase()),"asc"===v.value){if(e<s)return-1;if(e>s)return 1}else{if(e>s)return-1;if(e<s)return 1}return 0}),t}),_=t=>{console.log(t),i.value={...t},o.value=!0},y=t=>{l.value=parseInt(t),C()},w=async()=>{try{t.value.categoria="Servicios",await B["h"].create(t.value),t.value={nombre:"",descripcion:"",precio:0,duracion:0,categoria:"",impuesto:21},a.value=!1,C()}catch(e){console.error("Error al crear servicio:",e)}};Object(s["onMounted"])(()=>{C()});const k=async()=>{try{i.value.categoria="Servicios",await B["h"].update(i.value._id,i.value),o.value=!1,C()}catch(t){console.error("Error al actualizar servicio:",t)}},A=async()=>{try{await B["h"].delete(r.value._id),c.value=!0,n.value=!1,C(),setTimeout(()=>{c.value=!1},3e3)}catch(t){console.error("Error al eliminar el servicio:",t)}},x=t=>{console.log("Ver servicio:",t)};return{createService:t,saveChanges:k,createModal:a,fields:f,filteredServicios:h,editService:_,modalShow:o,serviceToEdit:i,modalDelete:n,serviceToDelete:r,showSuccess:c,showAsAdmin:u,addService:w,deleteUser:A,deleteService:t=>{r.value=t,n.value=!0},filters:p,order:m,orderDirection:v,clearFilters:b,handleOrderChange:g,fetchData:C,currentPage:l,handlePageChange:y,viewService:x}}},Ws=Ys,Ks=(e("5979"),Object(b["a"])(Ws,Js,Qs,!1,null,"60bdf290",null)),Zs=Ks.exports,Xs=function(){var t=this,a=t._self._c;return a("div",{staticClass:"listado-productos-container"},[t.showSuccess?a("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Producto borrado correctamente")]):t._e(),t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-section"},[a("div",{staticClass:"table-header"},[a("h2",[t._v("Filtros de Búsqueda")]),a("button",{staticClass:"btn-add",on:{click:function(a){t.createModal=!0}}},[a("i",{staticClass:"ti-plus"}),t._v(" Añadir Producto\n        ")])]),a("div",{staticClass:"filters-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"nombreInput"}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.nombre,expression:"filters.nombre"}],staticClass:"form-control",attrs:{id:"nombreInput",type:"text",placeholder:"Buscar por nombre"},domProps:{value:t.filters.nombre},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.filters,"nombre",a.target.value)}}})])]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"categoriaInput"}},[t._v("Categoría")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.categoria,expression:"filters.categoria"}],staticClass:"form-control",attrs:{id:"categoriaInput",type:"text",placeholder:"Buscar por categoría"},domProps:{value:t.filters.categoria},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.filters,"categoria",a.target.value)}}})])]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"precioInput"}},[t._v("Precio máximo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.precioMax,expression:"filters.precioMax"}],staticClass:"form-control",attrs:{id:"precioInput",type:"number",placeholder:"Precio máximo"},domProps:{value:t.filters.precioMax},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.filters,"precioMax",a.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orderSelect"}},[t._v("Ordenar por")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],staticClass:"form-control",attrs:{id:"orderSelect"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.order=a.target.multiple?e:e[0]},t.handleOrderChange]}},[a("option",{attrs:{value:"nombre"}},[t._v("Nombre")]),a("option",{attrs:{value:"precio"}},[t._v("Precio")]),a("option",{attrs:{value:"categoria"}},[t._v("Categoría")]),a("option",{attrs:{value:"stock"}},[t._v("Stock")])])])]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orderDirection"}},[t._v("Dirección")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.orderDirection,expression:"orderDirection"}],staticClass:"form-control",attrs:{id:"orderDirection"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.orderDirection=a.target.multiple?e:e[0]},t.handleOrderChange]}},[a("option",{attrs:{value:"asc"}},[t._v("Ascendente")]),a("option",{attrs:{value:"desc"}},[t._v("Descendente")])])])]),a("div",{staticClass:"col-md-4 mb-3 d-flex align-items-end"},[a("div",{staticClass:"w-100"},[a("button",{staticClass:"btn-search",on:{click:t.fetchData}},[a("i",{staticClass:"ti-search"}),t._v(" Buscar\n              ")]),a("button",{staticClass:"btn-clear",on:{click:t.clearFilters}},[a("i",{staticClass:"ti-eraser"}),t._v(" Limpiar\n              ")])])])])])]),a("div",{staticClass:"table-section"},[t._m(1),a("Listados",{attrs:{items:t.filteredProductos,fields:t.fields,"current-page":t.currentPage},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"tableActions",fn:function({data:e}){return[t.showAsAdmin?a("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(a){return t.editProduct(e.item)}}},[a("i",{staticClass:"ti-pencil"})]):t._e(),t.showAsAdmin?a("button",{staticClass:"btn-delete",attrs:{title:"Borrar"},on:{click:function(a){return t.deleteProduct(e.item)}}},[a("i",{staticClass:"ti-trash"})]):t._e(),a("button",{staticClass:"btn-view",attrs:{title:"Ver"},on:{click:function(a){return t.viewProduct(e.item)}}},[a("i",{staticClass:"ti-eye"})])]}}])})],1),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Editar producto\n      ")]},proxy:!0}]),model:{value:t.modalShow,callback:function(a){t.modalShow=a},expression:"modalShow"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.nombre,expression:"productToEdit.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.productToEdit.nombre},on:{input:function(a){a.target.composing||t.$set(t.productToEdit,"nombre",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Categoría")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.categoria,expression:"productToEdit.categoria"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.productToEdit.categoria},on:{input:function(a){a.target.composing||t.$set(t.productToEdit,"categoria",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Precio (€)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productToEdit.precio,expression:"productToEdit.precio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.productToEdit.precio},on:{input:function(a){a.target.composing||t.$set(t.productToEdit,"precio",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Impuestos (%)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productToEdit.impuesto,expression:"productToEdit.impuesto",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.productToEdit.impuesto},on:{input:function(a){a.target.composing||t.$set(t.productToEdit,"impuesto",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Stock")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productToEdit.stock,expression:"productToEdit.stock",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Solo para productos"},domProps:{value:t.productToEdit.stock},on:{input:function(a){a.target.composing||t.$set(t.productToEdit,"stock",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Coste Interno (€)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productToEdit.costeInterno,expression:"productToEdit.costeInterno",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0",placeholder:"Opcional"},domProps:{value:t.productToEdit.costeInterno},on:{input:function(a){a.target.composing||t.$set(t.productToEdit,"costeInterno",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-12"},[a("label",{attrs:{for:""}},[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.descripcion,expression:"productToEdit.descripcion"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.productToEdit.descripcion},on:{input:function(a){a.target.composing||t.$set(t.productToEdit,"descripcion",a.target.value)}}})]),a("b-button",{staticClass:"btn-search mx-5 mt-4",on:{click:t.saveChanges}},[t._v("Guardar cambios")])],1)]),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Borrar producto\n      ")]},proxy:!0}]),model:{value:t.modalDelete,callback:function(a){t.modalDelete=a},expression:"modalDelete"}},[a("div",{staticClass:"text-center"},[a("p",[t._v("¿Estás seguro de que quieres eliminar el producto "),a("strong",[t._v(t._s(t.productToDelete.nombre))]),t._v("?")]),a("p",{staticClass:"text-danger"},[t._v("Esta acción no se puede deshacer.")]),a("div",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.deleteUser}},[t._v("Eliminar")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(a){t.modalDelete=!1}}},[t._v("Cancelar")])],1)])]),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Añadir producto\n      ")]},proxy:!0}]),model:{value:t.createModal,callback:function(a){t.createModal=a},expression:"createModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createProduct.nombre,expression:"createProduct.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createProduct.nombre},on:{input:function(a){a.target.composing||t.$set(t.createProduct,"nombre",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Categoría")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createProduct.categoria,expression:"createProduct.categoria"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createProduct.categoria},on:{input:function(a){a.target.composing||t.$set(t.createProduct,"categoria",a.target.value)}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Precio (€)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createProduct.precio,expression:"createProduct.precio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.createProduct.precio},on:{input:function(a){a.target.composing||t.$set(t.createProduct,"precio",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Impuestos (%)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createProduct.impuesto,expression:"createProduct.impuesto",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.createProduct.impuesto},on:{input:function(a){a.target.composing||t.$set(t.createProduct,"impuesto",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Stock")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createProduct.stock,expression:"createProduct.stock",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Solo para productos"},domProps:{value:t.createProduct.stock},on:{input:function(a){a.target.composing||t.$set(t.createProduct,"stock",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Coste Interno (€)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createProduct.costeInterno,expression:"createProduct.costeInterno",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0",placeholder:"Opcional"},domProps:{value:t.createProduct.costeInterno},on:{input:function(a){a.target.composing||t.$set(t.createProduct,"costeInterno",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"col-12"},[a("label",{attrs:{for:""}},[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.createProduct.descripcion,expression:"createProduct.descripcion"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.createProduct.descripcion},on:{input:function(a){a.target.composing||t.$set(t.createProduct,"descripcion",a.target.value)}}})])]),a("b-button",{staticClass:"btn-search mt-4",on:{click:t.addProduct}},[t._v("Añadir producto")])],1)],1)],1)},ti=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-briefcase"}),t._v("\n        Listado de Productos\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Gestión y administración de productos y servicios")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"table-header"},[a("h2",[t._v("Listado de Productos")])])}],ai={components:{Listados:wa},setup(){const t=Object(s["ref"])({nombre:"",descripcion:"",precio:0,stock:null,categoria:"",impuesto:21,costeInterno:null}),a=Object(s["ref"])(!1),e=Object(s["ref"])([]),i=Object(s["ref"])({}),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=Object(s["ref"])(!1),r=Object(s["ref"])({}),l=Object(s["ref"])(1),d=JSON.parse(localStorage.getItem("userInform")),u=Object(s["computed"])(()=>!(!d.admin||!0!==d.admin)),p=Object(s["ref"])({nombre:"",categoria:"",precioMax:""}),m=Object(s["ref"])("nombre"),v=Object(s["ref"])("asc"),f=[{key:"nombre",label:"Nombre"},{key:"descripcion",label:"Descripción"},{key:"precio",label:"Precio"},{key:"categoria",label:"Categoría"},{key:"stock",label:"Stock"},{key:"actions",label:""}],C=async()=>{try{const t={};p.value.nombre.trim()&&(t.nombre=p.value.nombre.trim()),p.value.categoria.trim()&&(t.categoria=p.value.categoria.trim()),p.value.precioMax&&(t.precioMax=parseFloat(p.value.precioMax)),console.log("Parámetros enviados a la API:",t);const a=await B["f"].getAll(t);console.log("Respuesta de la API:",a),e.value=a}catch(t){console.error("Error al obtener productos:",t)}},b=()=>{p.value.nombre="",p.value.categoria="",p.value.precioMax="",m.value="nombre",v.value="asc",C()},g=()=>{console.log("Cambio de ordenamiento:",{order:m.value,direction:v.value})},h=Object(s["computed"])(()=>{let t=e.value;return t.sort((t,a)=>{let e=t[m.value],s=a[m.value];if("string"===typeof e&&(e=e.toLowerCase(),s=s.toLowerCase()),"asc"===v.value){if(e<s)return-1;if(e>s)return 1}else{if(e>s)return-1;if(e<s)return 1}return 0}),t}),_=t=>{console.log(t),i.value={...t},o.value=!0},y=t=>{l.value=parseInt(t),C()},w=async()=>{try{await B["f"].create(t.value),t.value={nombre:"",descripcion:"",precio:0,stock:null,categoria:"",impuesto:21,costeInterno:null},a.value=!1,C()}catch(e){console.error("Error al crear producto:",e)}};Object(s["onMounted"])(()=>{C()});const k=async()=>{try{await B["f"].update(i.value._id,i.value),o.value=!1,C()}catch(t){console.error("Error al actualizar producto:",t)}},A=async()=>{try{await B["f"].delete(r.value._id),c.value=!0,n.value=!1,C(),setTimeout(()=>{c.value=!1},3e3)}catch(t){console.error("Error al eliminar el producto:",t)}},x=t=>{console.log("Ver producto:",t)};return{createProduct:t,saveChanges:k,createModal:a,fields:f,filteredProductos:h,editProduct:_,modalShow:o,productToEdit:i,modalDelete:n,productToDelete:r,showSuccess:c,showAsAdmin:u,addProduct:w,deleteUser:A,deleteProduct:t=>{r.value=t,n.value=!0},filters:p,order:m,orderDirection:v,clearFilters:b,handleOrderChange:g,fetchData:C,currentPage:l,handlePageChange:y,viewProduct:x}}},ei=ai,si=(e("5a82"),Object(b["a"])(ei,Xs,ti,!1,null,"3c29b130",null)),ii=si.exports,oi=function(){var t=this,a=t._self._c;return a("div",{staticClass:"listado-Categorias-container"},[t.showSuccess?a("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Categoria borrado correctamente")]):t._e(),t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-section"},[a("div",{staticClass:"table-header"},[a("h2",[t._v("Filtros de Búsqueda")]),a("button",{staticClass:"btn-add",on:{click:function(a){t.createModal=!0}}},[a("i",{staticClass:"ti-plus"}),t._v(" Añadir Categoria\n        ")])]),a("div",{staticClass:"filters-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"nombreInput"}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.nombre,expression:"filters.nombre"}],staticClass:"form-control",attrs:{id:"nombreInput",type:"text",placeholder:"Buscar por nombre"},domProps:{value:t.filters.nombre},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(a){a.target.composing||t.$set(t.filters,"nombre",a.target.value)}}})])]),a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"nombreInput"}},[t._v("Nombre")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.nombre,expression:"filters.nombre"}],staticClass:"form-control",attrs:{id:"nombreInput"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.filters,"nombre",a.target.multiple?e:e[0])},t.handleOrderChange]}},[a("option",{attrs:{value:"asc"}},[t._v("Publicada")]),a("option",{attrs:{value:"desc"}},[t._v("Despublicada")])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"orderDirection"}},[t._v("Dirección")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.orderDirection,expression:"orderDirection"}],staticClass:"form-control",attrs:{id:"orderDirection"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.orderDirection=a.target.multiple?e:e[0]},t.handleOrderChange]}},[a("option",{attrs:{value:"asc"}},[t._v("Ascendente")]),a("option",{attrs:{value:"desc"}},[t._v("Descendente")])])])]),a("div",{staticClass:"col-md-4 mb-3 d-flex align-items-end"},[a("div",{staticClass:"w-100"},[a("button",{staticClass:"btn-search",on:{click:t.fetchData}},[a("i",{staticClass:"ti-search"}),t._v(" Buscar\n              ")]),a("button",{staticClass:"btn-clear",on:{click:t.clearFilters}},[a("i",{staticClass:"ti-eraser"}),t._v(" Limpiar\n              ")])])])])])]),a("div",{staticClass:"table-section"},[t._m(1),a("Listados",{attrs:{items:t.filteredCategorias,fields:t.fields,"current-page":t.currentPage},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"tableActions",fn:function({data:e}){return[t.showAsAdmin?a("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(a){return t.editCategory(e.item)}}},[a("i",{staticClass:"ti-pencil"})]):t._e(),t.showAsAdmin?a("button",{staticClass:"btn-delete",attrs:{title:"Borrar"},on:{click:function(a){return t.deleteCategory(e.item)}}},[a("i",{staticClass:"ti-trash"})]):t._e(),a("button",{staticClass:"btn-view",attrs:{title:"Ver"},on:{click:function(a){return t.viewCategory(e.item)}}},[a("i",{staticClass:"ti-eye"})])]}}])})],1),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Editar Categoria\n      ")]},proxy:!0}]),model:{value:t.modalShow,callback:function(a){t.modalShow=a},expression:"modalShow"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryToEdit.nombre,expression:"categoryToEdit.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.categoryToEdit.nombre},on:{input:function(a){a.target.composing||t.$set(t.categoryToEdit,"nombre",a.target.value)}}})]),a("div",{staticClass:"col-12"},[a("label",{attrs:{for:""}},[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.categoryToEdit.descripcion,expression:"categoryToEdit.descripcion"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.categoryToEdit.descripcion},on:{input:function(a){a.target.composing||t.$set(t.categoryToEdit,"descripcion",a.target.value)}}})]),a("b-button",{staticClass:"btn-search mx-5 mt-4",on:{click:t.saveChanges}},[t._v("Guardar cambios")])],1)]),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Borrar Categoria\n      ")]},proxy:!0}]),model:{value:t.modalDelete,callback:function(a){t.modalDelete=a},expression:"modalDelete"}},[a("div",{staticClass:"text-center"},[a("p",[t._v("¿Estás seguro de que quieres eliminar el Categoria "),a("strong",[t._v(t._s(t.categoryToDelete.nombre))]),t._v("?")]),a("p",{staticClass:"text-danger"},[t._v("Esta acción no se puede deshacer.")]),a("div",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.deleteUser}},[t._v("Eliminar")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(a){t.modalDelete=!1}}},[t._v("Cancelar")])],1)])]),a("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Añadir Categoria\n      ")]},proxy:!0}]),model:{value:t.createModal,callback:function(a){t.createModal=a},expression:"createModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("label",{attrs:{for:""}},[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.createCategory.nombre,expression:"createCategory.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createCategory.nombre},on:{input:function(a){a.target.composing||t.$set(t.createCategory,"nombre",a.target.value)}}})]),a("div",{staticClass:"col-12"},[a("label",{attrs:{for:""}},[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.createCategory.description,expression:"createCategory.description"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.createCategory.description},on:{input:function(a){a.target.composing||t.$set(t.createCategory,"description",a.target.value)}}})])]),a("b-button",{staticClass:"btn-search mt-4",on:{click:t.addCategory}},[t._v("Añadir Categoria")])],1)],1)],1)},ni=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-briefcase"}),t._v("\n        Listado de Categorías\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Gestión y administración de categoríass")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"table-header"},[a("h2",[t._v("Listado de Categorias")])])}],ci={components:{Listados:wa},setup(){const t=Object(s["ref"])({nombre:"",description:"",status:"publish"}),a=Object(s["ref"])(!1),e=Object(s["ref"])([]),i=Object(s["ref"])({}),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=Object(s["ref"])(!1),r=Object(s["ref"])({}),l=Object(s["ref"])(1),d=JSON.parse(localStorage.getItem("userInform")),u=Object(s["computed"])(()=>!(!d.admin||!0!==d.admin)),p=Object(s["ref"])({nombre:"",description:"",status:"publish"}),m=Object(s["ref"])("nombre"),v=Object(s["ref"])("asc"),f=[{key:"nombre",label:"Nombre"},{key:"description",label:"Descripción"},{key:"status",label:"Estado"},{key:"actions",label:""}],C=async()=>{try{const t={};p.value.nombre.trim()&&(t.nombre=p.value.nombre.trim()),p.value.status.trim()&&(t.status=p.value.status.trim()),console.log("Parámetros enviados a la API:",t);const a=await B["a"].getAll(t);console.log("Respuesta de la API:",a),e.value=a}catch(t){console.error("Error al obtener Categorias:",t)}},b=()=>{p.value.nombre="",p.value.status="",m.value="nombre",v.value="asc",C()},g=()=>{console.log("Cambio de ordenamiento:",{order:m.value,direction:v.value})},h=Object(s["computed"])(()=>{let t=e.value;return t.sort((t,a)=>{let e=t[m.value],s=a[m.value];if("string"===typeof e&&(e=e.toLowerCase(),s=s.toLowerCase()),"asc"===v.value){if(e<s)return-1;if(e>s)return 1}else{if(e>s)return-1;if(e<s)return 1}return 0}),t}),_=t=>{console.log(t),i.value={...t},o.value=!0},y=t=>{l.value=parseInt(t),C()},w=async()=>{try{await B["a"].create(t.value),t.value={nombre:"",description:"",status:"publish"},a.value=!1,C()}catch(e){console.error("Error al crear Categoria:",e)}};Object(s["onMounted"])(()=>{C()});const k=async()=>{try{await B["a"].update(i.value._id,i.value),o.value=!1,C()}catch(t){console.error("Error al actualizar Categoria:",t)}},A=async()=>{try{await B["a"].delete(r.value._id),c.value=!0,n.value=!1,C(),setTimeout(()=>{c.value=!1},3e3)}catch(t){console.error("Error al eliminar el Categoria:",t)}},x=t=>{console.log("Ver Categoria:",t)};return{createCategory:t,saveChanges:k,createModal:a,fields:f,filteredCategorias:h,editCategory:_,modalShow:o,categoryToEdit:i,modalDelete:n,categoryToDelete:r,showSuccess:c,showAsAdmin:u,addCategory:w,deleteUser:A,deleteCategory:t=>{r.value=t,n.value=!0},filters:p,order:m,orderDirection:v,clearFilters:b,handleOrderChange:g,fetchData:C,currentPage:l,handlePageChange:y,viewCategory:x}}},ri=ci,li=(e("3488"),Object(b["a"])(ri,oi,ni,!1,null,"357af2d6",null)),di=li.exports,ui=function(){var t=this,a=t._self._c,e=t._self._setupProxy;return a("div",{staticClass:"empleados-usuarios-container"},[t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-section"},[a("div",{staticClass:"table-header"},[a("h2",[t._v("Listado")]),a("button",{staticClass:"btn-add",on:{click:function(t){return e.openForm()}}},[a("i",{staticClass:"ti-plus"}),t._v(" Nuevo\n        ")])]),a("table",{staticClass:"main-table"},[t._m(1),a("tbody",[t._l(e.items,(function(s,i){return a("tr",{key:s.id},[a("td",[t._v(t._s(s.nombre))]),a("td",[t._v(t._s(s.rol))]),a("td",[t._v(t._s(s.email))]),a("td",[t._v(t._s(s.telefono))]),a("td",[t._v(t._s(s.servicios.join(", ")))]),a("td",[t._v(t._s(s.horario))]),a("td",[t._v(t._s(s.comision?s.comision+"%":"-"))]),a("td",[t._v(t._s(s.permisos.join(", ")))]),a("td",[a("button",{staticClass:"btn-edit",on:{click:function(t){return e.openForm(s)}}},[a("i",{staticClass:"ti-pencil"})]),a("button",{staticClass:"btn-delete",on:{click:function(t){return e.deleteItem(i)}}},[a("i",{staticClass:"ti-trash"})])])])})),0===e.items.length?a("tr",[a("td",{staticClass:"no-data",attrs:{colspan:"8"}},[t._v("No hay empleados/usuarios registrados")])]):t._e()],2)])]),e.showForm?a("div",{staticClass:"modal-form-overlay"},[a("div",{staticClass:"modal-form"},[a("h2",[t._v(t._s(e.form.id?"Editar":"Nuevo")+" Empleado/Usuario")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.saveItem.apply(null,arguments)}}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.nombre,expression:"form.nombre"}],attrs:{required:""},domProps:{value:e.form.nombre},on:{input:function(a){a.target.composing||t.$set(e.form,"nombre",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Rol")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.rol,expression:"form.rol"}],attrs:{required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e.form,"rol",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:""}},[t._v("Selecciona un rol")]),a("option",[t._v("Administrador")]),a("option",[t._v("Recepcionista")]),a("option",[t._v("Técnico")]),a("option",[t._v("Especialista")]),a("option",[t._v("Comercial")])])])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],attrs:{type:"email",required:""},domProps:{value:e.form.email},on:{input:function(a){a.target.composing||t.$set(e.form,"email",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Teléfono")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.telefono,expression:"form.telefono"}],attrs:{type:"tel",required:""},domProps:{value:e.form.telefono},on:{input:function(a){a.target.composing||t.$set(e.form,"telefono",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Comisión (%)")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.form.comision,expression:"form.comision",modifiers:{number:!0}}],attrs:{type:"number",min:"0",step:"0.01",placeholder:"Opcional"},domProps:{value:e.form.comision},on:{input:function(a){a.target.composing||t.$set(e.form,"comision",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Servicios que puede realizar")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.servicioInput,expression:"servicioInput"}],attrs:{placeholder:"Añadir y pulsa Enter"},domProps:{value:e.servicioInput},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:(a.preventDefault(),e.addServicio.apply(null,arguments))},input:function(t){t.target.composing||(e.servicioInput=t.target.value)}}}),a("div",{staticClass:"chips"},t._l(e.form.servicios,(function(s,i){return a("span",{key:i,staticClass:"chip"},[t._v("\n                  "+t._s(s)+" "),a("i",{staticClass:"ti-close",on:{click:function(t){return e.removeServicio(i)}}})])})),0)])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Horario laboral detallado")]),a("div",{staticClass:"horario-detallado"},t._l(e.form.horarioDetallado,(function(e,s){return a("div",{key:s,staticClass:"dia-horario"},[a("div",{staticClass:"dia-header"},[a("label",{staticClass:"dia-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.activo,expression:"dia.activo"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.activo)?t._i(e.activo,null)>-1:e.activo},on:{change:function(a){var s=e.activo,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,c=t._i(s,n);i.checked?c<0&&t.$set(e,"activo",s.concat([n])):c>-1&&t.$set(e,"activo",s.slice(0,c).concat(s.slice(c+1)))}else t.$set(e,"activo",o)}}}),t._v("\n                      "+t._s(e.nombre)+"\n                    ")])]),e.activo?a("div",{staticClass:"horarios-dia"},[a("div",{staticClass:"horario-input"},[a("span",[t._v("Inicio:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.inicio,expression:"dia.inicio"}],attrs:{type:"time"},domProps:{value:e.inicio},on:{input:function(a){a.target.composing||t.$set(e,"inicio",a.target.value)}}})]),a("div",{staticClass:"horario-input"},[a("span",[t._v("Fin:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.fin,expression:"dia.fin"}],attrs:{type:"time"},domProps:{value:e.fin},on:{input:function(a){a.target.composing||t.$set(e,"fin",a.target.value)}}})]),a("div",{staticClass:"horario-input"},[a("span",[t._v("Descanso:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.descansoInicio,expression:"dia.descansoInicio"}],attrs:{type:"time",placeholder:"Inicio"},domProps:{value:e.descansoInicio},on:{input:function(a){a.target.composing||t.$set(e,"descansoInicio",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.descansoFin,expression:"dia.descansoFin"}],attrs:{type:"time",placeholder:"Fin"},domProps:{value:e.descansoFin},on:{input:function(a){a.target.composing||t.$set(e,"descansoFin",a.target.value)}}})])]):t._e()])})),0)])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Permisos/Accesos")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.permisoInput,expression:"permisoInput"}],attrs:{placeholder:"Añadir y pulsa Enter"},domProps:{value:e.permisoInput},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:(a.preventDefault(),e.addPermiso.apply(null,arguments))},input:function(t){t.target.composing||(e.permisoInput=t.target.value)}}}),a("div",{staticClass:"chips"},t._l(e.form.permisos,(function(s,i){return a("span",{key:i,staticClass:"chip"},[t._v("\n                  "+t._s(s)+" "),a("i",{staticClass:"ti-close",on:{click:function(t){return e.removePermiso(i)}}})])})),0)])]),a("div",{staticClass:"form-actions"},[a("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:e.closeForm}},[t._v("Cancelar")]),a("button",{staticClass:"btn-save",attrs:{type:"submit"}},[t._v("Guardar")])])])])]):t._e()])])},pi=[function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-user"}),t._v("\n        Empleados / Usuarios\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Gestión de personal, roles y accesos al sistema")])])])},function(){var t=this,a=t._self._c;t._self._setupProxy;return a("thead",[a("tr",[a("th",[t._v("Nombre")]),a("th",[t._v("Rol")]),a("th",[t._v("email")]),a("th",[t._v("Teléfono")]),a("th",[t._v("Servicios")]),a("th",[t._v("Horario")]),a("th",[t._v("Comisión")]),a("th",[t._v("Permisos")]),a("th",[t._v("Acciones")])])])}],mi={__name:"EmpleadosUsuarios",setup(t){const a=Object(s["ref"])([]),e=Object(s["ref"])(!1),i=Object(s["ref"])({nombre:"",rol:"",email:"",telefono:"",servicios:[],horario:"",comision:null,permisos:[],zonaHoraria:"Europe/Madrid",horarioDetallado:[{nombre:"Lunes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Martes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Miércoles",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Jueves",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Viernes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Sábado",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""},{nombre:"Domingo",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""}]}),o=Object(s["ref"])(""),n=Object(s["ref"])("");async function c(){try{const t=await B["empleadosService"].getAll();a.value=t}catch(t){a.value=[]}}function r(t=null){i.value=t?{...t,servicios:[...t.servicios],permisos:[...t.permisos],horarioDetallado:t.horarioDetallado?[...t.horarioDetallado]:[{nombre:"Lunes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Martes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Miércoles",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Jueves",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Viernes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Sábado",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""},{nombre:"Domingo",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""}]}:{id:null,nombre:"",rol:"",email:"",telefono:"",servicios:[],horario:"",comision:null,permisos:[],zonaHoraria:"Europe/Madrid",horarioDetallado:[{nombre:"Lunes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Martes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Miércoles",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Jueves",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Viernes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Sábado",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""},{nombre:"Domingo",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""}]},o.value="",n.value="",e.value=!0}function l(){e.value=!1}async function d(){i.value.id?await B["empleadosService"].update(i.value.id,{...i.value}):await B["empleadosService"].create({...i.value}),e.value=!1,await c()}async function u(t){const e=a.value[t];e&&confirm("¿Seguro que quieres eliminar este registro?")&&(await B["empleadosService"].delete(e.id),await c())}function p(){o.value&&!i.value.servicios.includes(o.value)&&(i.value.servicios.push(o.value),o.value="")}function m(t){i.value.servicios.splice(t,1)}function v(){n.value&&!i.value.permisos.includes(n.value)&&(i.value.permisos.push(n.value),n.value="")}function f(t){i.value.permisos.splice(t,1)}return Object(s["onMounted"])(c),{__sfc:!0,items:a,showForm:e,form:i,servicioInput:o,permisoInput:n,fetchEmpleados:c,openForm:r,closeForm:l,saveItem:d,deleteItem:u,addServicio:p,removeServicio:m,addPermiso:v,removePermiso:f}}},vi=mi,fi=(e("e7b5"),Object(b["a"])(vi,ui,pi,!1,null,"f07fce6a",null)),Ci=fi.exports,bi=function(){var t=this,a=t._self._c,e=t._self._setupProxy;return a("div",{staticClass:"facturacion-container"},[e.showSuccess?a("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Factura guardada correctamente")]):t._e(),t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-section"},[a("div",{staticClass:"table-header"},[a("h2",[t._v("Listado de Facturas")]),a("button",{staticClass:"btn-add",on:{click:function(t){return e.openForm()}}},[a("i",{staticClass:"ti-plus"}),t._v(" Nueva Factura\n        ")])]),a("table",{staticClass:"main-table"},[t._m(1),a("tbody",[t._l(e.items,(function(s,i){return a("tr",{key:s.id},[a("td",[a("strong",[t._v(t._s(s.numeroFactura))])]),a("td",[t._v(t._s(e.formatDate(s.fechaEmision)))]),a("td",[t._v(t._s(s.cliente))]),a("td",[a("div",{staticClass:"servicios-resumen"},[t._l(s.servicios.slice(0,2),(function(e){return a("span",{key:e.id,staticClass:"servicio-chip"},[t._v("\n                  "+t._s(e.nombre)+"\n                ")])})),s.servicios.length>2?a("span",{staticClass:"servicio-more"},[t._v("\n                  +"+t._s(s.servicios.length-2)+" más\n                ")]):t._e()],2)]),a("td",[a("div",{staticClass:"totales"},[a("div",{staticClass:"total-bruto"},[t._v(t._s(e.formatCurrency(s.totalBruto)))]),a("div",{staticClass:"impuestos"},[t._v("+"+t._s(e.formatCurrency(s.impuestos)))]),a("div",{staticClass:"total-neto"},[a("strong",[t._v(t._s(e.formatCurrency(s.totalNeto)))])])])]),a("td",[a("span",{class:"estado-badge estado-"+s.estado},[t._v("\n                "+t._s(s.estado)+"\n              ")])]),a("td",[t._v(t._s(e.formatDate(s.vencimiento)))]),a("td",[a("div",{staticClass:"pagos-info"},[a("div",{staticClass:"pagado"},[t._v(t._s(e.formatCurrency(s.pagado)))]),a("div",{staticClass:"pendiente"},[t._v(t._s(e.formatCurrency(s.pendiente)))]),s.cobrosVinculados.length>0?a("div",{staticClass:"cobros-count"},[a("small",[t._v(t._s(s.cobrosVinculados.length)+" cobro(s)")])]):t._e()])]),a("td",[a("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(t){return e.openForm(s)}}},[a("i",{staticClass:"ti-pencil"})]),a("button",{staticClass:"btn-cobros",attrs:{title:"Ver Cobros"},on:{click:function(t){return e.verCobros(s)}}},[a("i",{staticClass:"ti-money"})]),a("button",{staticClass:"btn-pdf",attrs:{title:"Generar PDF"},on:{click:function(t){return e.generarPDF(s)}}},[a("i",{staticClass:"ti-file"})]),a("button",{staticClass:"btn-delete",attrs:{title:"Eliminar"},on:{click:function(t){return e.deleteItem(i)}}},[a("i",{staticClass:"ti-trash"})])])])})),0===e.items.length?a("tr",[a("td",{staticClass:"no-data",attrs:{colspan:"9"}},[t._v("No hay facturas registradas")])]):t._e()],2)])]),e.showForm?a("div",{staticClass:"modal-form-overlay"},[a("div",{staticClass:"modal-form"},[a("h2",[t._v(t._s(e.form._id?"Editar":"Nueva")+" Factura")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.saveItem.apply(null,arguments)}}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Número de Factura")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.numeroFactura,expression:"form.numeroFactura"}],attrs:{required:""},domProps:{value:e.form.numeroFactura},on:{input:function(a){a.target.composing||t.$set(e.form,"numeroFactura",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Fecha de Emisión")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fechaEmision,expression:"form.fechaEmision"}],attrs:{type:"date",required:""},domProps:{value:e.form.fechaEmision},on:{input:function(a){a.target.composing||t.$set(e.form,"fechaEmision",a.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Cliente")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.cliente,expression:"form.cliente"}],attrs:{required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e.form,"cliente",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:""}},[t._v("Selecciona un cliente")]),t._l(e.clientes,(function(e){return a("option",{key:e._id,domProps:{value:`${e.nombre} ${e.apellidos}`}},[t._v("\n                  "+t._s(e.nombre)+" "+t._s(e.apellidos)+"\n                ")])}))],2)]),a("div",{staticClass:"form-group"},[a("label",[t._v("Estado")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.estado,expression:"form.estado"}],attrs:{required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e.form,"estado",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"borrador"}},[t._v("Borrador")]),a("option",{attrs:{value:"emitida"}},[t._v("Emitida")]),a("option",{attrs:{value:"anulada"}},[t._v("Anulada")])])])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Fecha de Vencimiento")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vencimiento,expression:"form.vencimiento"}],attrs:{type:"date",required:""},domProps:{value:e.form.vencimiento},on:{input:function(a){a.target.composing||t.$set(e.form,"vencimiento",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Servicios/Productos")]),a("button",{staticClass:"btn-add-service",attrs:{type:"button"},on:{click:e.addServicio}},[a("i",{staticClass:"ti-plus"}),t._v(" Agregar Servicio\n              ")])])]),e.form.servicios.length>0?a("div",{staticClass:"servicios-list"},[a("h4",[t._v("Servicios Incluidos")]),t._l(e.form.servicios,(function(s,i){return a("div",{key:i,staticClass:"servicio-item"},[a("div",{staticClass:"servicio-header"},[a("span",{staticClass:"servicio-nombre"},[t._v(t._s(s.nombre))]),a("button",{staticClass:"btn-remove",attrs:{type:"button"},on:{click:function(t){return e.removeServicio(i)}}},[a("i",{staticClass:"ti-close"})])]),a("div",{staticClass:"servicio-details"},[a("div",{staticClass:"servicio-cantidad"},[a("label",[t._v("Cantidad:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:s.cantidad,expression:"servicio.cantidad",modifiers:{number:!0}}],attrs:{type:"number",min:"1"},domProps:{value:s.cantidad},on:{input:function(a){a.target.composing||t.$set(s,"cantidad",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"servicio-precio"},[a("label",[t._v("Precio Unitario:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:s.precioUnitario,expression:"servicio.precioUnitario",modifiers:{number:!0}}],attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:s.precioUnitario},on:{input:function(a){a.target.composing||t.$set(s,"precioUnitario",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"servicio-total"},[a("label",[t._v("Total:")]),a("span",[t._v(t._s(e.formatCurrency(s.cantidad*s.precioUnitario)))])])])])}))],2):t._e(),a("div",{staticClass:"totales-section"},[a("div",{staticClass:"total-item"},[a("span",[t._v("Total Bruto:")]),a("span",[t._v(t._s(e.formatCurrency(e.totalBruto)))])]),a("div",{staticClass:"total-item"},[a("span",[t._v("Impuestos (21%):")]),a("span",[t._v(t._s(e.formatCurrency(e.impuestos)))])]),a("div",{staticClass:"total-item total-neto"},[a("span",[t._v("Total Neto:")]),a("span",[t._v(t._s(e.formatCurrency(e.totalNeto)))])])]),a("div",{staticClass:"form-actions"},[a("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:e.closeForm}},[t._v("Cancelar")]),a("button",{staticClass:"btn-save",attrs:{type:"submit"}},[t._v("Guardar Factura")])])])])]):t._e(),e.showServicioModal?a("div",{staticClass:"modal-form-overlay"},[a("div",{staticClass:"modal-form servicio-modal"},[a("h3",[t._v("Agregar Servicio/Producto")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.confirmAddServicio.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Servicio/Producto")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.nuevoServicio.nombre,expression:"nuevoServicio.nombre"}],attrs:{required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e.nuevoServicio,"nombre",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:""}},[t._v("Selecciona un servicio")]),t._l(e.serviciosDisponibles,(function(s){return a("option",{key:s._id,domProps:{value:s.nombre}},[t._v("\n                "+t._s(s.nombre)+" - "+t._s(e.formatCurrency(s.precio))+"\n              ")])}))],2)]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Cantidad")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.nuevoServicio.cantidad,expression:"nuevoServicio.cantidad",modifiers:{number:!0}}],attrs:{type:"number",min:"1",value:"1",required:""},domProps:{value:e.nuevoServicio.cantidad},on:{input:function(a){a.target.composing||t.$set(e.nuevoServicio,"cantidad",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Precio Unitario")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.nuevoServicio.precioUnitario,expression:"nuevoServicio.precioUnitario",modifiers:{number:!0}}],attrs:{type:"number",step:"0.01",min:"0",required:""},domProps:{value:e.nuevoServicio.precioUnitario},on:{input:function(a){a.target.composing||t.$set(e.nuevoServicio,"precioUnitario",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),a("div",{staticClass:"form-actions"},[a("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:e.closeServicioModal}},[t._v("Cancelar")]),a("button",{staticClass:"btn-save",attrs:{type:"submit"}},[t._v("Agregar")])])])])]):t._e(),e.showCobrosModal?a("div",{staticClass:"modal-form-overlay"},[a("div",{staticClass:"modal-form"},[a("h2",[t._v("Cobros de Factura "+t._s(e.selectedFactura&&e.selectedFactura.numeroFactura))]),a("div",{staticClass:"cobros-content"},[a("div",{staticClass:"factura-info"},[a("p",[a("strong",[t._v("Cliente:")]),t._v(" "+t._s(e.selectedFactura&&e.selectedFactura.cliente))]),a("p",[a("strong",[t._v("Total Factura:")]),t._v(" "+t._s(e.selectedFactura&&e.formatCurrency(e.selectedFactura.totalNeto)))]),a("p",[a("strong",[t._v("Estado:")]),a("span",{class:"estado-badge estado-"+(e.selectedFactura&&e.selectedFactura.estado)},[t._v("\n                "+t._s(e.selectedFactura&&e.selectedFactura.estado)+"\n              ")])])]),e.cobrosFactura.length>0?a("div",{staticClass:"cobros-list"},[a("h3",[t._v("Cobros Realizados")]),t._l(e.cobrosFactura,(function(s){return a("div",{key:s.id,staticClass:"cobro-item"},[a("div",{staticClass:"cobro-header"},[a("span",{staticClass:"cobro-id"},[t._v("#"+t._s(s.id))]),a("span",{class:"estado-badge estado-"+s.estado},[t._v("\n                  "+t._s(s.estado)+"\n                ")])]),a("div",{staticClass:"cobro-details"},[a("div",{staticClass:"cobro-info"},[a("span",[a("strong",[t._v("Fecha:")]),t._v(" "+t._s(e.formatDate(s.fechaPago)))]),a("span",[a("strong",[t._v("Método:")]),t._v(" "+t._s(s.metodo))]),a("span",[a("strong",[t._v("Monto:")]),t._v(" "+t._s(e.formatCurrency(s.monto)))])]),s.referencia?a("div",{staticClass:"cobro-referencia"},[a("strong",[t._v("Referencia:")]),t._v(" "+t._s(s.referencia)+"\n                ")]):t._e()])])})),a("div",{staticClass:"cobros-resumen"},[a("div",{staticClass:"resumen-item"},[a("span",[t._v("Total Cobrado:")]),a("span",{staticClass:"total-cobrado"},[t._v(t._s(e.formatCurrency(e.totalCobrado)))])]),a("div",{staticClass:"resumen-item"},[a("span",[t._v("Pendiente:")]),a("span",{staticClass:"pendiente"},[t._v(t._s(e.formatCurrency(e.selectedFactura&&e.selectedFactura.totalNeto-e.totalCobrado)))])])])],2):a("div",{staticClass:"no-cobros"},[a("i",{staticClass:"ti-money",staticStyle:{"font-size":"48px",color:"#ccc","margin-bottom":"15px"}}),a("p",[t._v("No hay cobros registrados para esta factura")])])]),a("div",{staticClass:"form-actions"},[a("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:e.closeCobrosModal}},[t._v("Cerrar")]),a("button",{staticClass:"btn-add-cobro",attrs:{type:"button"},on:{click:e.irACobros}},[a("i",{staticClass:"ti-plus"}),t._v(" Nuevo Cobro\n          ")])])])]):t._e()])],1)},gi=[function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-receipt"}),t._v("\n        Facturación\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Gestión de facturas, estados y documentos")])])])},function(){var t=this,a=t._self._c;t._self._setupProxy;return a("thead",[a("tr",[a("th",[t._v("Nº Factura")]),a("th",[t._v("Fecha")]),a("th",[t._v("Cliente")]),a("th",[t._v("Servicios")]),a("th",[t._v("Total Neto")]),a("th",[t._v("Estado")]),a("th",[t._v("Vencimiento")]),a("th",[t._v("Pagos")]),a("th",[t._v("Acciones")])])])}],hi={__name:"Facturacion",setup(t){const a=Object(s["ref"])([]),e=Object(s["ref"])([]),i=Object(s["ref"])([]),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=Object(s["ref"])(!1),r=Object(s["ref"])(null),l=Object(s["ref"])([]),d=Object(s["ref"])(!1),u=Object(s["ref"])({numeroFactura:"",fechaEmision:"",cliente:"",servicios:[],estado:"borrador",vencimiento:""}),p=Object(s["ref"])({nombre:"",cantidad:1,precioUnitario:0}),m=Object(s["computed"])(()=>u.value.servicios.reduce((t,a)=>t+a.cantidad*a.precioUnitario,0)),v=Object(s["computed"])(()=>.21*m.value),f=Object(s["computed"])(()=>m.value+v.value),C=Object(s["computed"])(()=>l.value.reduce((t,a)=>t+a.monto,0)),b=async()=>{try{console.log("Cargando facturas desde la API...");const t=await Pa["c"].getAll();console.log("Respuesta de la API:",t),a.value=t}catch(t){console.error("Error al obtener facturas:",t)}},g=async()=>{try{console.log("Cargando clientes desde la API...");const t=await Pa["a"].getAll();console.log("Clientes cargados:",t),e.value=t}catch(t){console.error("Error al obtener clientes:",t)}},h=async()=>{try{console.log("Cargando servicios desde la API...");const t=await Pa["e"].getAll();console.log("Servicios cargados:",t),i.value=t}catch(t){console.error("Error al obtener servicios:",t)}};function _(t){return new Date(t).toLocaleDateString("es-ES")}function y(t){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(t)}function w(t=null){u.value=t?{...t,servicios:[...t.servicios]}:{numeroFactura:`FAC-${(new Date).getFullYear()}-${String(a.value.length+1).padStart(3,"0")}`,fechaEmision:(new Date).toISOString().split("T")[0],cliente:"",servicios:[],estado:"borrador",vencimiento:""},o.value=!0}function k(){o.value=!1}async function A(){try{const t={...u.value,totalBruto:m.value,impuestos:v.value,totalNeto:f.value,fechaCreacion:(new Date).getTime()};u.value._id?(console.log("Actualizando factura:",t),await Pa["c"].update(u.value._id,t),d.value=!0,setTimeout(()=>{d.value=!1},3e3)):(console.log("Creando nueva factura:",t),await Pa["c"].create(t),d.value=!0,setTimeout(()=>{d.value=!1},3e3)),o.value=!1,await b()}catch(t){console.error("Error al guardar factura:",t)}}async function x(t){if(confirm("¿Seguro que quieres eliminar esta factura?"))try{const e=a.value[t];await Pa["c"].delete(e._id),d.value=!0,setTimeout(()=>{d.value=!1},3e3),await b()}catch(e){console.error("Error al eliminar factura:",e)}}function S(){p.value={nombre:"",cantidad:1,precioUnitario:0},n.value=!0}function O(){n.value=!1}function D(){const t=i.value.find(t=>t.nombre===p.value.nombre);t&&u.value.servicios.push({id:t._id,nombre:p.value.nombre,cantidad:p.value.cantidad,precioUnitario:p.value.precioUnitario||t.precio}),O()}function P(t){u.value.servicios.splice(t,1)}function j(t){alert("Generando PDF para factura "+t.numeroFactura)}function E(t){const a=[{id:1,fechaPago:"2024-01-15",metodo:"tarjeta",monto:453.75,referencia:"FAC-2024-001",estado:"completado",facturas:["FAC-2024-001"]},{id:2,fechaPago:"2024-01-20",metodo:"transferencia",monto:150,referencia:"TRF-001",estado:"completado",facturas:["FAC-2024-002"]}];return a.filter(a=>a.facturas.includes(t.numeroFactura))}function N(t){r.value=t,l.value=E(t),c.value=!0}function T(){c.value=!1,r.value=null,l.value=[]}function I(){T(),window.location.hash="#/cobros-pagos"}return Object(s["onMounted"])(async()=>{await b(),await g(),await h()}),{__sfc:!0,items:a,clientes:e,serviciosDisponibles:i,showForm:o,showServicioModal:n,showCobrosModal:c,selectedFactura:r,cobrosFactura:l,showSuccess:d,form:u,nuevoServicio:p,totalBruto:m,impuestos:v,totalNeto:f,totalCobrado:C,fetchData:b,fetchClientes:g,fetchServicios:h,formatDate:_,formatCurrency:y,openForm:w,closeForm:k,saveItem:A,deleteItem:x,addServicio:S,closeServicioModal:O,confirmAddServicio:D,removeServicio:P,generarPDF:j,obtenerCobrosFactura:E,verCobros:N,closeCobrosModal:T,irACobros:I}}},_i=hi,yi=(e("6972"),Object(b["a"])(_i,bi,gi,!1,null,"4945bc12",null)),wi=yi.exports,ki=function(){var t=this,a=t._self._c,e=t._self._setupProxy;return a("div",{staticClass:"cobros-pagos-container"},[t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-section"},[a("div",{staticClass:"table-header"},[a("h2",[t._v("Transacciones")]),a("button",{staticClass:"btn-add",on:{click:function(t){return e.openForm()}}},[a("i",{staticClass:"ti-plus"}),t._v(" Nuevo Pago\n        ")])]),a("table",{staticClass:"main-table"},[t._m(1),a("tbody",[t._l(e.items,(function(s,i){return a("tr",{key:s.id},[a("td",[a("strong",[t._v("#"+t._s(s.id))])]),a("td",[t._v(t._s(s.cliente))]),a("td",[t._v(t._s(e.formatDate(s.fechaPago)))]),a("td",[a("span",{class:"metodo-badge metodo-"+s.metodo},[t._v("\n                "+t._s(s.metodo)+"\n              ")])]),a("td",[a("strong",[t._v(t._s(e.formatCurrency(s.monto)))])]),a("td",[t._v(t._s(s.referencia))]),a("td",[a("span",{class:"estado-badge estado-"+s.estado},[t._v("\n                "+t._s(s.estado)+"\n              ")])]),a("td",[a("div",{staticClass:"facturas-vinculadas"},t._l(s.facturas,(function(e){return a("span",{key:e,staticClass:"factura-chip"},[t._v("\n                  "+t._s(e)+"\n                ")])})),0)]),a("td",[a("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(t){return e.openForm(s)}}},[a("i",{staticClass:"ti-pencil"})]),a("button",{staticClass:"btn-link",attrs:{title:"Vincular Facturas"},on:{click:function(t){return e.vincularFacturas(s)}}},[a("i",{staticClass:"ti-link"})]),a("button",{staticClass:"btn-delete",attrs:{title:"Eliminar"},on:{click:function(t){return e.deleteItem(i)}}},[a("i",{staticClass:"ti-trash"})])])])})),0===e.items.length?a("tr",[a("td",{staticClass:"no-data",attrs:{colspan:"9"}},[t._v("No hay transacciones registradas")])]):t._e()],2)])]),e.showForm?a("div",{staticClass:"modal-form-overlay"},[a("div",{staticClass:"modal-form"},[a("h2",[t._v(t._s(e.form.id?"Editar":"Nuevo")+" Pago")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.saveItem.apply(null,arguments)}}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Cliente")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.cliente,expression:"form.cliente"}],attrs:{required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e.form,"cliente",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:""}},[t._v("Selecciona un cliente")]),t._l(e.clientes,(function(e){return a("option",{key:e.id,domProps:{value:e.nombre}},[t._v("\n                  "+t._s(e.nombre)+"\n                ")])}))],2)]),a("div",{staticClass:"form-group"},[a("label",[t._v("Fecha de Pago")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.fechaPago,expression:"form.fechaPago"}],attrs:{type:"date",required:""},domProps:{value:e.form.fechaPago},on:{input:function(a){a.target.composing||t.$set(e.form,"fechaPago",a.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Método de Pago")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.metodo,expression:"form.metodo"}],attrs:{required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e.form,"metodo",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:""}},[t._v("Selecciona método")]),a("option",{attrs:{value:"efectivo"}},[t._v("Efectivo")]),a("option",{attrs:{value:"tarjeta"}},[t._v("Tarjeta")]),a("option",{attrs:{value:"transferencia"}},[t._v("Transferencia")]),a("option",{attrs:{value:"paypal"}},[t._v("PayPal")]),a("option",{attrs:{value:"stripe"}},[t._v("Stripe")]),a("option",{attrs:{value:"cheque"}},[t._v("Cheque")])])]),a("div",{staticClass:"form-group"},[a("label",[t._v("Monto")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.form.monto,expression:"form.monto",modifiers:{number:!0}}],attrs:{type:"number",step:"0.01",min:"0",required:""},domProps:{value:e.form.monto},on:{input:function(a){a.target.composing||t.$set(e.form,"monto",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Referencia")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.referencia,expression:"form.referencia"}],attrs:{placeholder:"Número de factura, comprobante, etc."},domProps:{value:e.form.referencia},on:{input:function(a){a.target.composing||t.$set(e.form,"referencia",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Estado")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.form.estado,expression:"form.estado"}],attrs:{required:""},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e.form,"estado",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"completado"}},[t._v("Completado")]),a("option",{attrs:{value:"pendiente"}},[t._v("Pendiente")]),a("option",{attrs:{value:"rechazado"}},[t._v("Rechazado")]),a("option",{attrs:{value:"procesando"}},[t._v("Procesando")])])])]),a("div",{staticClass:"form-section"},[a("h3",[t._v("Facturas Vinculadas")]),a("div",{staticClass:"facturas-disponibles"},t._l(e.facturasDisponibles,(function(s){return a("div",{key:s.id,staticClass:"factura-item"},[a("label",{staticClass:"factura-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.facturas,expression:"form.facturas"}],attrs:{type:"checkbox"},domProps:{value:s.numeroFactura,checked:Array.isArray(e.form.facturas)?t._i(e.form.facturas,s.numeroFactura)>-1:e.form.facturas},on:{change:function(a){var i=e.form.facturas,o=a.target,n=!!o.checked;if(Array.isArray(i)){var c=s.numeroFactura,r=t._i(i,c);o.checked?r<0&&t.$set(e.form,"facturas",i.concat([c])):r>-1&&t.$set(e.form,"facturas",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(e.form,"facturas",n)}}}),a("span",{staticClass:"factura-info"},[a("strong",[t._v(t._s(s.numeroFactura))]),t._v(" - \n                    "+t._s(s.cliente)+" - \n                    "+t._s(e.formatCurrency(s.pendiente))+" pendiente\n                  ")])])])})),0),e.form.facturas.length>0?a("div",{staticClass:"total-pendiente"},[a("strong",[t._v("Total pendiente seleccionado: "+t._s(e.formatCurrency(e.totalPendienteSeleccionado)))]),a("div",{staticClass:"validacion-monto",class:{error:e.form.monto>e.totalPendienteSeleccionado}},[e.form.monto>e.totalPendienteSeleccionado?a("small",[t._v("\n                  ⚠️ El monto excede el total pendiente\n                ")]):e.form.monto>0?a("small",[t._v("\n                  ✅ Monto válido\n                ")]):t._e()])]):t._e()]),a("div",{staticClass:"form-actions"},[a("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:e.closeForm}},[t._v("Cancelar")]),a("button",{staticClass:"btn-save",attrs:{type:"submit"}},[t._v("Guardar Pago")])])])])]):t._e(),e.showVincularModal?a("div",{staticClass:"modal-form-overlay"},[a("div",{staticClass:"modal-form"},[a("h2",[t._v("Vincular Facturas")]),a("div",{staticClass:"vincular-content"},[a("p",[a("strong",[t._v("Pago:")]),t._v(" #"+t._s(e.selectedItem&&e.selectedItem.id)+" - "+t._s(e.formatCurrency(e.selectedItem&&e.selectedItem.monto)))]),a("p",[a("strong",[t._v("Cliente:")]),t._v(" "+t._s(e.selectedItem&&e.selectedItem.cliente))]),a("div",{staticClass:"facturas-seleccion"},[a("h4",[t._v("Seleccionar Facturas")]),t._l(e.facturasDisponibles,(function(s){return a("div",{key:s.id,staticClass:"factura-seleccion-item"},[a("label",{staticClass:"factura-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.facturasSeleccionadas,expression:"facturasSeleccionadas"}],attrs:{type:"checkbox"},domProps:{value:s.numeroFactura,checked:Array.isArray(e.facturasSeleccionadas)?t._i(e.facturasSeleccionadas,s.numeroFactura)>-1:e.facturasSeleccionadas},on:{change:function(a){var i=e.facturasSeleccionadas,o=a.target,n=!!o.checked;if(Array.isArray(i)){var c=s.numeroFactura,r=t._i(i,c);o.checked?r<0&&(e.facturasSeleccionadas=i.concat([c])):r>-1&&(e.facturasSeleccionadas=i.slice(0,r).concat(i.slice(r+1)))}else e.facturasSeleccionadas=n}}}),a("span",{staticClass:"factura-detalle"},[a("strong",[t._v(t._s(s.numeroFactura))]),a("br"),a("small",[t._v(t._s(s.cliente)+" - "+t._s(e.formatCurrency(s.pendiente))+" pendiente")])])])])}))],2),a("div",{staticClass:"total-vinculacion"},[a("strong",[t._v("Total a aplicar: "+t._s(e.formatCurrency(e.totalSeleccionado)))])])]),a("div",{staticClass:"form-actions"},[a("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:e.closeVincularModal}},[t._v("Cancelar")]),a("button",{staticClass:"btn-save",attrs:{type:"button"},on:{click:e.confirmarVinculacion}},[t._v("Vincular Facturas")])])])]):t._e()])])},Ai=[function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-money"}),t._v("\n        Cobros / Pagos\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Gestión de transacciones y métodos de pago")])])])},function(){var t=this,a=t._self._c;t._self._setupProxy;return a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Cliente")]),a("th",[t._v("Fecha")]),a("th",[t._v("Método")]),a("th",[t._v("Monto")]),a("th",[t._v("Referencia")]),a("th",[t._v("Estado")]),a("th",[t._v("Facturas")]),a("th",[t._v("Acciones")])])])}],xi={__name:"CobrosPagos",setup(t){const a=Object(s["ref"])([{id:1,cliente:"Ana López",fechaPago:"2024-01-15",metodo:"tarjeta",monto:453.75,referencia:"FAC-2024-001",estado:"completado",facturas:["FAC-2024-001"]},{id:2,cliente:"Carlos Ruiz",fechaPago:"2024-01-20",metodo:"transferencia",monto:150,referencia:"TRF-001",estado:"completado",facturas:["FAC-2024-002"]}]),e=Object(s["ref"])([{id:1,nombre:"Ana López"},{id:2,nombre:"Carlos Ruiz"},{id:3,nombre:"María García"}]),i=Object(s["ref"])([{id:1,numeroFactura:"FAC-2024-001",cliente:"Ana López",pendiente:0},{id:2,numeroFactura:"FAC-2024-002",cliente:"Carlos Ruiz",pendiente:242},{id:3,numeroFactura:"FAC-2024-003",cliente:"María García",pendiente:150}]),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=Object(s["ref"])(null),r=Object(s["ref"])([]),l=Object(s["ref"])({id:null,cliente:"",fechaPago:"",metodo:"",monto:0,referencia:"",estado:"completado",facturas:[]}),d=Object(s["computed"])(()=>i.value.filter(t=>r.value.includes(t.numeroFactura)).reduce((t,a)=>t+a.pendiente,0)),u=Object(s["computed"])(()=>i.value.filter(t=>l.value.facturas.includes(t.numeroFactura)).reduce((t,a)=>t+a.pendiente,0)),p=Object(s["ref"])([{id:1,numeroFactura:"FAC-2024-001",cliente:"Ana López",totalNeto:453.75,cobrosVinculados:[1]},{id:2,numeroFactura:"FAC-2024-002",cliente:"Carlos Ruiz",totalNeto:242,cobrosVinculados:[2]}]);function m(t){return new Date(t).toLocaleDateString("es-ES")}function v(t){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(t)}function f(t=null){l.value=t?{...t,facturas:[...t.facturas]}:{id:null,cliente:"",fechaPago:(new Date).toISOString().split("T")[0],metodo:"",monto:0,referencia:"",estado:"completado",facturas:[]},o.value=!0}function C(){o.value=!1}function b(){if(l.value.facturas.length>0){const t=i.value.filter(t=>l.value.facturas.includes(t.numeroFactura)),a=t.reduce((t,a)=>t+a.pendiente,0);if(l.value.monto>a)return void alert(`El monto (${v(l.value.monto)}) excede el total pendiente de las facturas seleccionadas (${v(a)})`)}if(l.value.id){const t=a.value.findIndex(t=>t.id===l.value.id);-1!==t&&(a.value[t]={...l.value,facturas:[...l.value.facturas]})}else l.value.id=Date.now(),a.value.push({...l.value,facturas:[...l.value.facturas]});w(),o.value=!1}function g(t){confirm("¿Seguro que quieres eliminar esta transacción?")&&a.value.splice(t,1)}function h(t){c.value=t,r.value=[...t.facturas],n.value=!0}function _(){n.value=!1,c.value=null,r.value=[]}function y(){if(c.value){const t=a.value.findIndex(t=>t.id===c.value.id);-1!==t&&(a.value[t].facturas=[...r.value],w())}_()}function w(){p.value.forEach(t=>{const e=a.value.filter(a=>t.cobrosVinculados.includes(a.id)&&"completado"===a.estado),s=e.reduce((t,a)=>t+a.monto,0);console.log(`Factura ${t.numeroFactura}: ${s}/${t.totalNeto}`)})}function k(t,a){const e=i.value.filter(t=>a.includes(t.numeroFactura)),s=e.reduce((t,a)=>t+a.pendiente,0);return t<=s}return{__sfc:!0,items:a,clientes:e,facturasDisponibles:i,showForm:o,showVincularModal:n,selectedItem:c,facturasSeleccionadas:r,form:l,totalSeleccionado:d,totalPendienteSeleccionado:u,facturasData:p,formatDate:m,formatCurrency:v,openForm:f,closeForm:C,saveItem:b,deleteItem:g,vincularFacturas:h,closeVincularModal:_,confirmarVinculacion:y,actualizarEstadosFacturas:w,validarMontoCobro:k}}},Si=xi,Oi=(e("37c9"),Object(b["a"])(Si,ki,Ai,!1,null,"48bc1d5f",null)),Di=Oi.exports,Pi=function(){var t=this,a=t._self._c,e=t._self._setupProxy;return a("div",{staticClass:"seguridad-permisos-container"},[t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"tabs-container"},[a("div",{staticClass:"tabs-header"},t._l(e.tabs,(function(s){return a("button",{key:s.id,class:["tab-button",{active:e.activeTab===s.id}],on:{click:function(t){e.activeTab=s.id}}},[a("i",{class:s.icon}),t._v("\n          "+t._s(s.name)+"\n        ")])})),0)]),"actividad"===e.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"section-header"},[a("h2",[t._v("Registro de Actividad")]),a("div",{staticClass:"filters"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.filtroUsuario,expression:"filtroUsuario"}],staticClass:"filter-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));e.filtroUsuario=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Todos los usuarios")]),t._l(e.usuarios,(function(e){return a("option",{key:e.id,domProps:{value:e.nombre}},[t._v("\n              "+t._s(e.nombre)+"\n            ")])}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:e.filtroAccion,expression:"filtroAccion"}],staticClass:"filter-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));e.filtroAccion=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Todas las acciones")]),a("option",{attrs:{value:"login"}},[t._v("Inicio de sesión")]),a("option",{attrs:{value:"logout"}},[t._v("Cierre de sesión")]),a("option",{attrs:{value:"create"}},[t._v("Crear")]),a("option",{attrs:{value:"update"}},[t._v("Actualizar")]),a("option",{attrs:{value:"delete"}},[t._v("Eliminar")])]),a("button",{staticClass:"btn-export",on:{click:e.exportarActividad}},[a("i",{staticClass:"ti-download"}),t._v(" Exportar\n          ")])])]),a("div",{staticClass:"activity-table"},[a("table",{staticClass:"main-table"},[t._m(1),a("tbody",t._l(e.actividadesFiltradas,(function(s){return a("tr",{key:s.id},[a("td",[a("div",{staticClass:"user-info"},[a("i",{staticClass:"ti-user"}),t._v("\n                  "+t._s(s.usuario)+"\n                ")])]),a("td",[a("span",{class:"action-badge action-"+s.accion},[t._v("\n                  "+t._s(s.accion)+"\n                ")])]),a("td",[t._v(t._s(s.modulo))]),a("td",[t._v(t._s(s.detalles))]),a("td",[t._v(t._s(s.ip))]),a("td",[t._v(t._s(e.formatDateTime(s.fecha)))])])})),0)])])]):t._e(),"accesos"===e.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"section-header"},[a("h2",[t._v("Control de Accesos por Rol")]),a("button",{staticClass:"btn-add",on:{click:function(t){return e.openRolForm()}}},[a("i",{staticClass:"ti-plus"}),t._v(" Nuevo Rol\n        ")])]),a("div",{staticClass:"roles-grid"},t._l(e.roles,(function(s){return a("div",{key:s.id,staticClass:"rol-card"},[a("div",{staticClass:"rol-header"},[a("h3",[t._v(t._s(s.nombre))]),a("div",{staticClass:"rol-actions"},[a("button",{staticClass:"btn-edit-small",on:{click:function(t){return e.openRolForm(s)}}},[a("i",{staticClass:"ti-pencil"})]),a("button",{staticClass:"btn-delete-small",on:{click:function(t){return e.deleteRol(s.id)}}},[a("i",{staticClass:"ti-trash"})])])]),a("div",{staticClass:"rol-description"},[t._v(t._s(s.descripcion))]),a("div",{staticClass:"rol-permissions"},[a("h4",[t._v("Permisos:")]),a("div",{staticClass:"permissions-list"},t._l(s.permisos,(function(e){return a("div",{key:e,staticClass:"permission-item"},[a("i",{staticClass:"ti-check"}),t._v("\n                "+t._s(e)+"\n              ")])})),0)]),a("div",{staticClass:"rol-users"},[a("small",[t._v(t._s(s.usuarios)+" usuarios asignados")])])])})),0)]):t._e(),"backups"===e.activeTab?a("div",{staticClass:"tab-content"},[a("div",{staticClass:"section-header"},[a("h2",[t._v("Copias de Seguridad")]),a("button",{staticClass:"btn-add",on:{click:e.crearBackupManual}},[a("i",{staticClass:"ti-download"}),t._v(" Crear Backup Manual\n        ")])]),a("div",{staticClass:"backup-config"},[a("div",{staticClass:"config-card"},[a("h3",[t._v("Configuración Automática")]),a("div",{staticClass:"config-item"},[a("label",[t._v("Frecuencia:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.configBackup.frecuencia,expression:"configBackup.frecuencia"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e.configBackup,"frecuencia",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"diario"}},[t._v("Diario")]),a("option",{attrs:{value:"semanal"}},[t._v("Semanal")]),a("option",{attrs:{value:"mensual"}},[t._v("Mensual")])])]),a("div",{staticClass:"config-item"},[a("label",[t._v("Hora:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.configBackup.hora,expression:"configBackup.hora"}],attrs:{type:"time"},domProps:{value:e.configBackup.hora},on:{input:function(a){a.target.composing||t.$set(e.configBackup,"hora",a.target.value)}}})]),a("div",{staticClass:"config-item"},[a("label",[t._v("Retener backups:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.configBackup.retener,expression:"configBackup.retener"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e.configBackup,"retener",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"7"}},[t._v("7 días")]),a("option",{attrs:{value:"30"}},[t._v("30 días")]),a("option",{attrs:{value:"90"}},[t._v("90 días")])])]),a("button",{staticClass:"btn-save-config",on:{click:e.guardarConfigBackup}},[t._v("\n            Guardar Configuración\n          ")])])]),a("div",{staticClass:"backups-list"},[a("h3",[t._v("Backups Disponibles")]),t._l(e.backups,(function(s){return a("div",{key:s.id,staticClass:"backup-item"},[a("div",{staticClass:"backup-info"},[a("div",{staticClass:"backup-name"},[t._v(t._s(s.nombre))]),a("div",{staticClass:"backup-details"},[a("span",[t._v(t._s(s.tamaño))]),a("span",[t._v(t._s(e.formatDateTime(s.fecha)))])])]),a("div",{staticClass:"backup-actions"},[a("button",{staticClass:"btn-download",on:{click:function(t){return e.descargarBackup(s)}}},[a("i",{staticClass:"ti-download"})]),a("button",{staticClass:"btn-restore",on:{click:function(t){return e.restaurarBackup(s)}}},[a("i",{staticClass:"ti-reload"})]),a("button",{staticClass:"btn-delete",on:{click:function(t){return e.deleteBackup(s.id)}}},[a("i",{staticClass:"ti-trash"})])])])}))],2)]):t._e(),"sesion"===e.activeTab?a("div",{staticClass:"tab-content"},[t._m(2),a("div",{staticClass:"session-config"},[a("div",{staticClass:"config-card"},[a("h3",[t._v("Cierre de Sesión por Inactividad")]),a("div",{staticClass:"config-item"},[a("label",[t._v("Tiempo de inactividad (minutos):")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.configSesion.inactividad,expression:"configSesion.inactividad",modifiers:{number:!0}}],attrs:{type:"number",min:"5",max:"480"},domProps:{value:e.configSesion.inactividad},on:{input:function(a){a.target.composing||t.$set(e.configSesion,"inactividad",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"config-item"},[a("label",[t._v("Mostrar advertencia antes de cerrar:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.configSesion.advertencia,expression:"configSesion.advertencia",modifiers:{number:!0}}],attrs:{type:"number",min:"1",max:"10"},domProps:{value:e.configSesion.advertencia},on:{input:function(a){a.target.composing||t.$set(e.configSesion,"advertencia",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),a("span",{staticClass:"config-help"},[t._v("minutos antes")])]),a("div",{staticClass:"config-item"},[a("label",[t._v("Forzar cierre de sesión al cerrar navegador:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.configSesion.forzarCierre,expression:"configSesion.forzarCierre"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.configSesion.forzarCierre)?t._i(e.configSesion.forzarCierre,null)>-1:e.configSesion.forzarCierre},on:{change:function(a){var s=e.configSesion.forzarCierre,i=a.target,o=!!i.checked;if(Array.isArray(s)){var n=null,c=t._i(s,n);i.checked?c<0&&t.$set(e.configSesion,"forzarCierre",s.concat([n])):c>-1&&t.$set(e.configSesion,"forzarCierre",s.slice(0,c).concat(s.slice(c+1)))}else t.$set(e.configSesion,"forzarCierre",o)}}})]),a("button",{staticClass:"btn-save-config",on:{click:e.guardarConfigSesion}},[t._v("\n            Guardar Configuración\n          ")])]),a("div",{staticClass:"config-card"},[a("h3",[t._v("Seguridad Adicional")]),a("div",{staticClass:"config-item"},[a("label",[t._v("Requerir cambio de contraseña cada:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.configSesion.cambioPassword,expression:"configSesion.cambioPassword"}],on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e.configSesion,"cambioPassword",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"0"}},[t._v("Nunca")]),a("option",{attrs:{value:"30"}},[t._v("30 días")]),a("option",{attrs:{value:"90"}},[t._v("90 días")]),a("option",{attrs:{value:"180"}},[t._v("180 días")])])]),a("div",{staticClass:"config-item"},[a("label",[t._v("Máximo intentos de login:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.configSesion.maxIntentos,expression:"configSesion.maxIntentos",modifiers:{number:!0}}],attrs:{type:"number",min:"3",max:"10"},domProps:{value:e.configSesion.maxIntentos},on:{input:function(a){a.target.composing||t.$set(e.configSesion,"maxIntentos",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}})]),a("div",{staticClass:"config-item"},[a("label",[t._v("Bloquear cuenta tras intentos fallidos:")]),a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.configSesion.tiempoBloqueo,expression:"configSesion.tiempoBloqueo",modifiers:{number:!0}}],attrs:{type:"number",min:"5",max:"60"},domProps:{value:e.configSesion.tiempoBloqueo},on:{input:function(a){a.target.composing||t.$set(e.configSesion,"tiempoBloqueo",t._n(a.target.value))},blur:function(a){return t.$forceUpdate()}}}),a("span",{staticClass:"config-help"},[t._v("minutos")])])])])]):t._e(),e.showRolForm?a("div",{staticClass:"modal-form-overlay"},[a("div",{staticClass:"modal-form"},[a("h2",[t._v(t._s(e.formRol.id?"Editar":"Nuevo")+" Rol")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.saveRol.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Nombre del Rol")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formRol.nombre,expression:"formRol.nombre"}],attrs:{required:""},domProps:{value:e.formRol.nombre},on:{input:function(a){a.target.composing||t.$set(e.formRol,"nombre",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Descripción")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formRol.descripcion,expression:"formRol.descripcion"}],attrs:{rows:"3"},domProps:{value:e.formRol.descripcion},on:{input:function(a){a.target.composing||t.$set(e.formRol,"descripcion",a.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Permisos")]),a("div",{staticClass:"permissions-grid"},t._l(e.permisosDisponibles,(function(s){return a("label",{key:s.id,staticClass:"permission-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formRol.permisos,expression:"formRol.permisos"}],attrs:{type:"checkbox"},domProps:{value:s.nombre,checked:Array.isArray(e.formRol.permisos)?t._i(e.formRol.permisos,s.nombre)>-1:e.formRol.permisos},on:{change:function(a){var i=e.formRol.permisos,o=a.target,n=!!o.checked;if(Array.isArray(i)){var c=s.nombre,r=t._i(i,c);o.checked?r<0&&t.$set(e.formRol,"permisos",i.concat([c])):r>-1&&t.$set(e.formRol,"permisos",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(e.formRol,"permisos",n)}}}),a("span",[t._v(t._s(s.nombre))]),a("small",[t._v(t._s(s.descripcion))])])})),0)]),a("div",{staticClass:"form-actions"},[a("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:e.closeRolForm}},[t._v("Cancelar")]),a("button",{staticClass:"btn-save",attrs:{type:"submit"}},[t._v("Guardar Rol")])])])])]):t._e()])])},ji=[function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-shield"}),t._v("\n        Seguridad / Permisos\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Control de accesos, actividad y configuración de seguridad")])])])},function(){var t=this,a=t._self._c;t._self._setupProxy;return a("thead",[a("tr",[a("th",[t._v("Usuario")]),a("th",[t._v("Acción")]),a("th",[t._v("Módulo")]),a("th",[t._v("Detalles")]),a("th",[t._v("IP")]),a("th",[t._v("Fecha/Hora")])])])},function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"section-header"},[a("h2",[t._v("Configuración de Sesión")])])}],Ei={__name:"SeguridadPermisos",setup(t){const a=Object(s["ref"])("actividad"),e=[{id:"actividad",name:"Registro de Actividad",icon:"ti-list"},{id:"accesos",name:"Control de Accesos",icon:"ti-lock"},{id:"backups",name:"Copias de Seguridad",icon:"ti-download"},{id:"sesion",name:"Configuración de Sesión",icon:"ti-time"}],i=Object(s["ref"])([{id:1,usuario:"Ana López",accion:"login",modulo:"Sistema",detalles:"Inicio de sesión exitoso",ip:"192.168.1.100",fecha:"2024-01-20T10:30:00"},{id:2,usuario:"Carlos Ruiz",accion:"create",modulo:"Facturación",detalles:"Creó factura FAC-2024-003",ip:"192.168.1.101",fecha:"2024-01-20T09:15:00"},{id:3,usuario:"María García",accion:"update",modulo:"Clientes",detalles:"Actualizó datos del cliente Juan Pérez",ip:"192.168.1.102",fecha:"2024-01-20T08:45:00"}]),o=Object(s["ref"])([{id:1,nombre:"Ana López"},{id:2,nombre:"Carlos Ruiz"},{id:3,nombre:"María García"}]),n=Object(s["ref"])(""),c=Object(s["ref"])(""),r=Object(s["computed"])(()=>i.value.filter(t=>{const a=!n.value||t.usuario===n.value,e=!c.value||t.accion===c.value;return a&&e})),l=Object(s["ref"])([{id:1,nombre:"Administrador",descripcion:"Acceso completo al sistema",permisos:["Acceso total","Gestión usuarios","Configuración sistema","Backups"],usuarios:2},{id:2,nombre:"Usuario",descripcion:"Acceso básico a módulos principales",permisos:["Ver clientes","Crear facturas","Ver reportes"],usuarios:5},{id:3,nombre:"Técnico",descripcion:"Acceso a módulos técnicos",permisos:["Gestión servicios","Ver empleados","Reportes técnicos"],usuarios:3}]),d=Object(s["ref"])([{id:1,nombre:"Acceso total",descripcion:"Control completo del sistema"},{id:2,nombre:"Gestión usuarios",descripcion:"Crear, editar y eliminar usuarios"},{id:3,nombre:"Configuración sistema",descripcion:"Modificar configuraciones"},{id:4,nombre:"Backups",descripcion:"Gestionar copias de seguridad"},{id:5,nombre:"Ver clientes",descripcion:"Acceso de lectura a clientes"},{id:6,nombre:"Crear facturas",descripcion:"Generar nuevas facturas"},{id:7,nombre:"Ver reportes",descripcion:"Acceso a reportes básicos"},{id:8,nombre:"Gestión servicios",descripcion:"Administrar servicios/productos"},{id:9,nombre:"Ver empleados",descripcion:"Acceso de lectura a empleados"},{id:10,nombre:"Reportes técnicos",descripcion:"Acceso a reportes avanzados"}]),u=Object(s["ref"])([{id:1,nombre:"backup_2024_01_20_10_00.sql","tamaño":"45.2 MB",fecha:"2024-01-20T10:00:00",tipo:"automático"},{id:2,nombre:"backup_2024_01_19_10_00.sql","tamaño":"44.8 MB",fecha:"2024-01-19T10:00:00",tipo:"automático"},{id:3,nombre:"backup_manual_2024_01_18.sql","tamaño":"44.5 MB",fecha:"2024-01-18T15:30:00",tipo:"manual"}]),p=Object(s["ref"])({frecuencia:"diario",hora:"02:00",retener:"30"}),m=Object(s["ref"])({inactividad:30,advertencia:5,forzarCierre:!0,cambioPassword:"90",maxIntentos:5,tiempoBloqueo:15}),v=Object(s["ref"])(!1),f=Object(s["ref"])({id:null,nombre:"",descripcion:"",permisos:[]});function C(t){return new Date(t).toLocaleString("es-ES")}function b(){alert("Exportando registro de actividad...")}function g(t=null){f.value=t?{...t,permisos:[...t.permisos]}:{id:null,nombre:"",descripcion:"",permisos:[]},v.value=!0}function h(){v.value=!1}function _(){if(f.value.id){const t=l.value.findIndex(t=>t.id===f.value.id);-1!==t&&(l.value[t]={...f.value,permisos:[...f.value.permisos]})}else f.value.id=Date.now(),l.value.push({...f.value,permisos:[...f.value.permisos]});v.value=!1}function y(t){confirm("¿Seguro que quieres eliminar este rol?")&&(l.value=l.value.filter(a=>a.id!==t))}function w(){alert("Creando backup manual...")}function k(){alert("Configuración de backup guardada")}function A(t){alert("Descargando backup: "+t.nombre)}function x(t){confirm(`¿Seguro que quieres restaurar el backup: ${t.nombre}?`)&&alert("Restaurando backup...")}function S(t){confirm("¿Seguro que quieres eliminar este backup?")&&(u.value=u.value.filter(a=>a.id!==t))}function O(){alert("Configuración de sesión guardada")}return{__sfc:!0,activeTab:a,tabs:e,actividades:i,usuarios:o,filtroUsuario:n,filtroAccion:c,actividadesFiltradas:r,roles:l,permisosDisponibles:d,backups:u,configBackup:p,configSesion:m,showRolForm:v,formRol:f,formatDateTime:C,exportarActividad:b,openRolForm:g,closeRolForm:h,saveRol:_,deleteRol:y,crearBackupManual:w,guardarConfigBackup:k,descargarBackup:A,restaurarBackup:x,deleteBackup:S,guardarConfigSesion:O}}},Ni=Ei,Ti=(e("f174"),Object(b["a"])(Ni,Pi,ji,!1,null,"f044376a",null)),Ii=Ti.exports,Fi=function(){var t=this,a=t._self._c;return a("div",{staticClass:"crm-dinamico-container"},[t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-section"},[t._m(1),a("div",{staticClass:"add-section-content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"nuevaSeccion"}},[t._v("Nombre de la nueva sección")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nuevaSeccion,expression:"nuevaSeccion"}],staticClass:"form-control",attrs:{id:"nuevaSeccion",type:"text",placeholder:"Ej: Clientes, Productos, Ventas..."},domProps:{value:t.nuevaSeccion},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.crearSeccion.apply(null,arguments)},input:function(a){a.target.composing||(t.nuevaSeccion=a.target.value)}}})])]),a("div",{staticClass:"col-md-6 d-flex align-items-end"},[a("button",{staticClass:"btn-add",on:{click:t.crearSeccion}},[a("i",{staticClass:"ti-plus"}),t._v(" Crear Nueva Sección\n            ")])])])])]),t._l(t.secciones,(function(e,s){return a("div",{key:s,staticClass:"table-section"},[a("div",{staticClass:"section-header"},[a("div",{staticClass:"section-title"},[a("h3",[a("i",{staticClass:"ti-folder"}),t._v("\n            "+t._s(e.nombre)+"\n          ")]),a("span",{staticClass:"record-count"},[t._v(t._s(e.datos?e.datos.length:0)+" registros")])]),a("div",{staticClass:"section-actions"},[a("button",{staticClass:"btn-view",attrs:{title:"Ver sección"},on:{click:function(a){t.navegarASeccion(e.slug||t.slugify(e.nombre))}}},[a("i",{staticClass:"ti-eye"})]),a("button",{staticClass:"btn-advanced",attrs:{title:"Registros avanzados"},on:{click:function(a){return t.navegarARegistrosPaginados(e._id||e.id)}}},[a("i",{staticClass:"ti-database"})]),a("button",{staticClass:"btn-edit",attrs:{title:"Editar nombre"},on:{click:function(a){return t.editarNombreSeccion(s)}}},[a("i",{staticClass:"ti-pencil"})]),a("button",{staticClass:"btn-delete",attrs:{title:"Eliminar sección"},on:{click:function(a){return t.eliminarSeccion(s)}}},[a("i",{staticClass:"ti-trash"})])])]),a("div",{staticClass:"fields-management"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Nombre del campo")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.nuevoCampoNombre,expression:"seccion.nuevoCampoNombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ej: nombre, email, categoría..."},domProps:{value:e.nuevoCampoNombre},on:{input:function(a){a.target.composing||t.$set(e,"nuevoCampoNombre",a.target.value)}}})])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Tipo de campo")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.nuevoCampoTipo,expression:"seccion.nuevoCampoTipo"}],staticClass:"form-control",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e,"nuevoCampoTipo",a.target.multiple?s:s[0])}}},[a("option",{attrs:{value:"texto"}},[t._v("Texto")]),a("option",{attrs:{value:"relacional"}},[t._v("Relacional")])])])]),"relacional"===e.nuevoCampoTipo?a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Sección relacionada")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.nuevoCampoSeccion,expression:"seccion.nuevoCampoSeccion"}],staticClass:"form-control",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(e,"nuevoCampoSeccion",a.target.multiple?s:s[0])}}},t._l(t.secciones,(function(s){return(s.slug||t.slugify(s.nombre))!==(e.slug||t.slugify(e.nombre))?a("option",{key:s.slug||t.slugify(s.nombre),domProps:{value:s.slug||t.slugify(s.nombre)}},[t._v(t._s(s.nombre))]):t._e()})),0)])]):t._e(),a("div",{staticClass:"col-md-2 d-flex align-items-end"},[a("button",{staticClass:"btn-secondary",on:{click:function(a){return t.agregarCampo(s)}}},[a("i",{staticClass:"ti-plus"}),t._v(" Agregar Campo\n            ")])])])]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped table-hover"},[a("thead",[a("tr",[t._l(e.columnas,(function(e){return a("th",{key:e.nombre,staticClass:"text-capitalize"},[t._v("\n                "+t._s(e.nombre.charAt(0).toUpperCase()+e.nombre.slice(1))+"\n              ")])})),a("th",{staticClass:"text-center"},[t._v("Acciones")])],2)]),a("tbody",t._l(e.datos,(function(i,o){return a("tr",{key:o},[t._l(e.columnas,(function(e){return a("td",{key:e.nombre},["relacional"===e.tipo?[a("select",{directives:[{name:"model",rawName:"v-model",value:i[e.nombre],expression:"fila[col.nombre]"}],staticClass:"form-control form-control-sm",on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(i,e.nombre,a.target.multiple?s:s[0])},function(t){i._editando=!0}]}},[a("option",{attrs:{value:""}},[t._v("Selecciona...")]),t._l(t.getOpcionesRelacionadas(e.seccion),(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)]:[a("input",{directives:[{name:"model",rawName:"v-model",value:i[e.nombre],expression:"fila[col.nombre]"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Ingrese "+e.nombre},domProps:{value:i[e.nombre]},on:{input:[function(a){a.target.composing||t.$set(i,e.nombre,a.target.value)},function(t){i._editando=!0}]}})]],2)})),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn-delete",attrs:{title:"Eliminar fila"},on:{click:function(a){return t.eliminarFila(s,o)}}},[a("i",{staticClass:"ti-trash"})]),i._editando?a("button",{staticClass:"btn-add",attrs:{title:"Guardar cambios"},on:{click:function(a){return t.guardarFilaEditada(s,o)}}},[a("i",{staticClass:"ti-save"})]):t._e()])],2)})),0),a("tfoot",[a("tr",{staticClass:"new-row"},[t._l(e.columnas,(function(i){return a("td",{key:i.nombre},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.nuevaFila[i.nombre],expression:"seccion.nuevaFila[col.nombre]"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Nuevo "+i.nombre},domProps:{value:e.nuevaFila[i.nombre]},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.agregarFila(s)},input:function(a){a.target.composing||t.$set(e.nuevaFila,i.nombre,a.target.value)}}})])})),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn-add",attrs:{title:"Agregar fila"},on:{click:function(a){return t.agregarFila(s)}}},[a("i",{staticClass:"ti-plus"})])])],2)])])])])}))],2),a("b-modal",{attrs:{title:"Editar nombre de sección","hide-footer":""},model:{value:t.showEditModal,callback:function(a){t.showEditModal=a},expression:"showEditModal"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Nuevo nombre de la sección")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.seccionEditando.nuevoNombre,expression:"seccionEditando.nuevoNombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese el nuevo nombre"},domProps:{value:t.seccionEditando.nuevoNombre},on:{input:function(a){a.target.composing||t.$set(t.seccionEditando,"nuevoNombre",a.target.value)}}})])]),a("div",{staticClass:"col-12 mt-3"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"primary"},on:{click:t.confirmarEditarSeccion}},[t._v("Guardar")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(a){t.showEditModal=!1}}},[t._v("Cancelar")])],1)])]),a("b-modal",{attrs:{title:"Confirmar acción","hide-footer":""},model:{value:t.showClearModal,callback:function(a){t.showClearModal=a},expression:"showClearModal"}},[a("div",{staticClass:"text-center"},[a("p",[t._v("¿Estás seguro de que quieres eliminar todas las secciones y datos?")]),a("p",{staticClass:"text-danger"},[t._v("Esta acción no se puede deshacer.")]),a("div",{staticClass:"mt-3"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.confirmarLimpiarTodo}},[t._v("Eliminar Todo")]),a("b-button",{attrs:{variant:"secondary"},on:{click:function(a){t.showClearModal=!1}}},[t._v("Cancelar")])],1)])]),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".json"},on:{change:t.procesarArchivoImportado}})],1)},$i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-settings"}),t._v("\n        CRM con Secciones Personalizables\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Gestión dinámica de datos organizados en secciones")])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"table-header"},[a("h2",[t._v("Gestión de Secciones")])])}],Mi={name:"CrmDinamico",setup(){const t=Object(s["ref"])([]),a=Object(s["ref"])(""),e=Object(s["ref"])(!1),i=Object(s["ref"])(!1),o=Object(s["ref"])(null),n=Object(s["reactive"])({index:-1,nuevoNombre:""}),c=async()=>{try{const a=await B["g"].getAll();t.value=(Array.isArray(a)?a:a.data||[]).map(t=>({...t,slug:t.slug||r(t.nombre)})),console.log("SECCIONES:",JSON.stringify(t.value,null,2))}catch(a){alert("Error al cargar secciones"),t.value=[]}};function r(t){return t.toString().toLowerCase().normalize("NFD").replace(/[ \u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}const l=async()=>{const e=a.value.trim(),s=r(e);if(e&&!t.value.find(t=>(t.slug||r(t.nombre))===s))try{await B["g"].create({nombre:e,slug:s,columnas:[],datos:[]}),a.value="",await c(),window.dispatchEvent(new CustomEvent("crmSectionsUpdated"))}catch(i){alert("Error al crear sección")}},d=a=>{n.index=a,n.nuevoNombre=t.value[a].nombre,e.value=!0},u=async()=>{const a=n.nuevoNombre.trim();if(!a||n.index<0)return;const s=t.value[n.index];try{await B["g"].update(s._id||s.id,{...s,nombre:a}),e.value=!1,await c(),window.dispatchEvent(new CustomEvent("crmSectionsUpdated"))}catch(i){alert("Error al editar sección")}},p=t=>{const a="/crm-seccion/"+t;console.log("NAVEGAR: slug",t,"URL",a),window.location.href=a},m=t=>{const a="/registros-paginados/"+t;console.log("NAVEGAR A REGISTROS PAGINADOS: seccionId",t,"URL",a),window.location.href=a},v=async a=>{const e=t.value[a];if(confirm(`¿Estás seguro de que quieres eliminar la sección "${e.nombre}"?`))try{await B["g"].delete(e._id||e.id),await c(),window.dispatchEvent(new CustomEvent("crmSectionsUpdated"))}catch(s){alert("Error al eliminar sección")}},f=async a=>{const e=t.value[a],s=(e.nuevoCampoNombre||"").trim().toLowerCase(),i=e.nuevoCampoTipo||"texto",o=e.nuevoCampoSeccion||"";if(console.log("AGREGAR CAMPO: slug relacionado:",o,"nombre:",s),!s||e.columnas.some(t=>t.nombre===s))return;const n={nombre:s,tipo:i};"relacional"===i&&o&&(n.seccion=o),"archivo"===i&&(n.configuracion={maxSize:10485760,allowedTypes:["*/*"],multiple:!0,autoOrganize:!0}),e.columnas.push(n),e.datos.forEach(t=>{s in t||(t[s]="archivo"===i?[]:"")}),s in e.nuevaFila||(e.nuevaFila[s]="archivo"===i?[]:""),e.nuevoCampoNombre="",e.nuevoCampoTipo="texto",e.nuevoCampoSeccion="";try{await B["g"].update(e._id||e.id,e),await c()}catch(r){alert("Error al agregar campo")}},C=async a=>{const e=t.value[a],s={};e.columnas.forEach(t=>{const a=t.tipo||"texto";s[t.nombre]="archivo"===a?e.nuevaFila[t.nombre]||[]:e.nuevaFila[t.nombre]||""});try{await B["g"].createRegistro(e._id||e.id,s),e.columnas.forEach(t=>{const a=t.tipo||"texto";e.nuevaFila[t.nombre]="archivo"===a?[]:""}),await c()}catch(i){alert("Error al agregar fila")}},b=async(a,e)=>{const s=t.value[a],i=s.datos[e];try{await B["g"].deleteRegistro(s._id||s.id,i._id||i.id),await c()}catch(o){alert("Error al eliminar fila")}},g=()=>{const a=JSON.stringify(t.value,null,2),e=new Blob([a],{type:"application/json"}),s=URL.createObjectURL(e),i=document.createElement("a");i.href=s,i.download="crm-secciones.json",i.click(),URL.revokeObjectURL(s)},h=()=>{o.value.click()},_=async a=>{const e=a.target.files[0];if(e){const a=new FileReader;a.onload=async a=>{try{const e=JSON.parse(a.target.result);if(Array.isArray(e)){for(const a of t.value)await B["g"].delete(a._id||a.id);for(const t of e)await B["g"].create(t);await c()}}catch(e){alert("Error al procesar el archivo")}},a.readAsText(e)}},y=()=>{i.value=!0},w=async()=>{try{for(const a of t.value)await B["g"].delete(a._id||a.id);t.value=[],i.value=!1,await c()}catch(a){alert("Error al limpiar todo")}},k=async()=>{try{for(const a of t.value)await B["g"].update(a._id||a.id,a);alert("Configuración guardada correctamente")}catch(a){alert("Error al guardar configuración")}},A=()=>{window.dispatchEvent(new CustomEvent("crmSectionsUpdated")),alert("Evento de actualización enviado")},x=a=>{const e=t.value.find(t=>(t.slug||r(t.nombre))===(a?r(a):""));if(!e)return[];if(0===e.columnas.length)return[];const s=e.columnas[0].nombre;return[...new Set(e.datos.map(t=>t[s]).filter(Boolean))]},S=async(a,e)=>{const s=t.value[a],i=s.datos[e];try{await B["g"].updateRegistro(s._id||s.id,i._id||i.id,i),i._editando=!1,await c()}catch(o){alert("Error al guardar los cambios de la fila")}};return Object(s["onMounted"])(()=>{c()}),{secciones:t,nuevaSeccion:a,showEditModal:e,showClearModal:i,fileInput:o,seccionEditando:n,crearSeccion:l,editarNombreSeccion:d,confirmarEditarSeccion:u,eliminarSeccion:v,agregarCampo:f,agregarFila:C,eliminarFila:b,exportarTodo:g,importarTodo:h,procesarArchivoImportado:_,limpiarTodo:y,confirmarLimpiarTodo:w,guardarConfiguracion:k,navegarASeccion:p,navegarARegistrosPaginados:m,forzarActualizacionMenu:A,getOpcionesRelacionadas:x,slugify:r,guardarFilaEditada:S}}},Li=Mi,Ri=(e("dbe5"),Object(b["a"])(Li,Fi,$i,!1,null,"241b1aef",null)),zi=Ri.exports,Bi=function(){var t=this,a=t._self._c,e=t._self._setupProxy;return a("div",{staticClass:"registro-usuario-container"},[t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-section",staticStyle:{"max-width":"400px",margin:"0 auto"}},[a("form",{staticClass:"form-registro",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Nombre")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.nombre,expression:"form.nombre"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&!e.form.nombre},attrs:{type:"text",placeholder:"Nombre"},domProps:{value:e.form.nombre},on:{input:function(a){a.target.composing||t.$set(e.form,"nombre",a.target.value)}}}),e.submitted&&!e.form.nombre?a("div",{staticClass:"invalid-feedback"},[t._v("El nombre es obligatorio")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&!e.form.email},attrs:{type:"email",placeholder:"Email"},domProps:{value:e.form.email},on:{input:function(a){a.target.composing||t.$set(e.form,"email",a.target.value)}}}),e.submitted&&!e.form.email?a("div",{staticClass:"invalid-feedback"},[t._v("El email es obligatorio")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v("Contraseña")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&!e.form.password},attrs:{type:"password",placeholder:"Contraseña"},domProps:{value:e.form.password},on:{input:function(a){a.target.composing||t.$set(e.form,"password",a.target.value)}}}),e.submitted&&!e.form.password?a("div",{staticClass:"invalid-feedback"},[t._v("La contraseña es obligatoria")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v("Plataforma")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.plataforma,expression:"form.plataforma"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&!e.form.plataforma},attrs:{type:"text",placeholder:"Plataforma"},domProps:{value:e.form.plataforma},on:{input:function(a){a.target.composing||t.$set(e.form,"plataforma",a.target.value)}}}),e.submitted&&!e.form.plataforma?a("div",{staticClass:"invalid-feedback"},[t._v("La plataforma es obligatoria")]):t._e()]),a("button",{staticClass:"btn-add",attrs:{type:"submit",disabled:e.loading}},[e.loading?a("span",[t._v("Registrando...")]):a("span",[t._v("Registrarse")])])]),e.error?a("div",{staticClass:"alert alert-danger q-mt-md"},[t._v(t._s(e.error))]):t._e(),e.success?a("div",{staticClass:"alert alert-success q-mt-md"},[t._v("Usuario registrado correctamente")]):t._e()])])])},Ui=[function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-user"}),t._v("\n        Registro de Usuario\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Crea tu cuenta y asóciate a una plataforma")])])])}],qi=e("1cfd"),Vi={__name:"RegistroUsuario",setup(t){const a=Object(s["ref"])({nombre:"",email:"",password:"",plataforma:""}),e=Object(s["ref"])(!1),i=Object(s["ref"])(""),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=async()=>{if(n.value=!0,i.value="",o.value=!1,a.value.nombre&&a.value.email&&a.value.password&&a.value.plataforma){e.value=!0;try{const t=Object(v["b"])();await Object(v["a"])(t,a.value.email,a.value.password);const{nombre:s,email:i,plataforma:c}=a.value;await Object(qi["c"])({nombre:s,email:i,plataforma:c}),o.value=!0,Object.assign(a.value,{nombre:"",email:"",password:"",plataforma:""}),n.value=!1}catch(t){i.value=t.response&&t.response.data&&t.response.data.message||t.message||"Error al registrar usuario"}finally{e.value=!1}}};return{__sfc:!0,form:a,loading:e,error:i,success:o,submitted:n,onSubmit:c}}},Hi=Vi,Gi=(e("715a"),Object(b["a"])(Hi,Bi,Ui,!1,null,"663c9216",null)),Ji=Gi.exports,Qi=function(){var t=this,a=t._self._c,e=t._self._setupProxy;return a("div",{staticClass:"registro-usuario-container"},[t._m(0),a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-section",staticStyle:{"max-width":"400px",margin:"0 auto"}},[a("form",{staticClass:"form-registro",on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Nombre de la plataforma")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.nombre,expression:"form.nombre"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&!e.form.nombre},attrs:{type:"text",placeholder:"Nombre"},domProps:{value:e.form.nombre},on:{input:function(a){a.target.composing||t.$set(e.form,"nombre",a.target.value)}}}),e.submitted&&!e.form.nombre?a("div",{staticClass:"invalid-feedback"},[t._v("El nombre es obligatorio")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",[t._v("Descripción")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.descripcion,expression:"form.descripcion"}],staticClass:"form-control",class:{"is-invalid":e.submitted&&!e.form.descripcion},attrs:{type:"text",placeholder:"Descripción"},domProps:{value:e.form.descripcion},on:{input:function(a){a.target.composing||t.$set(e.form,"descripcion",a.target.value)}}}),e.submitted&&!e.form.descripcion?a("div",{staticClass:"invalid-feedback"},[t._v("La descripción es obligatoria")]):t._e()]),a("button",{staticClass:"btn-add",attrs:{type:"submit",disabled:e.loading}},[e.loading?a("span",[t._v("Registrando...")]):a("span",[t._v("Registrar Plataforma")])])]),e.error?a("div",{staticClass:"alert alert-danger q-mt-md"},[t._v(t._s(e.error))]):t._e(),e.success?a("div",{staticClass:"alert alert-success q-mt-md"},[t._v("Plataforma registrada correctamente")]):t._e()])])])},Yi=[function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"header-content"},[a("h1",{staticClass:"page-title"},[a("i",{staticClass:"ti-layers"}),t._v("\n        Registro de Plataforma\n      ")]),a("p",{staticClass:"page-subtitle"},[t._v("Crea una nueva plataforma")])])])}],Wi={__name:"RegistroPlataforma",setup(t){const a=Object(s["ref"])({nombre:"",descripcion:""}),e=Object(s["ref"])(!1),i=Object(s["ref"])(""),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=async()=>{if(n.value=!0,i.value="",o.value=!1,a.value.nombre&&a.value.descripcion){e.value=!0;try{await Object(qi["b"])(a.value),o.value=!0,Object.assign(a.value,{nombre:"",descripcion:""}),n.value=!1}catch(t){i.value=t.response&&t.response.data&&t.response.data.message||"Error al registrar plataforma"}finally{e.value=!1}}};return{__sfc:!0,form:a,loading:e,error:i,success:o,submitted:n,onSubmit:c}}},Ki=Wi,Zi=(e("b965"),Object(b["a"])(Ki,Qi,Yi,!1,null,"c8f2b922",null)),Xi=Zi.exports;s["default"].use(_["a"]);const to=[{path:"/",component:H,redirect:"/crm-dinamico",meta:{requiresAuth:!0},children:[{path:"dashboard",name:"dashboard",component:va,meta:{requiresAuth:!0}},{path:"login",name:"login",component:ms,meta:{requiresAuth:!1}},{path:"/perfil/:id",name:"UserProfile",component:cs,meta:{requiresAuth:!0}},{path:"listado-clientes",name:"listado-clientes",component:Ta,meta:{requiresAuth:!0}},{path:"listado-citas",name:"listado-citas",component:le,meta:{requiresAuth:!0}},{path:"agenda",name:"agenda",component:fe,meta:{requiresAuth:!0}},{path:"agenda-citas",name:"agenda-citas",component:ye,meta:{requiresAuth:!0}},{path:"listado-servicios",name:"listado-servicios",component:Zs,meta:{requiresAuth:!0}},{path:"listado-productos",name:"listado-productos",component:ii,meta:{requiresAuth:!0}},{path:"listado-categorias",name:"listado-categorias",component:di,meta:{requiresAuth:!0}},{path:"facturacion",name:"facturacion",component:wi,meta:{requiresAuth:!0}},{path:"cobros-pagos",name:"cobros-pagos",component:Di,meta:{requiresAuth:!0}},{path:"empleados-usuarios",name:"empleados-usuarios",component:Ci,meta:{requiresAuth:!0}},{path:"seguridad-permisos",name:"seguridad-permisos",component:Ii,meta:{requiresAuth:!0}},{path:"crm-dinamico",name:"crm-dinamico",component:zi,meta:{requiresAuth:!0}},{path:"crm-seccion/:sectionName",name:"crm-seccion",component:()=>e.e("chunk-2d067b96").then(e.bind(null,"c2af")),props:!0,meta:{requiresAuth:!0}},{path:"registros-paginados/:seccionId",name:"registros-paginados",component:()=>e.e("chunk-cd879d44").then(e.bind(null,"ff20")),props:!0,meta:{requiresAuth:!0}}]},{path:"/registro-usuario",name:"registro-usuario",component:Ji,meta:{requiresAuth:!1}},{path:"/registro-plataforma",name:"registro-plataforma",component:Xi,meta:{requiresAuth:!1}},{path:"*",component:K}];var ao=to;s["default"].use(_["a"]);const eo=new _["a"]({routes:ao});let so=null;const io=Object(v["b"])();function oo(){return new Promise((t,a)=>{const e=Object(v["c"])(io,a=>{e(),t(a)},a)})}eo.beforeEach(async(t,a,e)=>{try{so=await oo();const a=t.matched.some(t=>t.meta.requiresAuth);if("login"===t.name)return so?void e({name:"crm-dinamico"}):void e();if(a&&!so)return void e({name:"login"});e()}catch(s){console.error("Error en el guard de navegación:",s),e({name:"login"})}});var no=eo,co=e("5f5b"),ro=e("b1e0"),lo=e("7346"),uo=e.n(lo);const po={install(t){t.component("fg-input",ot),t.component("drop-down",ut),t.component("card",Pt),t.component("p-button",kt)}};var mo=po,vo=e("c7db");const fo={install(t){t.directive("click-outside",vo["directive"])}};var Co=fo,bo=(e("54ba"),e("f9e3"),e("0e00"),e("e454"),{install(t){t.use(mo),t.use(Co),t.use(ra),t.use(uo.a)}}),go=(e("72e0"),e("2dd8"),e("9483"));Object(go["a"])("/crms-front/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(t){console.log("New content is available; refreshing automatically."),t.waiting&&t.waiting.postMessage({type:"SKIP_WAITING"})},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),
/*!

 =========================================================
 * Vue Paper Dashboard - v1.0.1
 =========================================================

 * Product Page: http://www.creative-tim.com/product/paper-dashboard
 * Copyright 2023 Creative Tim (http://www.creative-tim.com)
 * Licensed under MIT (https://github.com/creativetimofficial/paper-dashboard/blob/master/LICENSE.md)

 =========================================================

 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

 */
s["default"].use(co["a"]),s["default"].use(ro["a"]),s["default"].use(bo),s["default"].use(mo);const ho=localStorage.getItem("tenantId");ho&&Object(Pa["f"])(ho),new s["default"]({router:no,render:t=>t(h)}).$mount("#app")},"580a":function(t,a,e){},5979:function(t,a,e){"use strict";e("5cb7")},"59e7":function(t,a,e){},"5a82":function(t,a,e){"use strict";e("28e6")},"5bf6":function(t,a,e){},"5cb7":function(t,a,e){},"5ec6":function(t,a,e){"use strict";e("2f60")},"5eed":function(t,a,e){},6908:function(t,a,e){},6972:function(t,a,e){"use strict";e("9658")},"715a":function(t,a,e){"use strict";e("9f5c")},"73f6":function(t,a,e){"use strict";e("9903")},"77ef":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAbsAAAG7AEedTg1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAspQTFRF////8VZC4uXn4uXn4uXn8VZC4uXn4uXn8VZC4uXn8VZC4uXn4uXn8VZC8VZCwMbL4uXn4uXn4uXn4uXn8VZC4uXn4uXn8VZCsLe9s7m/s7q/trzCt73Eu8LGvMPHxMnOxcrOyc/TytHYy9LZzNPazdHX0dfc0dfd09fb1tvf1tvg17/A2Nzg2bi32d3f3uHj3+Pk4eTm4peR4pmS4uTm4uXn5NHQ6Keg6Z6V7G5f7IF07YBz72BN8FxI8GRS8VZC8VdD8VhE8VlF8VlG8VpG8VtH8VtI8VxJ8l1J8l1K8l5L8l9M8mFO8mFP8mJP8mNQ8mRS8mVS8mVT8mZU8mdV8mhW82lX82pY82tZ82ta82xa821b829d83Bf83Fg83Ji9HRk9HVl9HZm9Hho9Hlp9Hpr9Hts9Hxs9Hxt9H5u9H5v9H9w9IBx9YBx9YJz9YJ09YN09YV39YZ39YZ49Yh69Yp89Yt99ox/9o2A9o6A9o6B9o+C9pCC9pCD9pKF9pSH9paJ9paK9peL9piL9piM95qO95uP95yR952R96CU96CV96GW96OY96SZ+KWa+Kac+Kec+Kmf+Kqg+Kui+Kyi+K2j+K2k+K6l+K+l+K+m+LCn+bGo+bOq+bOr+bWs+bWt+bat+bev+biw+bmx+buz+by0+r22+r62+sC5+sG6+sK7+sO8+sS9+sW++sW/+sfB+8nD+8rE+8vE+8vF+8zG+83H+87I+8/J+9DK+9HL+9HM+9LN+9PN/NbR/NfT/NjT/NnU/NnV/NrV/NvW/NvX/N3Y/N7a/N/b/ODc/OHd/eLe/ePg/eTh/eXi/ebk/ejl/ejm/enn/ern/ero/evp/ezq/u3r/u7s/u/t/vDu/vDv/vHv/vLw/vLx/vPy/vTy/vX0/vb1/vf2/vj3/vj4//n4//r5//r6//v7//z7//z8//39//7+////nuyNngAAABh0Uk5TAAEGBxckLUlufX6WmLK0wMHE2uLm8vP1v+XjuQAAB2lJREFUeNrt3fl71EQYB/DQLpTSoj3osihyFJBLLBXCJTArIBZaRCmIKNYKigoiAp6g4gGCCiqeKMWzXqCgRVRUDi9AKApqQUErRW66/4MIm3SPJDtLjnln5v3+2HeSZ+azSTOz6TNVlLNOalpmVo5f9TjnKkDiy8hTWSQAQyAl3a+ySQCEgC9bVZkBABBokquyBGAu4GM4/tMAjAVSslXWAGwF0lX2ACwFfH4IAAwFMlQQAMwEUvOAALASSFOhADASyIQDwEYgCxAAE4EcSAAsBPygABgIqLAAvBeABuC5ADgArwXgAXgsABDAWwGIAJ4KgATwUgAmgIcCQAG8E4AK4JkAWACvBOACeCQAGMAbAcgAngiABvBCADaABwLAAdwXgA7gugB4ALcF4AO4LMABgLsCPAC4KsAFgJsCfAC4KMAJgHsCvAC4JsANgFsC/AC4JMARgDsCPAG4IsAVgBsCfAG4IMAaoBVrAdYArQOMBVgDtAkwFmAN0DbAWIA1QJcAYwHWAIXnMRZgDaC2C7AVYA5Q0IqtAHMAtX2AqQB7gMILmAqwB1ALzmcpAABAvZilAAQAtYDhXQACQC1sz+xZoAJJQTtGMyIVTAq7tG3T2vvVsQosXfOTi3AAyQqIB5CkgIAAyQmICJCUgJAAyQiICZCEgKAA9AKiAlALCAtAKyAuAKWAwAB0AiIDUAkIDUAjIDYAhYDgAIkFRAdIKCA8QCIB8QESCEgAYC0gA4ClgBQAVgJyAFgISAJgLiALgKmANABmAvIAmAhIBGAsIBOAoYBUAEYCcgEYCEgGEC8gG0CcgHQAsQLyAcQISAgQLSAjQJSAlACRAnICRAhICtAgICuALiAtgCYgL0BYQGKAMwIyA5wWkBrgfwG5AU4JSA6gdpUdQEUABEAABEAABEAA6zRu1rwF4SyDB/Tr4xBAo6YtCZcZ1Le3EwCNziHc5tLeDgA0JRynr32Axi15BhjUxzZAM8J1+tkGaM43wADbAC34BhhsG4BwHgRAAARAAARAAARAAARAAARAAARAAARAAARAABcALlv4SfXOqGz5cuWzNwcNG4+dOj0yd0y+Zqj12S8vnznLKDOuDQIBGLExZJjaFWPj2k7fFt+uvnbHR3NGmpy8+I3jIbPUPAQD4GXTHh55vSi66a2mozm67mHDD3RtyCr3gQDYZ9HD7WVRTb+zGs2W2+LPPdly/KGfIACMseziv9Mib5YT1uNZVRp78vnWBxwLAgCYYN3H2hsampaGEuS3iTEnf8q6fQ2BDxDaVUwPEPpzUlIAb/IAEHo+CYDQgVuSANg+EhTAkil6HqjYVK93s+6qOIDPX9PzzmdbD0UO6vcSWoBfYp8xrAHujfrxtBq9p6/EATwS1bTo/tURvx0/NgKoK4nLCCgzQRMAMmq9VtiRAOBUyr9tEJhnAHAA8FTYDIBc/Y9WuT4hAAku1wH2DRcEgCzQKgsTAxDyqi4wXxSA4J5wpYIGgHyqVauDggCQqnBlJRVAaa1Wni0KwNJw5SsqAPKkVq4UBWBeuPIDHUDxwXB5pygAFeHKOjoA8q5WLxUEYFO48h4lgP7YmCsGwISj4cpLlAAz9Fl1LMDJ72PyxXOj4QN8o1XuoQQYr9WXU6wF9k6FDrBIKxy+ghIgqF0y79MshvaPBQ0w/C29p2sJJQCpDterqJbDK+ACBG98fHtDR2dTA2gryDVUAJuBAexpeC9QF9nPrwktQEncTMgSYDUwAJOcvIka4Pa4bxCsAI5P5wNgAaEGeEKrP00B8PccwgXAMkIP8LZWnxkLcKwyJhWPjSI8AJxYEqQHGLZbu7iLuJwJGn3PH/2yh3Y1uJGIAVD96DCSBEDxX1r5Bf4B6ms3LJ0S997KGmCZfnAZnwCLyvSYvPO3BJhwOBSzeuZ/OZwMwPhd+uVzp4wA5b/q499K5AMoWt7waujEZNkArpz1wQHDd6kCA9Rs07PrSPTz48chMgCY5+fxRGqAbWMIdwDjtM7fbR9gcwnhDyCo/QYrS9h06BHL4R9cPCT2iAe1OwMwAFkTfqs9JHHTDZZf8IwzmB6F/7DwQ8gAY/aensDPpWg66ZDpwunFcsMjFp+5Nq6DDEBGV+6u2ziDqj9lq2rqY5ZNf2xZV/mM+e1z1/q9+6smEtAAkIMACIAACIAACIAACIAACIAACIAACIAA0m2o2F/2LTV7yb6pag/Jt9Ud2EnyjZW758u9tfYl+Q4A8Lu5+sDu+Y4A8Lm9fv9ePTrlOwVglXzY6Sg7QGfZAbpJDtChp+QAF6lyA1yoSg3QIfHnLzBAx87deqpeAOB/mkIABEAABEAABEAABEAABEAABEAABJAPwM/3+P22AXL4BsixDZDFN0CWbYBMvgEybQOk8Q2QZhsgNY/n8eel2gZQMngGyLA/fsXH8YPQ73MAQEnnFyDdifErKdm8jj87xREAxZfL5/hzfYpDacKlQG4TxbH4OLwLsn2Kg0lJ5+xZ4E9PUZyNL4OjGVFehk9xPqlpmVk54C8Ef05WZprF/O8/D8lk0cSN2SYAAAAASUVORK5CYII="},"88d5":function(t,a,e){},"8cba":function(t,a,e){"use strict";e("5bf6")},9658:function(t,a,e){},9903:function(t,a,e){},"9a98":function(t,a,e){},"9f5c":function(t,a,e){},a09a:function(t,a,e){"use strict";e("88d5")},a6d7:function(t,a,e){"use strict";e("a7e1")},a7e1:function(t,a,e){},b14e:function(t,a,e){"use strict";e("4502")},b965:function(t,a,e){"use strict";e("198f")},b9d1:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"f",(function(){return o})),e.d(a,"a",(function(){return n})),e.d(a,"h",(function(){return c})),e.d(a,"d",(function(){return r})),e.d(a,"g",(function(){return l})),e.d(a,"e",(function(){return d}));var s=e("1cfd");const i={getAll:(t={})=>s["a"].get("/clientes",t),getById:t=>s["a"].get("/clientes/"+t),create:t=>s["a"].post("/clientes",t),update:(t,a)=>s["a"].put("/clientes/"+t,a),delete:t=>s["a"].delete("/clientes/"+t)},o={getAll:(t={})=>s["a"].get("/productos",t),getById:t=>s["a"].get("/productos/"+t),create:t=>s["a"].post("/productos",t),update:(t,a)=>s["a"].put("/productos/"+t,a),delete:t=>s["a"].delete("/productos/"+t)},n={getAll:(t={})=>s["a"].get("/categorias",t),getById:t=>s["a"].get("/categorias/"+t),create:t=>s["a"].post("/categorias",t),update:(t,a)=>s["a"].put("/categorias/"+t,a),delete:t=>s["a"].delete("/categorias/"+t)},c={getAll:(t={})=>s["a"].get("/servicios",t),getById:t=>s["a"].get("/servicios/"+t),create:t=>s["a"].post("/servicios",t),update:(t,a)=>s["a"].put("/servicios/"+t,a),delete:t=>s["a"].delete("/servicios/"+t)},r={getAll:(t={})=>s["a"].get("/facturas",t),getById:t=>s["a"].get("/facturas/"+t),create:t=>s["a"].post("/facturas",t),update:(t,a)=>s["a"].put("/facturas/"+t,a),delete:t=>s["a"].delete("/facturas/"+t)},l={getAll:(t={})=>s["a"].get("/secciones-dinamicas",t),getById:t=>s["a"].get("/secciones-dinamicas/"+t),create:t=>s["a"].post("/secciones-dinamicas",t),update:(t,a)=>s["a"].put("/secciones-dinamicas/"+t,a),delete:t=>s["a"].delete("/secciones-dinamicas/"+t),getRegistros:(t,a={})=>s["a"].get(`/secciones-dinamicas/${t}/registros`,a),getRegistrosPaginados:(t,a={})=>s["a"].get(`/secciones-dinamicas/${t}/registros-paginados`,a),createRegistro:(t,a)=>s["a"].post(`/secciones-dinamicas/${t}/registros`,a),updateRegistro:(t,a,e)=>s["a"].put(`/secciones-dinamicas/${t}/registros/${a}`,e),updateRegistroArchivos:(t,a,e)=>s["a"].put(`/secciones-dinamicas/${t}/registros/${a}/archivos`,{archivos:e}),deleteRegistro:(t,a)=>s["a"].delete(`/secciones-dinamicas/${t}/registros/${a}`),saveCalendarConfig:(t,a)=>s["a"].post(`/secciones-dinamicas/${t}/calendar-config`,a),getCalendarConfigs:t=>s["a"].get(`/secciones-dinamicas/${t}/calendar-config`),updateCalendarConfig:(t,a,e)=>s["a"].put(`/secciones-dinamicas/${t}/calendar-config/${a}`,e),deleteCalendarConfig:(t,a)=>s["a"].delete(`/secciones-dinamicas/${t}/calendar-config/${a}`),getCalendarData:(t,a={})=>s["a"].get(`/secciones-dinamicas/${t}/citas`,a)},d=t=>s["a"].post("/usuarios/plataforma-lookup",{email:t})},c374:function(t,a,e){"use strict";e("d2bd")},c5b7:function(t,a,e){},c83f:function(t,a,e){},cd2f:function(t,a,e){},ce76:function(t,a,e){},d2bd:function(t,a,e){},d61b:function(t,a,e){"use strict";e("06eb")},dbe5:function(t,a,e){"use strict";e("59e7")},e454:function(t,a,e){},e7b5:function(t,a,e){"use strict";e("9a98")},e891:function(t,a,e){"use strict";e("ce76")},ed15:function(t,a,e){},ee0e:function(t,a,e){},f174:function(t,a,e){"use strict";e("ed15")},f912:function(t,a,e){},ffa1:function(t,a,e){"use strict";e("ee0e")}});