(function(t){function e(e){for(var s,i,c=e[0],r=e[1],l=e[2],d=0,u=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);p&&p(e);while(u.length)u.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},o={app:0},n=[];function c(t){return r.p+"assets/js/"+({}[t]||t)+"."+{"chunk-2d067b96":"3ac464b0","chunk-2d219ff9":"aa1513ee","chunk-cd879d44":"e1089ecf"}[t]+".js"}function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a={"chunk-2d067b96":1,"chunk-cd879d44":1};i[t]?e.push(i[t]):0!==i[t]&&a[t]&&e.push(i[t]=new Promise((function(e,a){for(var s="assets/css/"+({}[t]||t)+"."+{"chunk-2d067b96":"f3b34b67","chunk-2d219ff9":"31d6cfe0","chunk-cd879d44":"b6ef748b"}[t]+".css",o=r.p+s,n=document.getElementsByTagName("link"),c=0;c<n.length;c++){var l=n[c],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===s||d===o))return e()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){l=u[c],d=l.getAttribute("data-href");if(d===s||d===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var s=e&&e.target&&e.target.src||o,n=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=s,delete i[t],p.parentNode.removeChild(p),a(n)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){i[t]=0})));var s=o[t];if(0!==s)if(s)e.push(s[2]);else{var n=new Promise((function(e,a){s=o[t]=[e,a]}));e.push(s[2]=n);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,r.nc&&d.setAttribute("nonce",r.nc),d.src=c(t);var u=new Error;l=function(e){d.onerror=d.onload=null,clearTimeout(p);var a=o[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",u.name="ChunkLoadError",u.type=s,u.request=i,a[1](u)}o[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/crms-dev/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var p=d;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0495":function(t,e,a){},"04fa":function(t,e,a){"use strict";a("158c")},"06bd":function(t,e,a){"use strict";a("6908")},"06eb":function(t,e,a){},"078e":function(t,e,a){},"0e00":function(t,e,a){},"125a":function(t,e,a){"use strict";a("580a")},"158c":function(t,e,a){},"198f":function(t,e,a){},"19f6":function(t,e,a){"use strict";a.d(e,"f",(function(){return n}));var s=a("cee4"),i=(a("1cfd"),a("b9d1"));a.d(e,"a",(function(){return i["b"]})),a.d(e,"c",(function(){return i["d"]})),a.d(e,"e",(function(){return i["h"]})),a.d(e,"d",(function(){return i["e"]}));const o=s["a"].create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/crms-dev/"}).VUE_APP_API_URL||"https://crms-back.onrender.com",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});function n(t){t?o.defaults.headers["x-tenant-id"]=t:delete o.defaults.headers["x-tenant-id"]}o.interceptors.request.use(t=>{const e=localStorage.getItem("authToken");return e&&(t.headers.Authorization="Bearer "+e),console.log("Tenant header:",t.headers["x-tenant-id"]),console.log("Request:",t.method&&t.method.toUpperCase(),t.url),t},t=>(console.error("Request error:",t),Promise.reject(t))),o.interceptors.response.use(t=>(console.log("Response:",t.status,t.config.url),t),t=>(console.error("Response error:",t.response&&t.response.status,t.response&&t.response.data),t.response&&401===t.response.status&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(t))),e["b"]=o},"1cfd":function(t,e,a){"use strict";a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return n}));var s=a("19f6");class i{async get(t,e={}){try{const a=await s["b"].get(t,{params:e});return a.data}catch(a){throw console.error("GET Request Error:",a),a}}async post(t,e={}){try{const a=await s["b"].post(t,e);return a.data}catch(a){throw console.error("POST Request Error:",a),a}}async put(t,e={}){try{const a=await s["b"].put(t,e);return a.data}catch(a){throw console.error("PUT Request Error:",a),a}}async patch(t,e={}){try{const a=await s["b"].patch(t,e);return a.data}catch(a){throw console.error("PATCH Request Error:",a),a}}async delete(t){try{const e=await s["b"].delete(t);return e.data}catch(e){throw console.error("DELETE Request Error:",e),e}}async upload(t,e){try{const a=await s["b"].post(t,e,{headers:{"Content-Type":"multipart/form-data"}});return a.data}catch(a){throw console.error("Upload Error:",a),a}}}function o(t){return s["b"].post("/usuarios",t)}function n(t){return s["b"].post("/plataformas",t)}e["a"]=new i},"21ae":function(t,e,a){"use strict";a("f912")},"285e":function(t,e,a){},"28e6":function(t,e,a){},"2f60":function(t,e,a){},3105:function(t,e,a){"use strict";a("c83f")},3488:function(t,e,a){"use strict";a("cd2f")},"37c9":function(t,e,a){"use strict";a("285e")},"3b19":function(t,e,a){"use strict";a("c5b7")},"3b23":function(t,e,a){"use strict";a("5eed")},"3b84":function(t,e,a){t.exports=a.p+"assets/img/word.5656a2c2.png"},"3d58":function(t,e,a){},"42e2":function(t,e,a){"use strict";a("3d58")},4502:function(t,e,a){},"4c8b":function(t,e,a){t.exports=a.p+"assets/img/png.559c2422.png"},"4caf":function(t,e,a){"use strict";a("0495")},5469:function(t,e,a){"use strict";a("078e")},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),i=function(){var t=this,e=t._self._c;return e("div",{class:{"nav-open":t.$sidebar.showSidebar}},[e("notifications"),e("router-view")],1)},o=[],n=a("bc7b"),c=a("1494"),r=a("6a92"),l=a("dcc1");const d={apiKey:"AIzaSyBH82lLEp3xdP_HUHLQCaxhuXxmsPBiC3Y",authDomain:"crms-77a2a.firebaseapp.com",projectId:"crms-77a2a",storageBucket:"crms-77a2a.firebasestorage.app",messagingSenderId:"271168750908",appId:"1:271168750908:web:8451900eb335f742204a39"},u=Object(n["a"])(d),p=Object(c["f"])(u),m=(Object(l["a"])(u),Object(r["d"])(u));var v=a("be8c"),f={data(){return{casosSinAsignar:0,casosSinPresupuesto:0,clientesLlamar:0,isAuthenticated:!1,userData:JSON.parse(localStorage.getItem("userInform")),unsuscribeCasosSinAsignar:null,unsuscribeCasosSinPresupuesto:null,unsuscribeClientesLlamar:null}},watch:{isAuthenticated(t){t&&this.userData&&this.userData.admin&&!0===this.userData.admin?this.suscribirseEscuchadores():this.desuscribirseEscuchadores()}},mounted(){this.checkLogIn()},beforeDestroy(){this.desuscribirseEscuchadores()},methods:{checkLogIn(){const t=Object(v["b"])();Object(v["c"])(t,t=>{this.isAuthenticated=!!t})},suscribirseEscuchadores(){console.log("Suscribiendo a los escuchadores...");const t=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("telEspecialista","==",null),Object(c["m"])("status","==","0"),Object(c["m"])("confirmaCaso","==","1"));this.unsuscribeCasosSinAsignar=Object(c["h"])(t,t=>{t.docs.length>this.casosSinAsignar&&this.mostrarNotificacion("Caso sin asignar","Debes asignar un especialista"),this.casosSinAsignar=t.docs.length});const e=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("status","==","1"));this.unsuscribeCasosSinPresupuesto=Object(c["h"])(e,t=>{t.docs.length>this.casosSinPresupuesto&&this.mostrarNotificacion("Cliente sin presupuesto","Se debe enviar un presupuesto al cliente"),this.casosSinPresupuesto=t.docs.length});const a=Object(c["j"])(Object(c["b"])(p,"clientes"),Object(c["m"])("confirmaCaso","==","0"));this.unsuscribeClientesLlamar=Object(c["h"])(a,t=>{t.docs.length>this.clientesLlamar&&this.mostrarNotificacion("Llamar a cliente","Se necesita confirmar la especialidad para el cliente"),this.clientesLlamar=t.docs.length})},desuscribirseEscuchadores(){console.log("Desuscribiendo de los escuchadores..."),this.unsuscribeCasosSinAsignar&&this.unsuscribeCasosSinAsignar(),this.unsuscribeCasosSinPresupuesto&&this.unsuscribeCasosSinPresupuesto(),this.unsuscribeClientesLlamar&&this.unsuscribeClientesLlamar()},mostrarNotificacion(t,e){if("granted"===Notification.permission){const a=new Notification(t,{body:e,appName:"Crms",icon:"./src/img/vue-logo.png"});a.onclick=function(t){console.log("Notificación clicada",t)}}else"denied"!==Notification.permission&&Notification.requestPermission().then(a=>{"granted"===a&&this.mostrarNotificacion(t,e)})}}},C=f,b=(a("21ae"),a("2877")),g=Object(b["a"])(C,i,o,!1,null,null,null),h=g.exports,_=a("8c4f"),y=function(){var t=this,e=t._self._c;return e("div",[t.authState.isAuthenticated?e("div",{staticClass:"wrapper"},[e("side-bar",{staticStyle:{background:"#0f2a24"}},[e("template",{slot:"links"},[t._l(t.routesWithoutChildren,(function(a,s){return e("sidebar-link",{key:s,class:t.currentPage===s?"currentPage":"",style:{display:t.needShow(a.path)?"block":"none"},attrs:{to:a.path,name:a.name}})})),t._l(t.crmRoutes,(function(a,s){return e("sidebar-link",{key:"crm-"+s,class:t.currentPage===t.getCrmRouteIndex(a.path)?"currentPage":"",style:{display:t.needShow(a.path)?"block":"none"},attrs:{to:a.path,name:a.name}})})),e("div",{staticClass:"mt-2",staticStyle:{width:"100%"},on:{click:t.logout}},[e("sidebar-link",{attrs:{to:"/",name:"Desconectarse"}})],1)],2),e("mobile-menu")],2),e("div",{staticClass:"main-panel"},[t.isMobile?e("div",{staticClass:"mobile-buttons"},[e("button",{staticClass:"btn btn-primary mobile-menu-button",attrs:{type:"button","aria-label":"Menú",title:"Menú"},on:{click:t.toggleSidebarVisibility}},[e("i",{staticClass:"ti-menu"})])]):t._e(),e("router-view"),e("content-footer")],1)],1):e("div",[e("router-view")],1)])},w=[],k=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"container-fluid d-flex flex-wrap justify-content-center align-items-center"},[e("div",{staticClass:"footer-brand"},[e("img",{staticClass:"footer-logo",attrs:{src:"/favicon.svg",alt:"CRMS Logo"}}),e("span",{staticClass:"footer-text"},[t._v("CRMS")]),e("span",{staticClass:"trademark"},[t._v("®")]),e("span",{staticClass:"year"},[t._v(t._s(t.currentYear))])]),t._m(0)])])},A=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer-version"},[e("span",{staticClass:"version-text"},[t._v("v 19.06.25")])])}],x={computed:{currentYear(){return(new Date).getFullYear()}}},S=x,O=(a("d61b"),Object(b["a"])(S,k,A,!1,null,"e124956a",null)),D=O.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"container-fluid card py-4",staticStyle:{overflow:"scroll"}},[e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("router-view")],1)],1)])},j=[],E={},N=E,T=(a("4caf"),Object(b["a"])(N,P,j,!1,null,null,null)),I=T.exports,F=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"nav navbar-nav nav-mobile-menu"},[t._t("default")],2)},$=[],M={},L=M,R=Object(b["a"])(L,F,$,!1,null,null,null),z=R.exports,B=a("b9d1"),U={components:{ContentFooter:D,DashboardContent:I,MobileMenu:z},data(){return{dataUser:null,currentPage:0,lastLogin:null,authState:{isAuthenticated:!1,user:null},isMobile:!1,routesWatch:[],crmSections:[],routes:[{path:"/crm-dinamico",name:"CRM Dinámico",icon:"ti-settings"}],routesWithChildren:[],openDropdowns:[],crmRoutes:[]}},computed:{routesWithoutChildren(){return this.routes.filter(t=>!t.children)}},methods:{toggleSidebar(){this.$sidebar.showSidebar&&this.$sidebar.displaySidebar(!1)},toggleSidebarVisibility(){this.$sidebar.displaySidebar(!this.$sidebar.showSidebar)},updateIsMobile(){this.isMobile=window.innerWidth<=992},needShow(t){if("#"===t||void 0===t)return!0;if("/crm-dinamico"===t)return!0;if(t.startsWith("/crm-seccion/"))return!0;const e=t.replace("/","");return this.routesWatch.some(t=>t.path===e&&!0===t.visibility)},logout(){const t=Object(v["b"])();Object(v["e"])(t).then(()=>{this.authState.isAuthenticated=!1,this.authState.user=null,localStorage.removeItem("userInform"),this.$router.push("/login")}).catch(t=>{console.error("Error al hacer logout:",t)})},async checkLogIn(){const t=await Object(v["b"])(),e=Object(c["f"])();Object(v["c"])(t,async t=>{this.authState.isAuthenticated=!!t,this.authState.user=t,await Object(c["k"])(Object(c["d"])(e,"users",t.uid),{email:t.email,lastLogin:(new Date).toISOString()},{merge:!0}),this.dataUser=JSON.parse(localStorage.getItem("userInform"))?JSON.parse(localStorage.getItem("userInform")):t,setTimeout(()=>{const t=localStorage.getItem("userInform");this.routesWatch=t&&JSON.parse(t).routes||[]},"200")})},separateRoutes(){this.routesWithChildren=this.routes.filter(t=>t.children&&t.children.length>0)},getRouteIndex(t){for(let e=0;e<this.routesWithChildren.length;e++){const a=this.routesWithChildren[e];if(a.children){const s=a.children.findIndex(e=>e.path===t);if(-1!==s)return e}}return-1},toggleDropdown(t){this.openDropdowns.includes(t)?this.openDropdowns=this.openDropdowns.filter(e=>e!==t):this.openDropdowns.push(t)},checkAutoOpenDropdown(){const t=this.$route.path;for(let e=0;e<this.routesWithChildren.length;e++){const a=this.routesWithChildren[e];if(a.children){const s=a.children.some(e=>e.path===t);s&&!this.openDropdowns.includes(e)&&this.openDropdowns.push(e)}}},async loadCrmSections(){try{const t=await B["g"].getAll();if(this.crmSections=Array.isArray(t)?t:t.data||[],this.generateCrmRoutes(),"/crm-dinamico"===this.$route.path&&this.crmSections.length>0){const t=this.crmSections[0],e="/crm-seccion/"+this.sanitizePath(t.nombre);this.$router.push(e)}}catch(t){this.crmSections=[],this.crmRoutes=[],console.error("Error al cargar secciones del CRM:",t)}},generateCrmRoutes(){this.crmRoutes=this.crmSections.map(t=>({path:"/crm-seccion/"+this.sanitizePath(t.nombre),name:t.nombre,icon:"ti-folder",sectionId:t._id||t.id||t.nombre}))},sanitizePath(t){return t.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")},getCrmRouteIndex(t){return this.crmRoutes.findIndex(e=>e.path===t)}},async mounted(){this.currentPage=this.routes.findIndex(t=>t.path===this.$route.path),this.separateRoutes(),this.checkAutoOpenDropdown(),await this.loadCrmSections(),this.checkLogIn(),this.updateIsMobile(),window.addEventListener("resize",this.updateIsMobile),setTimeout(()=>{this.loadCrmSections()},500),window.addEventListener("storage",t=>{"crmSecciones"===t.key&&this.loadCrmSections()}),window.addEventListener("crmSectionsUpdated",()=>{this.loadCrmSections()})},beforeDestroy(){window.removeEventListener("resize",this.updateIsMobile)},watch:{$route(t,e){console.log("Te encuentras en la URL: ",t.fullPath),this.currentPage=this.routes.findIndex(e=>e.path===t.path),this.checkAutoOpenDropdown();const a=this.getCrmRouteIndex(t.path);-1!==a&&(this.currentPage=a)},"authState.isAuthenticated"(t){t&&this.checkLogIn()}}},q=U,V=(a("5469"),Object(b["a"])(q,y,w,!1,null,null,null)),H=V.exports,G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"contact-us full-screen"},[e("nav",{staticClass:"navbar navbar-ct-default",attrs:{role:"navigation-demo"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"navbar-header"},[t._m(0),e("router-link",{staticClass:"navbar-brand",attrs:{to:{path:"/"}}},[t._v("Site title")])],1),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navigation-example-2"}},[e("ul",{staticClass:"nav navbar-nav navbar-right"},[e("li",[e("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1)])])])]),t._m(1),e("footer",{staticClass:"footer-demo"},[e("div",{staticClass:"container"},[e("nav",{staticClass:"pull-left"},[e("ul",[e("li",[e("router-link",{attrs:{to:{path:"/"}}},[t._v("Home")])],1),e("li",[e("router-link",{attrs:{to:{path:"/register"}}},[t._v("Register")])],1)])]),t._m(2)])])])},J=[function(){var t=this,e=t._self._c;return e("button",{staticClass:"navbar-toggle",attrs:{type:"button","data-toggle":"collapse","data-target":"#navigation-example-2"}},[e("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper wrapper-full-page section content"},[e("div",{},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-8 col-md-offset-2 text-center"},[e("h2",{staticClass:"title text-danger"},[t._v("404 Not Found")]),e("h2",{staticClass:"title"},[t._v("\n              Oops! It seems that this page does not exist.\n            ")])])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"copyright pull-right"},[t._v("\n        © 2017, made with\n        "),e("i",{staticClass:"fa fa-heart heart"}),t._v(" by Paper admin\n      ")])}],Q={},Y=Q,W=Object(b["a"])(Y,G,J,!1,null,null,null),K=W.exports,Z=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-xl-3",on:{click:function(e){return t.$router.push({path:"listado-clientes-llamar",query:{llamada:"1"}})}}},[e("stats-card",[e("div",{staticClass:"icon-big text-center",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"ti-pulse"})]),e("div",{staticClass:"numbers",attrs:{slot:"content"},slot:"content"},[e("p",[t._v("Clientes para llamar")]),t._v("\n          "+t._s(t.clientesLlamar)+"\n        ")])])],1),e("div",{staticClass:"col-md-6 col-xl-3",on:{click:function(e){return t.$router.push({name:"casos-sin-asignar"})}}},[e("stats-card",[e("div",{staticClass:"icon-big text-center",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"ti-pulse"})]),e("div",{staticClass:"numbers",attrs:{slot:"content"},slot:"content"},[e("p",[t._v("Casos sin asignar")]),t._v("\n          "+t._s(t.casosSinAsignar)+"\n        ")])])],1),e("div",{staticClass:"col-md-6 col-xl-3",on:{click:function(e){return t.$router.push({name:"clientes-sin-presupuesto"})}}},[e("stats-card",{on:{click:function(e){return t.$router.push({name:"ClientesSinPresupuesto"})}}},[e("div",{staticClass:"icon-big text-center",attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"ti-pulse"})]),e("div",{staticClass:"numbers",attrs:{slot:"content"},slot:"content"},[e("p",[t._v("Clientes sin presupuesto")]),t._v("\n          "+t._s(t.clientesSinPresupuesto)+"\n        ")])])],1)]),e("div",{staticClass:"q-mt-xl"},[e("div",{staticClass:"row items-center q-mb-md",staticStyle:{"align-items":"center"}},[e("button",{staticClass:"btn btn-light",staticStyle:{"font-size":"1.5em"},on:{click:function(e){return t.cambiarMes(-1)}}},[t._v("←")]),e("span",{staticClass:"text-h6 q-mx-md",staticStyle:{margin:"0 16px"}},[t._v("\n        "+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual)+"\n      ")]),e("button",{staticClass:"btn btn-light",staticStyle:{"font-size":"1.5em"},on:{click:function(e){return t.cambiarMes(1)}}},[t._v("→")])]),e("div",{staticClass:"text-h5 text-center"},[t._v("Casos cerrados "+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual)+": "),e("b",[t._v(t._s(t.casosMes))])]),e("div",{staticClass:"q-mt-lg distribucion-row"},[e("div",{staticClass:"distribucion-col"},[e("h6",{staticClass:"text-center"},[t._v("Distribución por comunidad "+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual))]),e("div",{staticClass:"barh-chart"},t._l(t.comunidadesOrdenadas,(function(a,s){return e("div",{key:"barh-"+s,staticClass:"barh-item"},[e("span",{staticClass:"barh-label"},[t._v(t._s(a.nombre))]),e("div",{staticClass:"barh-bar-wrap"},[e("div",{staticClass:"barh-bar",style:{width:18*a.valor+"px"}}),e("span",{staticClass:"barh-value"},[t._v(t._s(a.valor))])])])})),0)]),e("div",{staticClass:"distribucion-col"},[e("h6",{staticClass:"text-center"},[t._v("Distribución por perito "+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual))]),e("div",{staticClass:"barh-chart"},t._l(t.distribucionPeritos,(function(a,s){return e("div",{key:"barh-perito-"+s,staticClass:"barh-item"},[e("span",{staticClass:"barh-label"},[t._v(t._s(a.nombre)+" "+t._s(a.apellidos))]),e("div",{staticClass:"barh-bar-wrap"},[e("div",{staticClass:"barh-bar",style:{width:18*a.valor+"px",background:"#43a047"}}),e("span",{staticClass:"barh-value"},[t._v(t._s(a.valor))])])])})),0)])]),e("div",{staticClass:"distribucion-row"},[e("div",{staticClass:"distribucion-col q-mt-lg",staticStyle:{"max-width":"400px",margin:"60px auto 0"}},[e("h6",{staticClass:"text-center"},[t._v("Distribución por tipo de cliente ("+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual)+")")]),e("div",{staticClass:"pie-chart-wrap"},[e("div",{staticClass:"pie-chart",style:t.pieChartStyle}),e("div",{staticClass:"pie-legend"},[e("div",[e("span",{staticClass:"pie-dot pie-particular"}),t._v(" Particular: "+t._s(t.pieData.particular))]),e("div",[e("span",{staticClass:"pie-dot pie-despacho"}),t._v(" Despacho: "+t._s(t.pieData.despacho))])])])]),e("div",{staticClass:"distribucion-col q-mt-lg",staticStyle:{"max-width":"400px",margin:"60px auto 0"}},[e("h6",{staticClass:"text-center"},[t._v("Distribución por especialidad ("+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual)+")")]),e("div",{staticClass:"pie-chart-wrap"},[e("div",{staticClass:"pie-chart",style:t.pieEspecialidadesStyle}),e("div",{staticClass:"pie-legend"},t._l(t.pieEspecialidades,(function(a,s){return e("div",{key:"esp-"+s},[e("span",{staticClass:"pie-dot",style:{background:t.pieColors[s%t.pieColors.length]}}),t._v("\n              "+t._s(a.nombre)+": "+t._s(a.valor)+"\n            ")])})),0)])])]),e("div",{staticClass:"q-mt-lg",staticStyle:{"max-width":"600px",margin:"60px auto 0"}},[e("h6",{staticClass:"text-center"},[t._v("Top Despachos ("+t._s(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][t.mesActual])+" "+t._s(t.anioActual)+")")]),e("div",{staticClass:"barh-chart"},t._l(t.topDespachos,(function(a,s){return e("div",{key:"desp-"+s,staticClass:"barh-item"},[e("span",{staticClass:"barh-label"},[t._v(t._s(a.nombre))]),e("div",{staticClass:"barh-bar-wrap"},[e("div",{staticClass:"barh-bar",style:{width:18*a.valor+"px",background:"#9c27b0"}}),e("span",{staticClass:"barh-value"},[t._v(t._s(a.valor))])])])})),0)]),e("div",{staticClass:"text-h5 mt-5"},[t._v("Graficos de casos cerrados últimos 6 meses")]),e("div",{staticClass:"q-mt-md",staticStyle:{"max-width":"700px",margin:"40px auto 0"}},[e("div",{staticClass:"bar-chart"},t._l(t.casosUltimos6Meses.datasets[0].data,(function(a,s){return e("div",{key:s,staticClass:"bar-item"},[e("div",{staticClass:"bar-value",staticStyle:{"margin-bottom":"4px"}},[t._v(t._s(a))]),e("div",{staticClass:"bar",style:{height:6*a+10+"px"},attrs:{title:a}}),e("div",{staticClass:"bar-label"},[t._v(t._s(t.casosUltimos6Meses.labels[s]))])])})),0)])])])},X=[],tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"form-group",class:{"input-group":t.hasIcon}},[t._t("label",(function(){return[t.label?e("label",{staticClass:"control-label"},[t._v("\n      "+t._s(t.label)+"\n    ")]):t._e()]})),t._t("addonLeft",(function(){return[t.addonLeftIcon?e("span",{staticClass:"input-group-prepend"},[e("i",{staticClass:"input-group-text",class:t.addonLeftIcon})]):t._e()]})),e("input",t._b({staticClass:"form-control",attrs:{"aria-describedby":"addon-right addon-left"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}},"input",t.$attrs,!1)),t._t("default"),t._t("addonRight",(function(){return[t.addonRightIcon?e("span",{staticClass:"input-group-append"},[e("i",{staticClass:"input-group-text",class:t.addonRightIcon})]):t._e()]}))],2)},et=[],at={inheritAttrs:!1,name:"fg-input",props:{label:String,value:[String,Number],addonRightIcon:String,addonLeftIcon:String},computed:{hasIcon(){const{addonRight:t,addonLeft:e}=this.$slots;return void 0!==t||void 0!==e||void 0!==this.addonRightIcon||void 0!==this.addonLeftIcon}}},st=at,it=Object(b["a"])(st,tt,et,!1,null,null,null),ot=it.exports,nt=function(){var t=this,e=t._self._c;return e(t.tag,{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],tag:"component",staticClass:"dropdown",class:{show:t.isOpen},on:{click:t.toggleDropDown}},[e("a",{staticClass:"dropdown-toggle btn-rotate",class:t.titleClasses,attrs:{"data-toggle":"dropdown"}},[t._t("title",(function(){return[e("i",{class:t.icon}),e("span",{staticClass:"notification"},[t._v(t._s(t.title)+"\n        "),e("b",{staticClass:"caret"})])]}))],2),e("ul",{staticClass:"dropdown-menu",class:{show:t.isOpen}},[t._t("default")],2)])},ct=[],rt={props:{tag:{type:String,default:"li"},title:String,icon:String,titleClasses:[String,Object,Array]},data(){return{isOpen:!1}},methods:{toggleDropDown(){this.isOpen=!this.isOpen,this.$emit("change",this.isOpen)},closeDropDown(){this.isOpen=!1,this.$emit("change",!1)}}},lt=rt,dt=Object(b["a"])(lt,nt,ct,!1,null,null,null),ut=dt.exports,pt=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table",class:t.tableClass},[e("thead",[t._t("columns",(function(){return t._l(t.columns,(function(a){return e("th",{key:a},[t._v(t._s(a))])}))}))],2),e("tbody",t._l(t.data,(function(a,s){return e("tr",{key:s},[t._t("default",(function(){return t._l(t.columns,(function(s,i){return t.hasValue(a,s)?e("td",{key:i},[t._v("\n          "+t._s(t.itemValue(a,s))+"\n        ")]):t._e()}))}),{row:a})],2)})),0)])},mt=[],vt={name:"paper-table",props:{columns:Array,data:Array,type:{type:String,default:"striped"},title:{type:String,default:""},subTitle:{type:String,default:""}},computed:{tableClass(){return"table-"+this.type}},methods:{hasValue(t,e){return"undefined"!==t[e.toLowerCase()]},itemValue(t,e){return t[e.toLowerCase()]}}},ft=vt,Ct=Object(b["a"])(ft,pt,mt,!1,null,null,null),bt=Ct.exports,gt=function(){var t=this,e=t._self._c;return e(t.tag,{tag:"component",staticClass:"btn",class:[{"btn-round":t.round},{"btn-block":t.block},{"btn-just-icon":t.icon},{["btn-"+t.type]:t.type&&!t.outline},{["btn-outline-"+t.type]:t.type&&t.outline},{["btn-"+t.size]:t.size},{"btn-link":t.simple}],attrs:{type:t.nativeType,disabled:t.disabled||t.loading}},[t._t("loading",(function(){return[t.loading?e("i",{staticClass:"fa fa-spinner fa-spin"}):t._e()]})),t._t("default")],2)},ht=[],_t={name:"p-button",props:{tag:{type:String,default:"button"},round:Boolean,icon:Boolean,outline:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,type:{type:String,default:"default"},nativeType:{type:String,default:"button"},size:{type:String,default:""},simple:Boolean}},yt=_t,wt=Object(b["a"])(yt,gt,ht,!1,null,null,null),kt=wt.exports,At=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t.$slots.image?e("div",{staticClass:"card-image"},[t._t("image")],2):t._e(),t.$slots.header||t.title?e("div",{staticClass:"card-header"},[t._t("header",(function(){return[e("h4",{staticClass:"card-title"},[t._v(t._s(t.title))]),t.subTitle?e("p",{staticClass:"card-category"},[t._v(t._s(t.subTitle))]):t._e()]}))],2):t._e(),t.$slots.default?e("div",{staticClass:"card-body"},[t._t("default")],2):t._e(),t._t("raw-content"),t.$slots.footer?e("div",{staticClass:"card-footer"},[e("hr"),t._t("footer")],2):t._e()],2)},xt=[],St={name:"card",props:{title:String,subTitle:String}},Ot=St,Dt=Object(b["a"])(Ot,At,xt,!1,null,null,null),Pt=Dt.exports,jt=function(){var t=this,e=t._self._c;return e("card",[e("template",{slot:"header"},[t.$slots.title||t.title?e("h4",{staticClass:"card-title"},[t._t("title",(function(){return[t._v("\n        "+t._s(t.title)+"\n      ")]}))],2):t._e(),e("p",{staticClass:"card-category"},[t._t("subTitle",(function(){return[t._v("\n        "+t._s(t.subTitle)+"\n      ")]}))],2)]),e("div",[e("div",{staticClass:"ct-chart",attrs:{id:t.chartId}}),e("div",{staticClass:"footer"},[e("div",{staticClass:"chart-legend"},[t._t("legend")],2),e("hr"),e("div",{staticClass:"stats"},[t._t("footer")],2),e("div",{staticClass:"pull-right"})])])],2)},Et=[],Nt={name:"chart-card",components:{Card:Pt},props:{footerText:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""},chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:()=>({})},chartData:{type:Object,default:()=>({labels:[],series:[]})}},data(){return{chartId:"no-id"}},methods:{initChart(t){const e="#"+this.chartId;t[this.chartType](e,this.chartData,this.chartOptions)},updateChartId(){const t=(new Date).getTime().toString(),e=this.getRandomInt(0,t);this.chartId="div_"+e},getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}},mounted(){this.updateChartId(),a.e("chunk-2d219ff9").then(a.t.bind(null,"ba48",7)).then(t=>{let e=t.default||t;this.$nextTick(()=>{this.initChart(e)})})}},Tt=Nt,It=Object(b["a"])(Tt,jt,Et,!1,null,null,null),Ft=It.exports,$t=function(){var t=this,e=t._self._c;return e("card",[e("div",[e("div",{staticClass:"row"},[t.$slots.header?e("div",{staticClass:"col-5"},[t._t("header")],2):t._e(),t.$slots.content?e("div",{staticClass:"col-7"},[t._t("content")],2):t._e()]),t.$slots.footer?e("div",[e("hr"),t._t("footer")],2):t._e()])])},Mt=[],Lt={name:"stats-card",components:{Card:Pt}},Rt=Lt,zt=Object(b["a"])(Rt,$t,Mt,!1,null,null,null),Bt=zt.exports,Ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebar",attrs:{"data-background-color":t.backgroundColor,"data-active-color":t.activeColor}},[e("div",{staticClass:"sidebar-wrapper pt-4",staticStyle:{background:"#0f2a24"}},[t._t("default"),e("ul",{staticClass:"nav"},[t._t("links",(function(){return t._l(t.sidebarLinks,(function(t,a){return e("sidebar-link",{key:a,staticStyle:{color:"red !important"},attrs:{to:t.path,name:t.name,icon:t.icon}})}))}))],2),e("moving-arrow",{attrs:{"move-y":t.arrowMovePx}})],2)])},qt=[],Vt=function(){var t=this,e=t._self._c;return e("div")},Ht=[],Gt={props:{moveY:{type:Number,default:0}},computed:{arrowStyle(){return{transform:`translate3d(0px, ${this.moveY}px, 0px)`}}}},Jt=Gt,Qt=(a("c374"),Object(b["a"])(Jt,Vt,Ht,!1,null,null,null)),Yt=Qt.exports,Wt=function(){var t=this,e=t._self._c;return e(t.tag,t._b({tag:"component",staticClass:"nav-item",attrs:{tag:"li"},nativeOn:{click:function(e){return t.hideSidebar.apply(null,arguments)}}},"component",t.$attrs,!1),[e("a",{staticClass:"nav-link"},[t._t("default",(function(){return[t.icon?e("i",{class:t.icon}):t._e(),e("p",[t._v(t._s(t.name))])]}))],2)])},Kt=[],Zt={name:"sidebar-link",inheritAttrs:!1,inject:{autoClose:{default:!0},addLink:{default:()=>{}},removeLink:{default:()=>{}}},props:{name:String,icon:String,tag:{type:String,default:"router-link"}},methods:{hideSidebar(){this.autoClose&&this.$sidebar.displaySidebar(!1)},isActive(){return this.$el.classList.contains("active")}},mounted(){this.addLink&&this.addLink(this)},beforeDestroy(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeLink&&this.removeLink(this)}},Xt=Zt,te=Object(b["a"])(Xt,Wt,Kt,!1,null,null,null),ee=te.exports,ae={props:{title:{type:String,default:"Crms"},backgroundColor:{type:String,default:"black",validator:t=>{let e=["white","black","darkblue"];return-1!==e.indexOf(t)}},activeColor:{type:String,default:"success",validator:t=>{let e=["primary","info","success","warning","danger"];return-1!==e.indexOf(t)}},sidebarLinks:{type:Array,default:()=>[]},autoClose:{type:Boolean,default:!0}},provide(){return{autoClose:this.autoClose,addLink:this.addLink,removeLink:this.removeLink}},components:{MovingArrow:Yt,SidebarLink:ee},computed:{arrowMovePx(){return this.linkHeight*this.activeLinkIndex}},data(){return{linkHeight:65,activeLinkIndex:0,windowWidth:0,isWindows:!1,hasAutoHeight:!1,links:[]}},methods:{findActiveLink(){this.links.forEach((t,e)=>{t.isActive()&&(this.activeLinkIndex=e)})},addLink(t){const e=this.$slots.links.indexOf(t.$vnode);this.links.splice(e,0,t)},removeLink(t){const e=this.links.indexOf(t);e>-1&&this.links.splice(e,1)}},mounted(){this.$watch("$route",this.findActiveLink,{immediate:!0})}},se=ae,ie=Object(b["a"])(se,Ut,qt,!1,null,null,null),oe=ie.exports;const ne={showSidebar:!1,sidebarLinks:[],displaySidebar(t){this.showSidebar=t}},ce={install(t){let e=new t({data:{sidebarStore:ne}});t.prototype.$sidebar=e.sidebarStore,t.component("side-bar",oe),t.component("sidebar-link",ee)}};var re=ce;const le=["Andalucía","Aragón","Asturias","Islas Baleares","Canarias","Cantabria","Castilla y León","Castilla-La Mancha","Cataluña","Comunidad Valenciana","Extremadura","Galicia","Madrid","Murcia","Navarra","País Vasco","La Rioja","Ceuta","Melilla"],de=["Álava","Albacete","Alicante","Almería","Ávila","Badajoz","Baleares","Barcelona","Burgos","Cáceres","Cádiz","Cantabria","Castellón","Ciudad Real","Córdoba","La Coruña","Cuenca","Gerona","Granada","Guadalajara","Guipúzcoa","Huelva","Huesca","Jaén","León","Lérida","Lugo","Madrid","Málaga","Murcia","Navarra","Orense","Palencia","Las Palmas","Pontevedra","La Rioja","Salamanca","Segovia","Sevilla","Soria","Tarragona","Santa Cruz de Tenerife","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza","Ceuta","Melilla"];var ue={components:{StatsCard:Bt,ChartCard:Ft},setup(){const t=Object(s["ref"])(0),e=Object(s["ref"])(0),a=Object(s["ref"])(0),i=(Object(s["ref"])([]),Object(s["ref"])([]),Object(s["ref"])(!1)),o=Object(s["ref"])(!1),n=Object(s["ref"])({labels:[],datasets:[{label:"Usuarios por día",backgroundColor:["#f87979","#a9d0f5","#f8e71c","#50e3c2"],data:[]}]}),r=Object(s["ref"])({labels:[],datasets:[{label:"Usuarios por día",backgroundColor:["#f87979"],data:[]}]}),l=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("telEspecialista","==",null),Object(c["m"])("status","==","0"),Object(c["m"])("confirmaCaso","==","1"));Object(c["h"])(l,e=>{t.value=e.docs.length});const d=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("status","==","1"));Object(c["h"])(d,t=>{e.value=t.docs.length});const u=Object(c["j"])(Object(c["b"])(p,"clientes"),Object(c["m"])("confirmaCaso","==","0"));Object(c["h"])(u,t=>{a.value=t.docs.length});const m=Object(s["ref"])((new Date).getMonth()),v=Object(s["ref"])((new Date).getFullYear()),f=Object(s["ref"])(0),C=Object(s["ref"])([]),b=async()=>{const t=new Date(v.value,m.value,1).getTime(),e=new Date(v.value,m.value+1,1).getTime(),a=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("status","in",["3","4"]),Object(c["m"])("presupuestoAceptado",">=",t),Object(c["m"])("presupuestoAceptado","<",e)),s=await Object(c["e"])(a),i=s.docs.map(t=>({id:t.id,...t.data()}));C.value=i,f.value=i.length;const o=Array(le.length).fill(0),n={};let r=0,l=0;const d={},u={},b=new Set,g=new Set,h=new Set,y=new Set;for(const c of i)c.telCliente&&b.add(c.telCliente),c.telEspecialista&&g.add(c.telEspecialista),c.especialidad&&h.add(c.especialidad),"1"!==c.tipoCliente&&1!==c.tipoCliente||!c.idDespacho||y.add(c.idDespacho),"1"===c.tipoCliente||1===c.tipoCliente?l++:r++;let w=[];b.size>0&&(w=await E(Object(c["b"])(p,"clientes"),"tel",Array.from(b)));const k={};for(const c of w)k[c.tel]=c;for(const c of i){if(!c.telCliente)continue;const t=k[c.telCliente];if(!t)continue;const e="number"===typeof t.comunidad?t.comunidad:parseInt(t.comunidad);!isNaN(e)&&e>=0&&e<le.length&&o[e]++}O.value.data=o;let A=[];g.size>0&&(A=await E(Object(c["b"])(p,"especialistas"),"tel",Array.from(g)));const x={};for(const c of A)x[c.tel]=c;for(const c of i)c.telEspecialista&&(n[c.telEspecialista]||(n[c.telEspecialista]={count:0,nombre:"",apellidos:""}),n[c.telEspecialista].count++);const S=[];for(const c in n){const t=x[c];S.push({nombre:t&&t.nombre?t.nombre:c,apellidos:t&&t.apellidos?t.apellidos:"",valor:n[c].count})}S.sort((t,e)=>e.valor-t.valor),D.value=S;let N=[];h.size>0&&(N=await E(Object(c["b"])(p,"especialidades"),"__name__",Array.from(h)));const T={};for(const c of N)T[c.id]=c;for(const c of i)c.especialidad&&(d[c.especialidad]||(d[c.especialidad]=0),d[c.especialidad]++);const I=[];for(const c in d){const t=T[c];I.push({nombre:t&&t.nombre?t.nombre:c,valor:d[c]})}I.sort((t,e)=>e.valor-t.valor),j.value=I;let F=[];y.size>0&&(F=await E(Object(c["b"])(p,"despachos"),"__name__",Array.from(y)));const $={};for(const c of F)$[c.id]=c;for(const c of i)"1"!==c.tipoCliente&&1!==c.tipoCliente||c.idDespacho&&(u[c.idDespacho]||(u[c.idDespacho]=0),u[c.idDespacho]++);const M=[];for(const c in u){const t=$[c];M.push({nombre:t&&t.nombre?t.nombre:c,valor:u[c]})}M.sort((t,e)=>e.valor-t.valor),_.value=M,P.value={particular:r,despacho:l}},g=Object(s["computed"])(()=>{const t=j.value.reduce((t,e)=>t+e.valor,0);if(0===t)return{background:"#eee"};let e=0,a=j.value.map((a,s)=>{const i=Math.round(e/t*100);e+=a.valor;const o=Math.round(e/t*100),n=h[s%h.length];return`${n} ${i}% ${o}%`});return{background:`conic-gradient(${a.join(", ")})`}}),h=["#f87979","#50e3c2","#1976d2","#f8e71c","#a9d0f5","#43a047","#ff9800","#e91e63","#9c27b0","#00bcd4","#8bc34a","#ffc107","#795548","#607d8b"],_=Object(s["ref"])([]),y=Object(s["ref"])({labels:[],datasets:[{label:"Casos cerrados últimos 6 meses",backgroundColor:["#50e3c2"],data:[]}]}),w=Object(s["ref"])(!1),k=async()=>{const t=new Date,e=[],a=[];for(let i=5;i>=0;i--){const s=new Date(t.getFullYear(),t.getMonth()-i,1),o=s.getFullYear(),n=s.getMonth();e.push({anio:o,mes:n}),a.push(["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][n]+" "+o)}const s=[];for(const{anio:i,mes:o}of e){const t=new Date(i,o,1).getTime(),e=new Date(i,o+1,1).getTime(),a=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("status","in",["3","4"]),Object(c["m"])("presupuestoAceptado",">=",t),Object(c["m"])("presupuestoAceptado","<",e)),n=await Object(c["e"])(a);s.push(n.docs.length)}y.value.labels=a,y.value.datasets[0].data=s,w.value=!0},A=Object(s["computed"])(()=>le.map((t,e)=>({nombre:t,valor:O.value.data[e]})).filter(t=>t.valor>0).sort((t,e)=>e.valor-t.valor)),x=Object(s["computed"])(()=>{const t=P.value.particular+P.value.despacho;if(0===t)return{background:"#eee"};const e=Math.round(P.value.particular/t*100);return{background:`conic-gradient(#1de9b6 0% ${e}%, #1976d2 ${e}% 100%)`}}),S=t=>{let e=m.value+t,a=v.value;e<0?(e=11,a--):e>11&&(e=0,a++),m.value=e,v.value=a,b(),k()},O=Object(s["ref"])({labels:le,data:Array(le.length).fill(0)}),D=Object(s["ref"])([]),P=Object(s["ref"])({particular:0,despacho:0}),j=Object(s["ref"])([]);async function E(t,e,a){const s=30,i=[];for(let o=0;o<a.length;o+=s){const n=a.slice(o,o+s),r=Object(c["j"])(t,Object(c["m"])(e,"in",n)),l=await Object(c["e"])(r);i.push(...l.docs.map(t=>({...t.data(),id:t.id})))}return i}return Object(s["onMounted"])(()=>{b(),k()}),{casosSinAsignar:t,clientesSinPresupuesto:e,usersPerDay:n,usersPerComunity:r,endData:i,endDataComunity:o,clientesLlamar:a,chartOptions:{responsive:!0,maintainAspectRatio:!1},mesActual:m,anioActual:v,casosMes:f,cambiarMes:S,casosUltimos6Meses:y,endData6Meses:w,distribucionComunidades:O,comunidades:le,comunidadesOrdenadas:A,distribucionPeritos:D,pieData:P,pieChartStyle:x,pieEspecialidades:j,pieEspecialidadesStyle:g,pieColors:h,topDespachos:_}}},pe=ue,me=(a("3b23"),Object(b["a"])(pe,Z,X,!1,null,null,null)),ve=me.exports,fe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listado-clientes-container"},[t.showSuccess?e("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Cliente borrado correctamente")]):t._e(),t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"table-section"},[e("div",{staticClass:"table-header"},[e("h2",[t._v("Filtros de Búsqueda")]),e("button",{staticClass:"btn-add",on:{click:function(e){t.createModal=!0}}},[e("i",{staticClass:"ti-plus"}),t._v(" Añadir Cliente\n        ")])]),e("div",{staticClass:"filters-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nombreInput"}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.nombre,expression:"filters.nombre"}],staticClass:"form-control",attrs:{id:"nombreInput",type:"text",placeholder:"Buscar por nombre"},domProps:{value:t.filters.nombre},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filters,"nombre",e.target.value)}}})])]),e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"emailInput"}},[t._v("Correo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.email,expression:"filters.email"}],staticClass:"form-control",attrs:{id:"emailInput",type:"email",placeholder:"Buscar por correo"},domProps:{value:t.filters.email},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filters,"email",e.target.value)}}})])]),e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"telefonoInput"}},[t._v("Teléfono")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.telefono,expression:"filters.telefono"}],staticClass:"form-control",attrs:{id:"telefonoInput",type:"text",placeholder:"Buscar por teléfono"},domProps:{value:t.filters.telefono},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filters,"telefono",e.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"orderSelect"}},[t._v("Ordenar por")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],staticClass:"form-control",attrs:{id:"orderSelect"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.order=e.target.multiple?a:a[0]},t.handleOrderChange]}},[e("option",{attrs:{value:"fechaCreacion"}},[t._v("Fecha de creación")]),e("option",{attrs:{value:"nombre"}},[t._v("Nombre")])])])]),e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"orderDirection"}},[t._v("Dirección")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.orderDirection,expression:"orderDirection"}],staticClass:"form-control",attrs:{id:"orderDirection"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orderDirection=e.target.multiple?a:a[0]},t.handleOrderChange]}},[e("option",{attrs:{value:"desc"}},[t._v("Descendente")]),e("option",{attrs:{value:"asc"}},[t._v("Ascendente")])])])]),e("div",{staticClass:"col-md-4 mb-3 d-flex align-items-end"},[e("div",{staticClass:"w-100"},[e("button",{staticClass:"btn-search",on:{click:t.fetchData}},[e("i",{staticClass:"ti-search"}),t._v(" Buscar\n              ")]),e("button",{staticClass:"btn-clear",on:{click:t.clearFilters}},[e("i",{staticClass:"ti-eraser"}),t._v(" Limpiar\n              ")])])])])])]),e("div",{staticClass:"table-section"},[t._m(1),e("Listados",{attrs:{items:t.filteredClientes,fields:t.fields,"current-page":t.currentPage},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"tableActions",fn:function({data:a}){return[t.showAsAdmin?e("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(e){return t.editClient(a.item)}}},[e("i",{staticClass:"ti-pencil"})]):t._e(),t.showAsAdmin?e("button",{staticClass:"btn-delete",attrs:{title:"Borrar"},on:{click:function(e){return t.deleteClient(a.item)}}},[e("i",{staticClass:"ti-trash"})]):t._e(),e("button",{staticClass:"btn-view",attrs:{title:"Ver"},on:{click:function(e){t.$router.push(t.navigateToProfile(a.item))}}},[e("i",{staticClass:"ti-eye"})])]}}])})],1),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Editar cliente\n      ")]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.nombre,expression:"clientToEdit.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clientToEdit.nombre},on:{input:function(e){e.target.composing||t.$set(t.clientToEdit,"nombre",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Apellidos")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.apellidos,expression:"clientToEdit.apellidos"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clientToEdit.apellidos},on:{input:function(e){e.target.composing||t.$set(t.clientToEdit,"apellidos",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Fecha de nacimiento")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.fechaNacimiento,expression:"clientToEdit.fechaNacimiento"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.clientToEdit.fechaNacimiento},on:{input:function(e){e.target.composing||t.$set(t.clientToEdit,"fechaNacimiento",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Teléfono(s)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.telefono,expression:"clientToEdit.telefono"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.clientToEdit.telefono},on:{input:function(e){e.target.composing||t.$set(t.clientToEdit,"telefono",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.email,expression:"clientToEdit.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clientToEdit.email},on:{input:function(e){e.target.composing||t.$set(t.clientToEdit,"email",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Código postal")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.codigoPostal,expression:"clientToEdit.codigoPostal"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.clientToEdit.codigoPostal},on:{input:function(e){e.target.composing||t.$set(t.clientToEdit,"codigoPostal",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Dirección")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.direccion,expression:"clientToEdit.direccion"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clientToEdit.direccion},on:{input:function(e){e.target.composing||t.$set(t.clientToEdit,"direccion",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Notas adicionales")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.clientToEdit.notas,expression:"clientToEdit.notas"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.clientToEdit.notas},on:{input:function(e){e.target.composing||t.$set(t.clientToEdit,"notas",e.target.value)}}})]),e("b-button",{staticClass:"btn-search mx-5 mt-4",on:{click:t.saveChanges}},[t._v("Guardar cambios")])],1)]),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Borrar cliente\n      ")]},proxy:!0}]),model:{value:t.modalDelete,callback:function(e){t.modalDelete=e},expression:"modalDelete"}},[e("div",{staticClass:"text-center"},[e("p",[t._v("¿Estás seguro de que quieres eliminar al cliente "),e("strong",[t._v(t._s(t.clientToDelete.nombre)+" "+t._s(t.clientToDelete.apellidos))]),t._v("?")]),e("p",{staticClass:"text-danger"},[t._v("Esta acción no se puede deshacer.")]),e("div",{staticClass:"mt-3"},[e("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.deleteUser}},[t._v("Eliminar")]),e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.modalDelete=!1}}},[t._v("Cancelar")])],1)])]),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Añadir cliente\n      ")]},proxy:!0}]),model:{value:t.createModal,callback:function(e){t.createModal=e},expression:"createModal"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.nombre,expression:"createUser.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createUser.nombre},on:{input:function(e){e.target.composing||t.$set(t.createUser,"nombre",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Apellidos")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.apellidos,expression:"createUser.apellidos"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createUser.apellidos},on:{input:function(e){e.target.composing||t.$set(t.createUser,"apellidos",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Fecha de nacimiento (si aplica)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.fechaNacimiento,expression:"createUser.fechaNacimiento"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.createUser.fechaNacimiento},on:{input:function(e){e.target.composing||t.$set(t.createUser,"fechaNacimiento",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Teléfono(s)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.telefono,expression:"createUser.telefono"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.createUser.telefono},on:{input:function(e){e.target.composing||t.$set(t.createUser,"telefono",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.email,expression:"createUser.email"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createUser.email},on:{input:function(e){e.target.composing||t.$set(t.createUser,"email",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Código postal")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.codigoPostal,expression:"createUser.codigoPostal"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.createUser.codigoPostal},on:{input:function(e){e.target.composing||t.$set(t.createUser,"codigoPostal",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Dirección")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createUser.direccion,expression:"createUser.direccion"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createUser.direccion},on:{input:function(e){e.target.composing||t.$set(t.createUser,"direccion",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Notas adicionales")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.createUser.notas,expression:"createUser.notas"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createUser.notas},on:{input:function(e){e.target.composing||t.$set(t.createUser,"notas",e.target.value)}}})])]),e("b-button",{staticClass:"btn-search mt-4",on:{click:t.addClient}},[t._v("Añadir cliente")])],1)],1)],1)},Ce=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-user"}),t._v("\n        Listado de Clientes\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Gestión y administración de clientes")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-header"},[e("h2",[t._v("Listado de Clientes")])])}],be=function(){var t=this,e=t._self._c;return e("div",[t._t("filters"),t._t("order"),t.items.length>0?e("b-pagination",{staticClass:"mt-3 pagination",attrs:{"total-rows":t.items.length,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e(),t.paginatedItems.length>0?e("div",{staticClass:"table-container"},[e("b-table",{attrs:{items:t.paginatedItems,fields:t.fields,striped:"",hover:""},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[t._t("tableActions",null,{data:e})]}}],null,!0)})],1):e("div",{staticClass:"no-elements"},[t._v("\n    No hay elementos con el filtro seleccionado\n  ")])],2)},ge=[],he={props:{items:{type:Array,required:!0},fields:{type:Array,required:!0},perPage:{type:Number,default:10},currentPage:{type:Number,default:1}},setup(t,{emit:e}){const a=Object(s["computed"])({get:()=>t.currentPage,set:t=>{e("page-changed",t)}}),i=Object(s["computed"])(()=>{const e=(t.currentPage-1)*t.perPage,a=e+t.perPage,s=t.items.slice(e,a);return s});return{currentPage:a,paginatedItems:i}}},_e=he,ye=(a("e891"),Object(b["a"])(_e,be,ge,!1,null,"b8655ac8",null)),we=ye.exports,ke=function(){var t=this,e=t._self._c;return e("form",{class:t.formClass,on:{submit:function(e){return e.preventDefault(),t.handleSubmit("search")}}},[e("div",{staticClass:"row"},t._l(t.filters,(function(a,s){return e("div",{key:s,class:t.fieldClass},[e("label",{attrs:{for:a.name}},[t._v(t._s(a.label))]),"input"===a.type?e("b-form-input",{staticClass:"mb-3",attrs:{placeholder:a.placeholder,type:a.typeInput?a.typeInput:"text",value:a.value},on:{input:function(e){return t.handleSubmit("text")}},model:{value:t.formData[a.name].value,callback:function(e){t.$set(t.formData[a.name],"value",e)},expression:"formData[filter.name].value"}}):t._e()],1)})),0),e("div",{staticClass:"row"},[t.btnText?e("p-button",{attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.handleSubmit("btn")}}},[t._v("\n      "+t._s(t.btnText)+"\n    ")]):t._e()],1)])},Ae=[],xe={name:"FormComponent",props:{filters:{type:Array,required:!0,validator:t=>t.every(t=>"input"!==t.type||("undefined"===typeof t.value||"string"===typeof t.value||"number"===typeof t.value))},initialData:{type:Object,default:()=>({})},btnText:{type:String,required:!1},formClass:{type:String,default:""},fieldClass:{type:String,default:""},immediateSubmit:{type:Boolean,default:!0}},data(){return{formData:this.initializeFormData()}},methods:{initializeFormData(){const t={};return this.filters.forEach(e=>{"input"===e.type&&(t[e.name]={value:e.value||""})}),t},handleSubmit(t){const e={};Object.keys(this.formData).forEach(t=>{e[t]=this.formData[t].value}),this.immediateSubmit&&"text"===t?this.$emit("submit",e):"btn"!==t&&"search"!==t||(this.$emit("submit",e),"search"===t&&this.$emit("search"))}},watch:{filters:{handler(t){t.forEach(t=>{"input"===t.type&&(this.formData[t.name]?this.formData[t.name].value=t.value||"":this.$set(this.formData,t.name,{value:t.value||""}))})},deep:!0,immediate:!0}},created(){this.formData=this.initializeFormData()}},Se=xe,Oe=(a("42e2"),Object(b["a"])(Se,ke,Ae,!1,null,"66b1c9c9",null)),De=Oe.exports,Pe=a("19f6"),je={components:{Listados:we,Formulario:De},setup(){const t=Object(s["ref"])({nombre:"",apellidos:"",telefono:"",email:"",direccion:"",notas:"",codigoPostal:"",fechaNacimiento:"",fechaCreacion:(new Date).getTime()}),e=Object(s["ref"])(!1),a=Object(s["ref"])([]),i=(Object(s["ref"])([]),Object(s["ref"])({})),o=(Object(s["ref"])({}),Object(s["ref"])(!1)),n=Object(s["ref"])(!1),c=Object(s["ref"])(!1),r=Object(s["ref"])({}),l=Object(s["ref"])(1),d=JSON.parse(localStorage.getItem("userInform")),u=Object(s["computed"])(()=>!(!d.admin||!0!==d.admin)),p=Object(s["ref"])({nombre:"",email:"",telefono:""}),m=Object(s["ref"])("fechaCreacion"),v=Object(s["ref"])("desc"),f=[{key:"dias",label:"Días alta"},{key:"nombre",label:"Nombre"},{key:"apellidos",label:"Apellidos"},{key:"email",label:"Correo"},{key:"telefono",label:"Teléfono"},{key:"actions",label:""}],C=async()=>{try{const t={};p.value.nombre.trim()&&(t.nombre=p.value.nombre.trim()),p.value.email.trim()&&(t.email=p.value.email.trim()),p.value.telefono.trim()&&(t.telefono=p.value.telefono.trim()),console.log("Parámetros enviados a la API:",t),console.log(t);const e=await Pe["a"].getAll(t);console.log("Respuesta de la API:",e),a.value=e}catch(t){console.error("Error al obtener clientes:",t)}},b=()=>{p.value.nombre="",p.value.email="",p.value.telefono="",m.value="fechaCreacion",v.value="desc",C()},g=()=>{console.log("Cambio de ordenamiento:",{order:m.value,direction:v.value})},h=Object(s["computed"])(()=>{let t=a.value;return t.forEach(t=>{if(t.fechaCreacion){const e=new Date(t.fechaCreacion),a=new Date,s=a-e,i=Math.floor(s/864e5);t.dias=i}else t.dias=0;t.fechaCreacion&&(t.fechaCreacionFormatted=new Date(t.fechaCreacion).toLocaleDateString("es-ES"))}),t.sort((t,e)=>{let a=t[m.value],s=e[m.value];if("fechaCreacion"===m.value?(a=new Date(a||0).getTime(),s=new Date(s||0).getTime()):"string"===typeof a&&(a=a.toLowerCase(),s=s.toLowerCase()),"asc"===v.value){if(a<s)return-1;if(a>s)return 1}else{if(a>s)return-1;if(a<s)return 1}return 0}),t}),_=t=>{console.log(t),i.value=t,o.value=!0},y=t=>{l.value=parseInt(t),C()},w=async()=>{await Pe["a"].create(t.value);t.value={nombre:"",apellidos:"",telefono:"",email:"",direccion:"",notas:"",codigoPostal:"",fechaNacimiento:"",fechaCreacion:(new Date).getTime()},e.value=!1,C()};Object(s["onMounted"])(()=>{C()});const k=async()=>{const t=await Pe["a"].update(i.value._id,i.value);console.log(t),o.value=!1,C(),console.log(i.value._id)},A=async()=>{try{await Pe["a"].delete(r.value._id),c.value=!0,n.value=!1,C(),setTimeout(()=>{c.value=!1},3e3)}catch(t){console.error("Error al eliminar el cliente:",t)}},x=t=>({name:"UserProfile",params:{id:t._id}});return{navigateToProfile:x,createUser:t,saveChanges:k,createModal:e,fields:f,filteredClientes:h,editClient:_,modalShow:o,clientToEdit:i,modalDelete:n,clientToDelete:r,showSuccess:c,showAsAdmin:u,addClient:w,deleteUser:A,deleteClient:t=>{r.value=t,n.value=!0},filters:p,order:m,orderDirection:v,clearFilters:b,handleOrderChange:g,fetchData:C,currentPage:l,handlePageChange:y}}},Ee=je,Ne=(a("b14e"),Object(b["a"])(Ee,fe,Ce,!1,null,"0bfdb272",null)),Te=Ne.exports,Ie=function(){var t=this,e=t._self._c;return e("div",[t.showSuccess?e("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Cliente borrado correctamente")]):t._e(),e("h2",[t._v("Listado clientes genérico")]),e("b-button",{on:{click:function(e){t.createModal=!0}}},[t._v("Añadir cita")]),e("Listados",{attrs:{items:t.filteredClientes,fields:t.fields,"current-page":t.currentPage},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"filters",fn:function(){return[e("Formulario",{attrs:{filters:t.filterFields,formClass:"form-filters",fieldClass:"col-4",initialData:t.filters},on:{submit:t.handleFiltersSubmit,search:t.fetchData}}),e("b-button",{staticClass:"mt-2",attrs:{variant:"primary"},on:{click:t.fetchData}},[t._v("Buscar")])]},proxy:!0},{key:"order",fn:function(){return[e("div",{staticClass:"col-3 pl-0"},[e("label",{attrs:{for:""}},[t._v("Ordenar por:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.order=e.target.multiple?a:a[0]}}},t._l(t.orderColumnList,(function(a,s){return e("option",{key:s,domProps:{value:a.key}},[t._v(t._s(a.label))])})),0)])]},proxy:!0},{key:"tableActions",fn:function({data:a}){return[t.showAsAdmin?e("b-button",{staticClass:"ml-3",attrs:{size:"sm"},on:{click:function(e){return t.editClient(a.item)}}},[t._v("Editar cliente")]):t._e(),t.showAsAdmin?e("b-button",{staticClass:"ml-3 mt-3",attrs:{size:"sm"},on:{click:function(e){return t.deleteClient(a.item)}}},[t._v("Borrar cliente")]):t._e(),e("b-button",{staticClass:"mt-3 mx-3",attrs:{size:"sm"},on:{click:function(e){t.$router.push(t.navigateToProfile(a.item))}}},[t._v("Ver cliente")])]}}])}),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Ver caso abierto\n    ")]},proxy:!0}]),model:{value:t.modalOpenCase,callback:function(e){t.modalOpenCase=e},expression:"modalOpenCase"}},[e("formulario-confirma-caso",{attrs:{cases:t.cases,case:t.caseToEdit},on:{sendCheckCase:t.recivedCheckCase}})],1),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Editar cliente\n    ")]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[e("formulario-cliente",{attrs:{client:t.clientToEdit},on:{sendForm:t.recivedInfo}})],1),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Agregar caso\n    ")]},proxy:!0}]),model:{value:t.modalCase,callback:function(e){t.modalCase=e},expression:"modalCase"}},[e("formulario-caso",{on:{sendCase:t.recivedCase}})],1),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Borrar cliente\n    ")]},proxy:!0}]),model:{value:t.modalDelete,callback:function(e){t.modalDelete=e},expression:"modalDelete"}},[e("borrar-persona",{attrs:{client:t.clientToDelete},on:{deleteClient:t.deleteUser,cancelDelete:function(e){t.modalDelete=!1}}})],1),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Añadir cliente\n    ")]},proxy:!0}]),model:{value:t.createModal,callback:function(e){t.createModal=e},expression:"createModal"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Cliente")]),e("input",{staticClass:"form-control",attrs:{type:"text"}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Fecha")]),e("input",{staticClass:"form-control",attrs:{type:"date"}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Hora")]),e("input",{staticClass:"form-control",attrs:{type:"hour"}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Tipo de servicio")]),e("input",{staticClass:"form-control",attrs:{type:"text"}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Empleado asignado")]),e("input",{staticClass:"form-control",attrs:{type:"number"}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Estado")]),e("input",{staticClass:"form-control",attrs:{type:"text"}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Notas internas")]),e("textarea",{staticClass:"form-control",attrs:{type:"text"}})])])])],1)},Fe=[],$e=function(){var t=this,e=t._self._c;return e("div",[e("form",{on:{submit:function(e){return e.preventDefault(),t.sendInfo.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("fg-input",{attrs:{type:"text",label:"Nombre",placeholder:"Nombre"},model:{value:t.user.nombre,callback:function(e){t.$set(t.user,"nombre",e)},expression:"user.nombre"}})],1),e("div",{staticClass:"col-md-6"},[e("fg-input",{attrs:{type:"text",label:"Apellidos",placeholder:"Apellidos"},model:{value:t.user.apellidos,callback:function(e){t.$set(t.user,"apellidos",e)},expression:"user.apellidos"}})],1),e("div",{staticClass:"col-md-6"},[e("fg-input",{attrs:{type:"text",label:"Correo",placeholder:"Correo"},model:{value:t.user.correo,callback:function(e){t.$set(t.user,"correo",e)},expression:"user.correo"}})],1),t.client?t._e():e("div",{staticClass:"col-md-6"},[e("fg-input",{attrs:{type:"text",label:"Teléfono",placeholder:"Teléfono"},model:{value:t.user.tel,callback:function(e){t.$set(t.user,"tel",e)},expression:"user.tel"}})],1),e("div",{staticClass:"custom-select-wrapper col-md-6"},[e("label",{attrs:{for:""}},[t._v("Comunidad Autonoma")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.comunidad,expression:"user.comunidad"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"comunidad",e.target.multiple?a:a[0])}}},t._l(t.comunidades,(function(a,s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(a))])})),0)]),e("div",{staticClass:"custom-select-wrapper col-md-6"},[e("label",{attrs:{for:""}},[t._v("Provincias")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.provincia,expression:"user.provincia"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"provincia",e.target.multiple?a:a[0])}}},t._l(t.provincias,(function(a,s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(a))])})),0)]),e("div",{staticClass:"custom-select-wrapper col-md-6 mt-2"},[e("fg-input",{attrs:{type:"text",label:"Población",placeholder:"Población"},model:{value:t.user.poblacion,callback:function(e){t.$set(t.user,"poblacion",e)},expression:"user.poblacion"}})],1),e("div",{staticClass:"custom-select-wrapper col-md-6 mt-2"},[e("label",{staticStyle:{display:"block"}},[t._v("Observaciones")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.observaciones,expression:"user.observaciones"}],staticStyle:{width:"100%",border:"none","background-color":"#fffcf5",padding:"7px 18px"},attrs:{type:"text",label:"Observaciones",rows:"3"},domProps:{value:t.user.observaciones},on:{input:function(e){e.target.composing||t.$set(t.user,"observaciones",e.target.value)}}})]),t.client||t.isDespacho?t._e():e("div",{staticClass:"custom-select-wrapper col-md-12 mb-3"},[e("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1"},model:{value:t.altaCaso,callback:function(e){t.altaCaso=e},expression:"altaCaso"}},[t._v(" Dar de alta caso ")]),"0"===t.caso.tipoCliente?e("b-form-checkbox",{attrs:{id:"checkbox-2",name:"checkbox-2"},model:{value:t.necesitaAbogado,callback:function(e){t.necesitaAbogado=e},expression:"necesitaAbogado"}},[t._v(" Necesita abogado ")]):t._e()],1),t.altaCaso?e("div",{staticClass:"col-12"},[e("h3",[t._v("Datos del caso ")])]):t._e(),t.altaCaso?e("div",{staticClass:"custom-select-wrapper col-md-6"},[e("label",{attrs:{for:""}},[t._v("Tipo de contacto")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.especialidad,expression:"caso.especialidad"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.caso,"especialidad",e.target.multiple?a:a[0])}}},t._l(t.especialidades,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.nombre))])})),0)]):t._e(),t.altaCaso&&!t.isDespacho?e("div",{staticClass:"custom-select-wrapper col-md-6"},[e("label",{attrs:{for:""}},[t._v("Tipo de cliente")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.tipoCliente,expression:"caso.tipoCliente"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.caso,"tipoCliente",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"0"}},[t._v("Particular")]),e("option",{attrs:{value:"1"}},[t._v("Despacho")])])]):t._e(),"1"!==t.caso.tipoCliente||t.isDespacho?t._e():e("div",{staticClass:"custom-select-wrapper col-md-6"},[e("label",{attrs:{for:""}},[t._v("Despacho")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.despacho,expression:"despacho"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.despacho=e.target.multiple?a:a[0]}}},t._l(t.despachos,(function(a,s){return e("option",{key:s,domProps:{value:a}},[t._v(t._s(a.nombre))])})),0)]),e("div",{staticClass:"col-12 text-center mt-4 py-2"},[e("p-button",{attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.sendInfo.apply(null,arguments)}}},[t._v("\n          "+t._s(t.client?"Editar cliente":"Dar de alta cliente")+"\n        ")])],1)])])])},Me=[],Le={props:{client:{type:Object,require:!1}},setup(t,{emit:e}){const a=Object(s["ref"])(0),i=Object(s["ref"])(0),o=Object(s["ref"])([]),n=Object(s["ref"])(null),r=Object(s["ref"])({nombre:"",apellidos:"",correo:"",tel:"",comunidad:"",provincia:"",poblacion:"",observaciones:"Abogados: \nPlazos: \nHistoria clínica:",confirmaCaso:"0"}),l=Object(s["ref"])({}),d=Object(s["computed"])(()=>l.value.despacho),u=Object(s["ref"])({nombreDespacho:"",idDespacho:"",tipoCliente:"",especialidad:"",status:"0",confirmaCaso:"0",necesitaAbogado:"0",statusAbogado:null}),m=Object(s["ref"])([]),v=async()=>{if(m.value=(await Object(c["e"])(Object(c["b"])(p,"especialidades"))).docs.map(t=>({id:t.id,...t.data()})),o.value=(await Object(c["e"])(Object(c["b"])(p,"despachos"))).docs.map(t=>({id:t.id,...t.data()})),o.value.sort((t,e)=>{if("string"===typeof t["nombre"]){if(t["nombre"].toLowerCase()<e["nombre"].toLowerCase())return-1;if(t["nombre"].toLowerCase()>e["nombre"].toLowerCase())return 1}else{if(t["nombre"]<e["nombre"])return-1;if(t["nombre"]>e["nombre"])return 1}return 0}),l.value.despacho){const t=o.value.find(t=>t.nombre===l.value.nombre);console.log(t),console.log(l.value.tipoCliente),a.value=!0,n.value=t,u.value.idDespacho=t.id,u.value.nombreDespacho=t.nombre,u.value.tipoCliente="1"}};Object(s["onMounted"])(()=>{l.value=JSON.parse(localStorage.getItem("userInform")),v()}),t.client&&(r.value={...t.client},r.value.comunidad=le.findIndex(t=>t===r.value.comunidad),r.value.provincia=de.findIndex(t=>t===r.value.provincia));const f=()=>{n.value&&(u.value.idDespacho=n.value.id,u.value.nombreDespacho=n.value.nombre),u.value.necesitaAbogado=i.value?"1":"0",u.value.statusAbogado=i.value?"0":null,e("sendForm",{...r.value},{...u.value}),r.value={nombre:"",apellidos:"",correo:"",tel:"",comunidad:"",provincia:"",poblacion:"",observaciones:"Abogados: \nPlazos: \nHistoria clínica:",confirmaCaso:"0"},u.value={nombreDespacho:"",idDespacho:"",tipoCliente:"",especialidad:"",status:"0",confirmaCaso:"0",necesitaAbogado:"0",statusAbogado:null}};return{user:r,isDespacho:d,caso:u,comunidades:le,provincias:de,altaCaso:a,especialidades:m,necesitaAbogado:i,sendInfo:f,despachos:o,despacho:n}}},Re=Le,ze=(a("5ec6"),Object(b["a"])(Re,$e,Me,!1,null,null,null)),Be=ze.exports,Ue=function(){var t=this,e=t._self._c;return e("div",[e("form",{on:{submit:function(e){return e.preventDefault(),t.sendInfo.apply(null,arguments)}}},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"custom-select-wrapper col-md-6"},[e("label",{attrs:{for:""}},[t._v("Tipo de contacto")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.especialidad,expression:"caso.especialidad"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.caso,"especialidad",e.target.multiple?a:a[0])}}},t._l(t.especialidades,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.nombre))])})),0)]),e("div",{staticClass:"custom-select-wrapper col-md-6"},[e("label",{attrs:{for:""}},[t._v("Tipo de cliente")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.tipoCliente,expression:"caso.tipoCliente"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.caso,"tipoCliente",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"0"}},[t._v("Particular")]),e("option",{attrs:{value:"1"}},[t._v("Despacho")])])]),"1"===t.caso.tipoCliente?e("div",{staticClass:"custom-select-wrapper col-md-6"},[e("fg-input",{attrs:{type:"text",label:"Nombre del despacho",placeholder:"Despacho"}})],1):t._e(),e("div",{staticClass:"custom-select-wrapper col-md-12 mt-4"},[e("label",{attrs:{for:""}},[t._v("Necesita llamada de confirmacion")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.confirmaCaso,expression:"caso.confirmaCaso"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.caso,"confirmaCaso",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"0"}},[t._v("SI Necesita segunda llamada")]),e("option",{attrs:{value:"1"}},[t._v("NO Necesita segunda llamada")])])]),e("div",{staticClass:"col-12 text-center mt-4"},[e("p-button",{attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.sendInfo.apply(null,arguments)}}},[t._v("\n          Dar de alta caso\n        ")])],1)])])])},qe=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12"},[e("h3",[t._v("Datos del caso ")])])}],Ve={props:{client:{type:Object,require:!1}},setup(t,{emit:e}){const a=Object(s["ref"])({nombreDespacho:"",tipoCliente:"",especialidad:"",status:"0",confirmaCaso:"1"}),i=Object(s["ref"])([]),o=async()=>{i.value=(await Object(c["e"])(Object(c["b"])(p,"especialidades"))).docs.map(t=>({id:t.id,...t.data()}))},n=()=>{e("sendCase",{...a.value})};return Object(s["onMounted"])(()=>{o()}),{caso:a,sendInfo:n,especialidades:i}}},He=Ve,Ge=(a("125a"),Object(b["a"])(He,Ue,qe,!1,null,null,null)),Je=Ge.exports,Qe=function(){var t=this,e=t._self._c;return e("div",[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("span",[t._v("¿Estás seguro que deseas eliminar a "+t._s(t.client.apellidos?t.client.nombre+t.client.apellidos:t.client.nombre)+"?")])]),e("div",{staticClass:"col-12 text-center mt-4"},[e("p-button",{attrs:{type:"danger",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.deleteClient.apply(null,arguments)}}},[t._v("\n          Sí, borrar\n        ")]),e("p-button",{staticClass:"ml-3",attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.cancelDelete.apply(null,arguments)}}},[t._v("\n          No, cancelar\n        ")])],1)])])])},Ye=[],We={props:{client:{type:Object,require:!1}},setup(t,{emit:e}){const a=()=>{e("cancelDelete")},s=()=>{e("deleteClient")};return{deleteClient:s,cancelDelete:a}}},Ke=We,Ze=(a("3b19"),Object(b["a"])(Ke,Qe,Ye,!1,null,null,null)),Xe=Ze.exports,ta=function(){var t=this,e=t._self._c;return e("div",[t.cases.length>0?e("form",{on:{submit:function(e){return e.preventDefault(),t.sendInfo.apply(null,arguments)}}},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-12"},[t._v("Cliente: "+t._s(t.cliente.nombre+" "+t.cliente.apellidos))]),e("div",{staticClass:"col-md-12 mt-2"},[t._v("\n      Telefono cliente: "+t._s(t.cliente.tel)+"\n      "),e("a",{staticClass:"mr-3",attrs:{href:"https://wa.me/34"+t.cliente.tel,target:"_blank"}},[t._v("Abrir en WhatsApp")]),e("a",{attrs:{href:"tel:+34"+t.cliente.tel}},[t._v("Llamar")])]),e("div",{staticClass:"col-md-12 mt-2"},[t._v("Correo: "+t._s(t.cliente.correo))]),e("div",{staticClass:"col-md-12 mt-2"},[t._v("Residencia cliente: "+t._s(t.cliente.comunidad+" ("+t.cliente.provincia+")"))]),e("div",{staticClass:"custom-select-wrapper col-md-12 mt-1"},[e("label",{staticStyle:{display:"block"}},[t._v("Observaciones")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cliente.observaciones,expression:"cliente.observaciones"}],staticStyle:{width:"100%",border:"none","background-color":"#fffcf5",padding:"7px 18px"},attrs:{type:"text",label:"Observaciones"},domProps:{value:t.cliente.observaciones},on:{input:function(e){e.target.composing||t.$set(t.cliente,"observaciones",e.target.value)}}})]),e("div",{staticClass:"custom-select-wrapper col-md-6 mt-3"},[e("label",{attrs:{for:""}},[t._v("Tipo de contacto")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.especialidad,expression:"caso.especialidad"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.caso,"especialidad",e.target.multiple?a:a[0])}}},t._l(t.especialidades,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.nombre))])})),0)]),e("div",{staticClass:"custom-select-wrapper col-md-6 mt-3"},[e("label",{attrs:{for:""}},[t._v("Tipo de cliente")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.caso.tipoCliente,expression:"caso.tipoCliente"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.caso,"tipoCliente",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"0"}},[t._v("Particular")]),e("option",{attrs:{value:"1"}},[t._v("Despacho")])])]),"1"===t.caso.tipoCliente?e("div",{staticClass:"custom-select-wrapper col-md-6"},[e("fg-input",{attrs:{type:"text",label:"Nombre del despacho",placeholder:"Despacho"},model:{value:t.caso.nombreDespacho,callback:function(e){t.$set(t.caso,"nombreDespacho",e)},expression:"caso.nombreDespacho"}})],1):t._e(),e("div",{staticClass:"col-12 text-center mt-4"},[e("p-button",{attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.sendInfo.apply(null,arguments)}}},[t._v("\n          Confirmar caso\n        ")])],1)])]):e("div",[t._v("\n      No hay casos asignados debes agregarle un caso\n  ")])])},ea=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12"},[e("h3",[t._v("Datos del caso ")])])}],aa={props:{case:{type:Object,require:!1},cases:{type:Array,require:!1},user:{type:Object,require:!1}},setup(t,{emit:e}){const a=Object(s["ref"])(t.case),i=Object(s["ref"])(t.user),o=Object(s["ref"])([]),n=async()=>{o.value=(await Object(c["e"])(Object(c["b"])(p,"especialidades"))).docs.map(t=>({id:t.id,...t.data()}))},r=()=>{e("sendCheckCase",{...a.value},{...i.value})};return Object(s["onMounted"])(()=>{n()}),{caso:a,cliente:i,sendInfo:r,especialidades:o}}},sa=aa,ia=(a("a09a"),Object(b["a"])(sa,ta,ea,!1,null,null,null)),oa=ia.exports,na={components:{FormularioCliente:Be,FormularioCaso:Je,FormularioConfirmaCaso:oa,BorrarPersona:Xe,Listados:we,Formulario:De},setup(){const t=Object(s["ref"])(!1),e=Object(s["ref"])([]),a=Object(s["ref"])([]),i=Object(s["ref"])({}),o=Object(s["ref"])({}),n=Object(s["ref"])(!1),r=Object(s["ref"])(!1),l=Object(s["ref"])(null),d=Object(s["ref"])(!1),u=Object(s["ref"])({}),m=Object(s["ref"])(!1),v=Object(s["ref"])(!1),f=Object(s["ref"])({}),C=Object(s["ref"])([]),b=Object(s["ref"])(1),g=JSON.parse(localStorage.getItem("userInform")),h=Object(s["computed"])(()=>!(!g.admin||!0!==g.admin)),_=Object(s["ref"])({searchQuery:"",searchQueryName:"",searchQuerySurname:""}),y=Object(s["ref"])([{name:"searchQuery",label:"Filtrar por teléfono",type:"input",placeholder:"Buscar por teléfono",value:""},{name:"searchQueryName",label:"Filtrar por nombre",type:"input",placeholder:"Buscar por nombre",value:""},{name:"searchQuerySurname",label:"Filtrar por apellidos",type:"input",placeholder:"Buscar por apellidos",value:""}]),w=[{key:"dias",label:"Dias alta"},{key:"nombre",label:"Nombre"},{key:"apellidos",label:"Apellidos"},{key:"correo",label:"Correo"},{key:"tel",label:"Teléfono"},{key:"comunidad",label:"Comunidad"},{key:"poblacion",label:"Población"},{key:"actions",label:""}],k=Object(s["ref"])(w[0].key),A=Object(s["computed"])(()=>w.slice(0,-1)),x=async()=>{let t=Object(c["b"])(p,"clientes"),a=[];_.value.searchQuery&&a.push(Object(c["m"])("tel",">=",_.value.searchQuery)),_.value.searchQueryName&&(a.push(Object(c["m"])("nombre",">=",_.value.searchQueryName)),a.push(Object(c["m"])("nombre","<=",_.value.searchQueryName+""))),_.value.searchQuerySurname&&(a.push(Object(c["m"])("apellidos",">=",_.value.searchQuerySurname)),a.push(Object(c["m"])("apellidos","<=",_.value.searchQuerySurname+""))),0===a.length&&a.push(Object(c["i"])("time","desc"),Object(c["g"])(30));const s=await Object(c["e"])(Object(c["j"])(t,...a));e.value=s.docs.map(t=>({id:t.id,...t.data()})),D()},S=t=>{Object.assign(_.value,t),y.value.forEach(e=>{e.value=t[e.name]||""}),R()},O=async()=>{const t=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("confirmaCaso","==","0"),Object(c["m"])("telCliente","==",l.value));C.value=(await Object(c["e"])(t)).docs.map(t=>({id:t.id,...t.data()})),u.value=C.value[0],d.value=!0},D=()=>{a.value=e.value.map(t=>{const e={...t};e.comunidad=le[e.comunidad],e.provincia=de[e.provincia],e.id=t.id,e.time=t.time?t.time:1723068e6;const a=new Date(e.time),s=new Date,i=s-a,o=Math.floor(i/864e5);return e.dias=o,e})},P=Object(s["computed"])(()=>{let t=a.value;return _.value.searchQuery&&(t=t.filter(t=>t.tel.includes(_.value.searchQuery))),_.value.searchQueryName&&(t=t.filter(t=>t.nombre.toLowerCase().includes(_.value.searchQueryName.toLowerCase()))),_.value.searchQuerySurname&&(t=t.filter(t=>t.apellidos.toLowerCase().includes(_.value.searchQuerySurname.toLowerCase()))),t.sort((t,e)=>{if("string"===typeof t[k.value]){if(t[k.value].toLowerCase()<e[k.value].toLowerCase())return-1;if(t[k.value].toLowerCase()>e[k.value].toLowerCase())return 1}else{if(t[k.value]<e[k.value])return-1;if(t[k.value]>e[k.value])return 1}return 0})}),j=t=>{i.value=t,n.value=!0},E=async()=>{try{const t=Object(c["d"])(p,"clientes",i.value.id);await Object(c["l"])(t,o.value),x(),n.value=!1}catch(t){console.error("Error al actualizar el cliente:",t)}},N=async()=>{try{const t=Object(c["d"])(p,"clientes",i.value.id);await Object(c["l"])(t,{confirmaCaso:o.value.confirmaCaso}),x(),n.value=!1}catch(t){console.error("Error al actualizar el cliente:",t)}},T=()=>{0===C.value.length&&(i.value.confirmaCaso="1",o.value=i.value,N(),d.value=!1)},I=async t=>{try{const e=Object(c["d"])(p,"casos",t.id);await Object(c["l"])(e,t),await O(),T()}catch(e){console.error("Error al actualizar el cliente:",e)}},F=t=>{o.value=t,E()},$=async t=>{t.telCliente=l.value,t.telEspecialista=null,t.status="0",t.time=(new Date).getTime(),"0"===t.confirmaCaso&&(i.value.confirmaCaso="0",o.value=i.value,N()),await Object(c["a"])(Object(c["b"])(p,"casos"),t),l.value=null,r.value=!1},M=async()=>{try{const t=Object(c["j"])(Object(c["b"])(p,"casos"),Object(c["m"])("telCliente","==",f.value.tel)),e=await Object(c["e"])(t),a=e.docs.map(t=>Object(c["c"])(Object(c["d"])(p,"casos",t.id)));await Promise.all(a)}catch(t){console.error("Error al eliminar clientes:",t)}},L=t=>{b.value=parseInt(t),R()},R=()=>{const t={filters:{},order:k.value,currentPage:b.value};y.value.forEach(e=>{t.filters[e.name]=e.value}),localStorage.setItem("listadoClientesState",JSON.stringify(t))},z=()=>{const t=localStorage.getItem("listadoClientesState");if(t){const e=JSON.parse(t);e.filters&&(y.value.forEach(t=>{t.value=e.filters[t.name]||""}),_.value={searchQuery:e.filters.searchQuery||"",searchQueryName:e.filters.searchQueryName||"",searchQuerySurname:e.filters.searchQuerySurname||""},k.value=e.order||w[0].key,e.currentPage&&(b.value=parseInt(e.currentPage))),x()}else x()};Object(s["watch"])(k,()=>{R()}),Object(s["watch"])(_,()=>{R()},{deep:!0}),Object(s["watch"])(b,()=>{R()});const B=t=>(R(),{name:"UserProfile",params:{id:t.id},query:{type:"cliente"}});Object(s["onMounted"])(()=>{z(),window.addEventListener("keyup",U)}),Object(s["onBeforeUnmount"])(()=>{R(),window.removeEventListener("keyup",U)});const U=t=>{"Enter"===t.key&&x()};return{createModal:t,formattedClientes:a,fields:w,filteredClientes:P,editClient:j,modalShow:n,clientToEdit:i,recivedInfo:F,modalDelete:m,recivedCase:$,modalCase:r,modalOpenCase:d,caseToEdit:u,cases:C,clientToDelete:f,showSuccess:v,showAsAdmin:h,deleteClient:t=>{f.value=t,m.value=!0},newCase:t=>{i.value=t,l.value=t.tel,r.value=!0},openCase:t=>{i.value=t,l.value=t.tel,O()},recivedCheckCase:t=>{t.confirmaCaso="1",I(t)},deleteUser:async()=>{M();try{await Object(c["c"])(Object(c["d"])(p,"clientes",f.value.id)),v.value=!0,m.value=!1,x(),setTimeout(()=>{v.value=!1},3e3)}catch(t){console.error("Error al eliminar el documento: ",t)}},filterFields:y,filters:_,handleFiltersSubmit:S,order:k,orderColumnList:A,fetchData:x,navigateToProfile:B,currentPage:b,handlePageChange:L}}},ca=na,ra=Object(b["a"])(ca,Ie,Fe,!1,null,null,null),la=ra.exports,da=function(){var t=this,e=t._self._c;return e("div",{staticClass:"agenda-container"},[e("div",{staticClass:"agenda-header"},[e("div",{staticClass:"header-content"},[e("button",{staticClass:"back-button",on:{click:function(e){return t.$router.back()}}},[e("i",{staticClass:"ti-arrow-left"}),t._v("\n        Volver al dashboard\n      ")]),e("h1",{staticClass:"agenda-title"},[t._v("Agenda de Citas")]),e("div",{staticClass:"view-controls"},[e("button",{staticClass:"view-btn",class:{active:"week"===t.currentView},on:{click:function(e){t.currentView="week"}}},[e("i",{staticClass:"ti-calendar"}),t._v("\n          Semana\n        ")]),e("button",{staticClass:"view-btn",class:{active:"month"===t.currentView},on:{click:function(e){t.currentView="month"}}},[e("i",{staticClass:"ti-calendar"}),t._v("\n          Mes\n        ")])])])]),e("div",{staticClass:"agenda-content"},[e("div",{staticClass:"navigation-controls"},[e("button",{staticClass:"nav-btn",on:{click:t.previousPeriod}},[e("i",{staticClass:"ti-arrow-left"})]),e("h2",{staticClass:"period-title"},[t._v(t._s(t.periodTitle))]),e("button",{staticClass:"nav-btn",on:{click:t.nextPeriod}},[e("i",{staticClass:"ti-arrow-right"})]),e("button",{staticClass:"today-btn",on:{click:t.goToToday}},[t._v("\n        Hoy\n      ")])]),"week"===t.currentView?e("div",{staticClass:"week-view"},[e("div",{staticClass:"week-header"},[e("div",{staticClass:"time-column-header"}),t._l(t.weekDays,(function(a){return e("div",{key:a.date,staticClass:"day-header",class:{today:a.isToday}},[e("div",{staticClass:"day-name"},[t._v(t._s(a.name))]),e("div",{staticClass:"day-date"},[t._v(t._s(a.date))])])}))],2),e("div",{staticClass:"week-grid"},[e("div",{staticClass:"time-slots"},t._l(t.businessHours,(function(a){return e("div",{key:a,staticClass:"time-slot"},[t._v("\n            "+t._s(t.formatHour(a))+"\n          ")])})),0),e("div",{staticClass:"week-columns"},t._l(t.weekDays,(function(a){return e("div",{key:a.fullDate,staticClass:"day-column"},t._l(t.businessHours,(function(s){return e("div",{key:s,staticClass:"time-cell",on:{click:function(e){return t.openAppointmentModal(a.fullDate,s)}}},[e("div",{staticClass:"appointments-container",class:{multiple:t.getAppointmentsForDayAndHour(a.fullDate,s).length>1}},t._l(t.getAppointmentsForDayAndHour(a.fullDate,s),(function(a){return e("div",{key:a.id,staticClass:"appointment-card",class:a.status,on:{click:function(e){return e.stopPropagation(),t.openAppointmentDetail(a)}}},[e("div",{staticClass:"appointment-time"},[t._v(t._s(a.hora))]),e("div",{staticClass:"appointment-client"},[t._v(t._s(a.cliente))]),e("div",{staticClass:"appointment-service"},[t._v(t._s(a.tipoServicio))]),e("div",{staticClass:"appointment-employee"},[t._v(t._s(a.empleado))]),e("div",{staticClass:"appointment-status",class:a.status},[t._v("\n                    "+t._s(t.getStatusText(a.status))+"\n                  ")])])})),0)])})),0)})),0)])]):t._e(),"month"===t.currentView?e("div",{staticClass:"month-view"},[e("div",{staticClass:"month-grid"},t._l(t.monthDays,(function(a){return e("div",{key:a.date,staticClass:"month-day",class:{today:a.isToday,otherMonth:a.otherMonth,hasAppointments:t.getAppointmentsForDay(a.fullDate).length>0},on:{click:function(e){return t.openDayView(a.fullDate)}}},[e("div",{staticClass:"day-number"},[t._v(t._s(a.dayNumber))]),e("div",{staticClass:"appointments-preview"},[t._l(["confirmada","pendiente","cancelada","completada"],(function(s){return t.getAppointmentsByStatus(a.fullDate,s).length>0?e("div",{key:s,staticClass:"appointment-count",class:s},[t._v("\n              "+t._s(t.getAppointmentsByStatus(a.fullDate,s).length)+"\n            ")]):t._e()})),0===t.getAppointmentsForDay(a.fullDate).length?e("div",{staticClass:"no-appointments"},[t._v("\n              -\n            ")]):t._e()],2)])})),0)]):t._e()]),e("b-modal",{attrs:{title:"Detalle de Cita",size:"lg","hide-footer":""},model:{value:t.showAppointmentDetail,callback:function(e){t.showAppointmentDetail=e},expression:"showAppointmentDetail"}},[t.selectedAppointment?e("div",{staticClass:"appointment-detail"},[e("div",{staticClass:"detail-section"},[e("h4",[e("i",{staticClass:"ti-user"}),t._v(" Cliente")]),e("p",[t._v(t._s(t.selectedAppointment.cliente))])]),e("div",{staticClass:"detail-section"},[e("h4",[e("i",{staticClass:"ti-calendar"}),t._v(" Fecha y Hora")]),e("p",[t._v(t._s(t.formatDateTime(t.selectedAppointment.fecha,t.selectedAppointment.hora)))])]),e("div",{staticClass:"detail-section"},[e("h4",[e("i",{staticClass:"ti-settings"}),t._v(" Tipo de Servicio")]),e("p",[t._v(t._s(t.selectedAppointment.tipoServicio))])]),e("div",{staticClass:"detail-section"},[e("h4",[e("i",{staticClass:"ti-user"}),t._v(" Empleado Asignado")]),e("p",[t._v(t._s(t.selectedAppointment.empleado))])]),e("div",{staticClass:"detail-section"},[e("h4",[e("i",{staticClass:"ti-flag"}),t._v(" Estado")]),e("span",{staticClass:"status-badge",class:t.selectedAppointment.status},[t._v("\n          "+t._s(t.getStatusText(t.selectedAppointment.status))+"\n        ")])]),t.selectedAppointment.notas?e("div",{staticClass:"detail-section"},[e("h4",[e("i",{staticClass:"ti-comment"}),t._v(" Notas Internas")]),e("p",[t._v(t._s(t.selectedAppointment.notas))])]):t._e(),e("div",{staticClass:"detail-actions"},[e("button",{staticClass:"btn-edit",on:{click:t.editAppointment}},[e("i",{staticClass:"ti-pencil"}),t._v(" Editar\n        ")]),e("button",{staticClass:"btn-delete",on:{click:t.deleteAppointment}},[e("i",{staticClass:"ti-trash"}),t._v(" Eliminar\n        ")])])]):t._e()]),e("b-modal",{attrs:{title:"Nueva Cita",size:"lg","hide-footer":""},model:{value:t.showNewAppointment,callback:function(e){t.showNewAppointment=e},expression:"showNewAppointment"}},[e("div",{staticClass:"new-appointment-form"},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Cliente")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.cliente,expression:"newAppointment.cliente"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nombre del cliente"},domProps:{value:t.newAppointment.cliente},on:{input:function(e){e.target.composing||t.$set(t.newAppointment,"cliente",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Fecha")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.fecha,expression:"newAppointment.fecha"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.newAppointment.fecha},on:{input:function(e){e.target.composing||t.$set(t.newAppointment,"fecha",e.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Hora")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.hora,expression:"newAppointment.hora"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.newAppointment.hora},on:{input:function(e){e.target.composing||t.$set(t.newAppointment,"hora",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Tipo de Servicio")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.tipoServicio,expression:"newAppointment.tipoServicio"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newAppointment,"tipoServicio",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Seleccionar servicio")]),e("option",{attrs:{value:"Consulta inicial"}},[t._v("Consulta inicial")]),e("option",{attrs:{value:"Seguimiento"}},[t._v("Seguimiento")]),e("option",{attrs:{value:"Juicio"}},[t._v("Juicio")]),e("option",{attrs:{value:"Firma de documentos"}},[t._v("Firma de documentos")]),e("option",{attrs:{value:"Reunión"}},[t._v("Reunión")])])])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Empleado Asignado")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.empleado,expression:"newAppointment.empleado"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newAppointment,"empleado",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Seleccionar empleado")]),e("option",{attrs:{value:"Dr. Carlos Martínez"}},[t._v("Dr. Carlos Martínez")]),e("option",{attrs:{value:"Dra. Ana García"}},[t._v("Dra. Ana García")]),e("option",{attrs:{value:"Dr. Luis Rodríguez"}},[t._v("Dr. Luis Rodríguez")])])]),e("div",{staticClass:"form-group"},[e("label",[t._v("Estado")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.status,expression:"newAppointment.status"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newAppointment,"status",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:"confirmada"}},[t._v("Confirmada")]),e("option",{attrs:{value:"pendiente"}},[t._v("Pendiente")]),e("option",{attrs:{value:"cancelada"}},[t._v("Cancelada")]),e("option",{attrs:{value:"completada"}},[t._v("Completada")])])])]),e("div",{staticClass:"form-group"},[e("label",[t._v("Notas Internas")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newAppointment.notas,expression:"newAppointment.notas"}],staticClass:"form-control",attrs:{rows:"3",placeholder:"Notas adicionales..."},domProps:{value:t.newAppointment.notas},on:{input:function(e){e.target.composing||t.$set(t.newAppointment,"notas",e.target.value)}}})]),e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn-cancel",on:{click:function(e){t.showNewAppointment=!1}}},[t._v("Cancelar")]),e("button",{staticClass:"btn-save",on:{click:t.saveAppointment}},[t._v("Guardar Cita")])])])])],1)},ua=[],pa={setup(){const t=Object(s["ref"])("week"),e=Object(s["ref"])(new Date),a=Object(s["ref"])(!1),i=Object(s["ref"])(!1),o=Object(s["ref"])(null),n=Object(s["ref"])(null),c=Object(s["ref"])(null),r=Object(s["ref"])([{id:1,cliente:"María González López",fecha:"2024-01-15",hora:"10:30",tipoServicio:"Consulta inicial",empleado:"Dr. Carlos Martínez",status:"confirmada",notas:"Cliente interesado en caso de despido improcedente"},{id:2,cliente:"Juan Pérez García",fecha:"2024-01-15",hora:"14:00",tipoServicio:"Seguimiento",empleado:"Dra. Ana García",status:"pendiente",notas:"Revisión de documentos del caso de familia"},{id:3,cliente:"Carmen Ruiz Martín",fecha:"2024-01-16",hora:"09:00",tipoServicio:"Juicio",empleado:"Dr. Luis Rodríguez",status:"confirmada",notas:"Audiencia judicial - Juzgado de lo Social"},{id:4,cliente:"Pedro Sánchez López",fecha:"2024-01-16",hora:"16:30",tipoServicio:"Firma de documentos",empleado:"Dr. Carlos Martínez",status:"completada",notas:"Firma de acuerdo de divorcio"},{id:5,cliente:"Isabel Moreno Jiménez",fecha:"2024-01-17",hora:"11:15",tipoServicio:"Reunión",empleado:"Dra. Ana García",status:"cancelada",notas:"Cliente canceló por motivos personales"}]),l=()=>{const t=new Date,e=f(t),a=[{id:1,cliente:"María González López",fecha:y(e),hora:"10:30",tipoServicio:"Consulta inicial",empleado:"Dr. Carlos Martínez",status:"confirmada",notas:"Cliente interesado en caso de despido improcedente"},{id:2,cliente:"Juan Pérez García",fecha:y(e),hora:"14:00",tipoServicio:"Seguimiento",empleado:"Dra. Ana García",status:"pendiente",notas:"Revisión de documentos del caso de familia"},{id:3,cliente:"Carmen Ruiz Martín",fecha:y(new Date(e.getTime()+864e5)),hora:"09:00",tipoServicio:"Juicio",empleado:"Dr. Luis Rodríguez",status:"confirmada",notas:"Audiencia judicial - Juzgado de lo Social"},{id:4,cliente:"Pedro Sánchez López",fecha:y(new Date(e.getTime()+864e5)),hora:"16:30",tipoServicio:"Firma de documentos",empleado:"Dr. Carlos Martínez",status:"completada",notas:"Firma de acuerdo de divorcio"},{id:5,cliente:"Isabel Moreno Jiménez",fecha:y(new Date(e.getTime()+1728e5)),hora:"11:15",tipoServicio:"Reunión",empleado:"Dra. Ana García",status:"cancelada",notas:"Cliente canceló por motivos personales"},{id:6,cliente:"Roberto Fernández",fecha:y(new Date(e.getTime()+2592e5)),hora:"08:00",tipoServicio:"Consulta inicial",empleado:"Dr. Carlos Martínez",status:"confirmada",notas:"Primera consulta sobre herencia"},{id:7,cliente:"Laura Martínez",fecha:y(new Date(e.getTime()+3456e5)),hora:"15:45",tipoServicio:"Seguimiento",empleado:"Dra. Ana García",status:"pendiente",notas:"Revisión de documentos de divorcio"},{id:8,cliente:"Ana López Silva",fecha:y(e),hora:"10:30",tipoServicio:"Consulta familiar",empleado:"Dra. Ana García",status:"confirmada",notas:"Consulta sobre custodia de menores"},{id:9,cliente:"Miguel Torres Vega",fecha:y(new Date(e.getTime()+864e5)),hora:"09:00",tipoServicio:"Seguimiento laboral",empleado:"Dr. Carlos Martínez",status:"pendiente",notas:"Revisión de expediente de accidente laboral"},{id:10,cliente:"Sofía Ramírez",fecha:y(new Date(e.getTime()+1728e5)),hora:"11:15",tipoServicio:"Firma de documentos",empleado:"Dr. Luis Rodríguez",status:"confirmada",notas:"Firma de contrato de arrendamiento"},{id:11,cliente:"Carlos Mendoza",fecha:y(new Date(e.getTime()+2592e5)),hora:"08:00",tipoServicio:"Juicio",empleado:"Dra. Ana García",status:"confirmada",notas:"Audiencia de divorcio contencioso"},{id:12,cliente:"Elena Castro",fecha:y(new Date(e.getTime()+3456e5)),hora:"15:45",tipoServicio:"Consulta inicial",empleado:"Dr. Luis Rodríguez",status:"pendiente",notas:"Primera consulta sobre derecho mercantil"}];r.value=a},d=Object(s["ref"])({cliente:"",fecha:"",hora:"",tipoServicio:"",empleado:"",status:"pendiente",notas:""}),u=Array.from({length:24},(t,e)=>e),p=Object(s["computed"])(()=>{if("week"===t.value){const t=f(e.value),a=C(e.value);return`${b(t)} - ${b(a)}`}return g(e.value)}),m=Object(s["computed"])(()=>{const t=f(e.value),a=[];for(let e=0;e<7;e++){const s=new Date(t);s.setDate(s.getDate()+e),a.push({name:h(s),date:_(s),fullDate:y(s),isToday:A(s)})}return a}),v=Object(s["computed"])(()=>{const t=e.value.getFullYear(),a=e.value.getMonth(),s=new Date(t,a,1),i=new Date(t,a+1,0),o=new Date(s),n=new Date(i),c=new Date(o),r=o.getDay(),l=0===r?6:r-1;c.setDate(c.getDate()-l);const d=[],u=new Date(c);while(u<=n||1!==u.getDay())d.push({dayNumber:u.getDate(),fullDate:y(u),isToday:A(u),otherMonth:u.getMonth()!==a}),u.setDate(u.getDate()+1);return d}),f=t=>{const e=new Date(t),a=e.getDay(),s=e.getDate()-a+(0===a?-6:1);return new Date(e.setDate(s))},C=t=>{const e=f(t),a=new Date(e);return a.setDate(a.getDate()+6),a},b=t=>t.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),g=t=>t.toLocaleDateString("es-ES",{month:"long",year:"numeric"}),h=t=>t.toLocaleDateString("es-ES",{weekday:"short"}),_=t=>t.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"}),y=t=>t.toISOString().split("T")[0],w=t=>t.toString().padStart(2,"0")+":00",k=(t,e)=>`${b(new Date(t))} a las ${e}`,A=t=>{const e=new Date;return t.toDateString()===e.toDateString()},x=t=>{const e={confirmada:"Confirmada",pendiente:"Pendiente",cancelada:"Cancelada",completada:"Completada"};return e[t]||t},S=(t,e)=>r.value.filter(a=>{const s=parseInt(a.hora.split(":")[0]);return a.fecha===t&&s===e}),O=t=>r.value.filter(e=>e.fecha===t),D=(t,e)=>r.value.filter(a=>a.fecha===t&&a.status===e),P=()=>{if(console.log("Navegando a período anterior"),"week"===t.value){const t=new Date(e.value);t.setDate(t.getDate()-7),e.value=t,console.log("Nueva fecha (semana anterior):",e.value)}else{const t=new Date(e.value);t.setMonth(t.getMonth()-1),e.value=t,console.log("Nueva fecha (mes anterior):",e.value)}},j=()=>{if(console.log("Navegando a período siguiente"),"week"===t.value){const t=new Date(e.value);t.setDate(t.getDate()+7),e.value=t,console.log("Nueva fecha (semana siguiente):",e.value)}else{const t=new Date(e.value);t.setMonth(t.getMonth()+1),e.value=t,console.log("Nueva fecha (mes siguiente):",e.value)}},E=()=>{console.log("Navegando a hoy"),e.value=new Date,console.log("Nueva fecha (hoy):",e.value)},N=(t,e)=>{n.value=t,c.value=e,d.value.fecha=t,d.value.hora=e+":00",i.value=!0},T=t=>{o.value=t,a.value=!0},I=a=>{t.value="week";const s=new Date(a);e.value=s},F=()=>{console.log("Editar cita:",o.value)},$=()=>{if(confirm("¿Estás seguro de que quieres eliminar esta cita?")){const t=r.value.findIndex(t=>t.id===o.value.id);t>-1&&(r.value.splice(t,1),a.value=!1)}},M=()=>{if(d.value.cliente&&d.value.fecha&&d.value.hora){const t={id:Date.now(),...d.value};r.value.push(t),d.value={cliente:"",fecha:"",hora:"",tipoServicio:"",empleado:"",status:"pendiente",notas:""},i.value=!1}};return Object(s["onMounted"])(()=>{e.value=new Date,l()}),{currentView:t,currentDate:e,showAppointmentDetail:a,showNewAppointment:i,selectedAppointment:o,appointments:r,newAppointment:d,businessHours:u,periodTitle:p,weekDays:m,monthDays:v,previousPeriod:P,nextPeriod:j,goToToday:E,openAppointmentModal:N,openAppointmentDetail:T,openDayView:I,editAppointment:F,deleteAppointment:$,saveAppointment:M,getAppointmentsForDayAndHour:S,getAppointmentsForDay:O,getAppointmentsByStatus:D,formatHour:w,formatDateTime:k,getStatusText:x,generateSampleData:l}}},ma=pa,va=(a("ffa1"),Object(b["a"])(ma,da,ua,!1,null,"fb998f18",null)),fa=va.exports,Ca=function(){var t=this,e=t._self._c;return e("div",{staticClass:"agenda-citas-container"},[t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"options-grid"},[e("div",{staticClass:"option-card",on:{click:t.goToListadoCitas}},[t._m(1),e("div",{staticClass:"card-content"},[e("h3",[t._v("Listado de Citas")]),e("p",[t._v("Visualiza y gestiona todas las citas programadas en formato de lista")]),e("div",{staticClass:"card-stats"},[e("span",{staticClass:"stat-item"},[e("i",{staticClass:"ti-calendar"}),t._v("\n              "+t._s(t.totalCitas)+" citas totales\n            ")]),e("span",{staticClass:"stat-item"},[e("i",{staticClass:"ti-clock"}),t._v("\n              "+t._s(t.citasHoy)+" citas hoy\n            ")])])]),t._m(2)]),e("div",{staticClass:"option-card",on:{click:t.goToAgenda}},[t._m(3),t._m(4),t._m(5)])]),e("div",{staticClass:"quick-summary"},[e("h3",[t._v("Resumen Rápido")]),e("div",{staticClass:"summary-grid"},[e("div",{staticClass:"summary-card confirmadas"},[t._m(6),e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-number"},[t._v(t._s(t.citasConfirmadas))]),e("div",{staticClass:"summary-label"},[t._v("Confirmadas")])])]),e("div",{staticClass:"summary-card pendientes"},[t._m(7),e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-number"},[t._v(t._s(t.citasPendientes))]),e("div",{staticClass:"summary-label"},[t._v("Pendientes")])])]),e("div",{staticClass:"summary-card canceladas"},[t._m(8),e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-number"},[t._v(t._s(t.citasCanceladas))]),e("div",{staticClass:"summary-label"},[t._v("Canceladas")])])]),e("div",{staticClass:"summary-card completadas"},[t._m(9),e("div",{staticClass:"summary-content"},[e("div",{staticClass:"summary-number"},[t._v(t._s(t.citasCompletadas))]),e("div",{staticClass:"summary-label"},[t._v("Completadas")])])])])])])])},ba=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-calendar"}),t._v("\n        Agenda y Citas\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Gestiona tus citas y agenda de manera eficiente")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-icon"},[e("i",{staticClass:"ti-list"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-arrow"},[e("i",{staticClass:"ti-arrow-right"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-icon"},[e("i",{staticClass:"ti-calendar"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-content"},[e("h3",[t._v("Agenda")]),e("p",[t._v("Visualiza las citas en formato de calendario semanal y mensual")]),e("div",{staticClass:"card-stats"},[e("span",{staticClass:"stat-item"},[e("i",{staticClass:"ti-calendar"}),t._v("\n              Vista semanal y mensual\n            ")]),e("span",{staticClass:"stat-item"},[e("i",{staticClass:"ti-time"}),t._v("\n              Gestión por horas\n            ")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-arrow"},[e("i",{staticClass:"ti-arrow-right"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"ti-check"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"ti-time"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"ti-close"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"summary-icon"},[e("i",{staticClass:"ti-check-box"})])}],ga={setup(){const t=Object(_["useRouter"])(),e=Object(s["ref"])([{id:1,cliente:"María González López",fecha:"2024-01-15",hora:"10:30",status:"confirmada"},{id:2,cliente:"Juan Pérez García",fecha:"2024-01-15",hora:"14:00",status:"pendiente"},{id:3,cliente:"Carmen Ruiz Martín",fecha:"2024-01-16",hora:"09:00",status:"confirmada"},{id:4,cliente:"Pedro Sánchez López",fecha:"2024-01-16",hora:"16:30",status:"completada"},{id:5,cliente:"Isabel Moreno Jiménez",fecha:"2024-01-17",hora:"11:15",status:"cancelada"}]),a=Object(s["computed"])(()=>e.value.length),i=Object(s["computed"])(()=>{const t=(new Date).toISOString().split("T")[0];return e.value.filter(e=>e.fecha===t).length}),o=Object(s["computed"])(()=>e.value.filter(t=>"confirmada"===t.status).length),n=Object(s["computed"])(()=>e.value.filter(t=>"pendiente"===t.status).length),c=Object(s["computed"])(()=>e.value.filter(t=>"cancelada"===t.status).length),r=Object(s["computed"])(()=>e.value.filter(t=>"completada"===t.status).length),l=()=>{t.push("/listado-citas")},d=()=>{t.push("/agenda")};return Object(s["onMounted"])(()=>{console.log("Agenda y Citas - Página cargada")}),{totalCitas:a,citasHoy:i,citasConfirmadas:o,citasPendientes:n,citasCanceladas:c,citasCompletadas:r,goToListadoCitas:l,goToAgenda:d}}},ha=ga,_a=(a("04fa"),Object(b["a"])(ha,Ca,ba,!1,null,"243b7df4",null)),ya=_a.exports,wa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile-container"},[e("div",{staticClass:"profile-header"},[e("div",{staticClass:"header-content"},[e("button",{staticClass:"back-button",on:{click:function(e){return t.$router.back()}}},[e("i",{staticClass:"ti-arrow-left"}),t._v("\n        Volver al listado\n      ")]),e("h1",{staticClass:"profile-title"},[t._v(t._s("Perfil de "+t.typeUser))])])]),e("div",{staticClass:"profile-content"},[e("div",{staticClass:"main-info-card"},[e("div",{staticClass:"user-avatar"},[e("div",{staticClass:"avatar-circle"},[e("span",{staticClass:"avatar-text"},[t._v(t._s(t.user.nombre?t.user.nombre.charAt(0).toUpperCase():"U"))])]),e("div",{staticClass:"user-status",class:t.getStatusClass()},[e("span",{staticClass:"status-dot"}),t._v("\n          "+t._s(t.getStatusText())+"\n        ")])]),e("div",{staticClass:"user-info"},[e("h2",{staticClass:"user-name"},[t._v(t._s(t.user.nombre)+" "+t._s(t.user.apellidos))]),e("p",{staticClass:"user-role"},[t._v(t._s(t.getRoleText()))]),e("div",{staticClass:"contact-info"},[e("div",{staticClass:"contact-item"},[e("i",{staticClass:"ti-mobile"}),e("span",[t._v(t._s(t.user.tel||"No disponible"))])]),t.user.email?e("div",{staticClass:"contact-item"},[e("i",{staticClass:"ti-email"}),e("span",[t._v(t._s(t.user.email))])]):t._e()])])]),e("div",{staticClass:"info-grid"},[e("div",{staticClass:"info-card personal-info"},[t._m(0),e("div",{staticClass:"card-content"},[e("div",{staticClass:"info-row"},[e("span",{staticClass:"label"},[t._v("Nombre completo:")]),e("span",{staticClass:"value"},[t._v(t._s(t.user.nombre)+" "+t._s(t.user.apellidos))])]),t.user.fechaNacimiento?e("div",{staticClass:"info-row"},[e("span",{staticClass:"label"},[t._v("Fecha de nacimiento:")]),e("span",{staticClass:"value"},[t._v(t._s(t.formatDate(t.user.fechaNacimiento)))])]):t._e(),t.user.direccion?e("div",{staticClass:"info-row"},[e("span",{staticClass:"label"},[t._v("Dirección:")]),e("span",{staticClass:"value"},[t._v(t._s(t.user.direccion))])]):t._e(),t.user.codigoPostal?e("div",{staticClass:"info-row"},[e("span",{staticClass:"label"},[t._v("Código postal:")]),e("span",{staticClass:"value"},[t._v(t._s(t.user.codigoPostal))])]):t._e(),t.user.notas?e("div",{staticClass:"info-row"},[e("span",{staticClass:"label"},[t._v("Notas:")]),e("span",{staticClass:"value"},[t._v(t._s(t.user.notas))])]):t._e()])]),e("div",{staticClass:"info-card stats-card"},[t._m(1),e("div",{staticClass:"stats-grid"},[t._m(2),e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-number"},[t._v(t._s(t.totalRevenue)+"€")]),e("div",{staticClass:"stat-label"},[t._v("Coste del cliente")])]),e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-number"},[t._v(t._s(t.totalRevenue/t.visitHistory.length)+"€")]),e("div",{staticClass:"stat-label"},[t._v("Coste por visita")])])])]),e("div",{staticClass:"info-card visits-card"},[t._m(3),e("div",{staticClass:"visits-list"},[t._l(t.visitHistory,(function(a,s){return e("div",{key:s,staticClass:"visit-item"},[e("div",{staticClass:"visit-date"},[e("div",{staticClass:"date-day"},[t._v(t._s(t.formatVisitDate(a.fecha).day))]),e("div",{staticClass:"date-month"},[t._v(t._s(t.formatVisitDate(a.fecha).month))])]),e("div",{staticClass:"visit-details"},[e("h4",[t._v(t._s(a.tipo))]),e("p",[t._v(t._s(a.descripcion))]),e("span",{staticClass:"visit-status",class:a.status},[t._v(t._s(a.status))])]),e("div",{staticClass:"visit-time"},[t._v(t._s(a.hora))])])})),0===t.visitHistory.length?e("div",{staticClass:"no-data"},[e("i",{staticClass:"ti-calendar"}),e("p",[t._v("No hay visitas registradas")])]):t._e()],2)]),e("div",{staticClass:"info-card purchases-card"},[t._m(4),e("div",{staticClass:"purchases-list"},[t._l(t.purchaseHistory,(function(a,s){return e("div",{key:s,staticClass:"purchase-item"},[e("div",{staticClass:"purchase-icon"},[e("i",{class:t.getPurchaseIcon(a.tipo)})]),e("div",{staticClass:"purchase-details"},[e("h4",[t._v(t._s(a.producto))]),e("p",[t._v(t._s(a.descripcion))]),e("div",{staticClass:"purchase-meta"},[e("span",{staticClass:"purchase-date"},[t._v(t._s(t.formatDate(a.fecha)))]),e("span",{staticClass:"purchase-status",class:a.status},[t._v(t._s(a.status))])])]),e("div",{staticClass:"purchase-amount"},[e("span",{staticClass:"amount"},[t._v(t._s(a.precio)+"€")])])])})),0===t.purchaseHistory.length?e("div",{staticClass:"no-data"},[e("i",{staticClass:"ti-shopping-cart"}),e("p",[t._v("No hay compras registradas")])]):t._e()],2)])]),null===t.caseDetail||t.gestionPermiso?t._e():e("div",{staticClass:"case-detail-section"},[e("user-case",{attrs:{caseDetail:t.caseDetail,isClient:t.isClient,userCase:t.userCase,user:t.user},on:{back:function(e){t.caseDetail=null}}})],1),t.gestionPermiso?e("div",{staticClass:"permissions-section"},[e("gestion-permisos",{attrs:{user:t.user},on:{back:function(e){t.gestionPermiso=!1}}})],1):t._e()]),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Añadir cita o juicio\n    ")]},proxy:!0}]),model:{value:t.showModalCita,callback:function(e){t.showModalCita=e},expression:"showModalCita"}}),e("b-modal",{attrs:{title:"Nueva Remesa","hide-footer":""},model:{value:t.showRemesa,callback:function(e){t.showRemesa=e},expression:"showRemesa"}},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Remesas para: "+t._s(t.user.nombre+t.user.apellidos))])]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Fecha de Remesa")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newRemesa.fecha,expression:"newRemesa.fecha"}],staticClass:"form-control",attrs:{type:"date",required:""},domProps:{value:t.newRemesa.fecha},on:{input:function(e){e.target.composing||t.$set(t.newRemesa,"fecha",e.target.value)}}})]),e("div",{staticClass:"mb-3"},[e("label",{staticClass:"form-label"},[t._v("Cantidad")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newRemesa.cantidad,expression:"newRemesa.cantidad"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:t.newRemesa.cantidad},on:{input:function(e){e.target.composing||t.$set(t.newRemesa,"cantidad",e.target.value)}}})]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v("Remesas creadas: ")]),t._l(t.remesas,(function(a,s){return e("div",{key:s,staticClass:"col-12 mt-2"},[e("b",[t._v(t._s(a.fecha)+" - "+t._s(a.cantidad)+"€")]),e("i",{staticClass:"ti-trash",on:{click:function(e){return t.remesas.splice(s,1)}}})])}))],2),e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-12"},[e("button",{staticClass:"btn btn-success",on:{click:function(e){return t.addRemesa()}}},[t._v("Añadir nueva fecha de remesa")])]),e("div",{staticClass:"col-12 mt-5"},[e("button",{staticClass:"btn btn-success",on:{click:function(e){return t.addAllRemesas()}}},[t._v("Guardar remesas")])])])])],1)},ka=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("i",{staticClass:"ti-user"}),e("h3",[t._v("Información Personal")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("i",{staticClass:"ti-stats-up"}),e("h3",[t._v("Estadísticas")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"stat-item"},[e("div",{staticClass:"stat-number"},[t._v("5")]),e("div",{staticClass:"stat-label"},[t._v("Número total de visitas")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("i",{staticClass:"ti-calendar"}),e("h3",[t._v("Histórico de Visitas")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header"},[e("i",{staticClass:"ti-shopping-cart"}),e("h3",[t._v("Histórico de Compras")])])}],Aa=function(){var t=this,e=t._self._c;return e("card",{staticClass:"card-user"},[t.showSuccess?e("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Observación modificada con exito")]):t._e(),e("div",[e("h4",{staticClass:"title"},[t._v("\n        "+t._s(t.user.apellidos?`${t.user.nombre} ${t.user.apellidos}`:""+t.user.nombre)+"\n      ")])]),t._l(t.dataUser,(function(a,s){return e("div",{key:s},[a.visible?e("div",{staticClass:"mt-2"},[a.label?e("label",{staticStyle:{display:"block"},attrs:{for:""}},[t._v(t._s(a.label)+" "),"Observaciones"===a.label?e("a",{staticClass:"text-blue",on:{click:function(e){!0===t.editObs?t.editObs=!1:t.editObs=!0}}},[t._v("Editar")]):t._e()]):t._e(),e("span",[t._v(t._s(a.span))]),"Observaciones"===a.label&&!0===t.editObs?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user.observaciones,expression:"user.observaciones"}],attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.user.observaciones},on:{input:function(e){e.target.composing||t.$set(t.user,"observaciones",e.target.value)}}}):t._e(),e("br"),"Observaciones"===a.label&&!0===t.editObs?e("a",{staticClass:"text-blue",on:{click:t.updateObs}},[t._v("Guardar")]):t._e()]):t._e()])})),!t.isClient&&t.showAsAdmin?e("div",{staticClass:"mt-4 text-blue",staticStyle:{color:"rgb(0, 123, 255)"},on:{click:function(e){return t.$emit("permisosUsuario")}}},[t._v("\n      Gestionar permisos\n    ")]):t._e(),t.showAsAdmin&&"despacho"!==t.typeUser?e("div",{staticClass:"mt-2"},[e("a",{attrs:{href:"https://wa.me/34"+t.user.tel,target:"_blank"}},[t._v("Abrir en WhatsApp")]),e("br"),e("a",{attrs:{href:"tel:+34"+t.user.tel}},[t._v("Llamar")])]):t._e(),t.user.tel&&t.caseDetail&&t.url.includes("cliente")?e("chat",{attrs:{caseDetail:t.caseDetail,userCase:t.user}}):t._e()],2)},xa=[],Sa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mt-5"},[e("div",{staticClass:"card shadow-sm"},[e("div",{staticClass:"py-2 bg-primary text-white text-center font-weight-bold"},[t._v("Chat")]),e("div",{ref:"chatBox",staticClass:"card-body chat-box overflow-auto",staticStyle:{"max-height":"100px"}},t._l(t.messages,(function(a){return e("div",{key:a.id,staticClass:"mb-2"},[e("div",{staticClass:"alert alert-primary text-secondary"},[e("strong",[t._v(t._s(a.user))]),e("span",{staticClass:"small text-primary ml-1"},[t._v(t._s(a.time)+" "+t._s(a.timestamp?new Date(1e3*a.timestamp.seconds+a.timestamp.nanoseconds/1e6).toISOString().split("T")[0].split("-").reverse().join("/"):""))]),e("br"),t._v("\n          "+t._s(a.text)+"\n        ")])])})),0),e("div",{staticClass:"card-footer d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newMessage,expression:"newMessage"}],attrs:{placeholder:"Escribe un mensaje..."},domProps:{value:t.newMessage},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage.apply(null,arguments)},input:function(e){e.target.composing||(t.newMessage=e.target.value)}}})])])])},Oa=[],Da={name:"ChatApp",props:{userCase:{type:Object},caseDetail:{type:Object}},setup(t){const e=Object(s["ref"])(t.userCase.tel),a=Object(s["ref"])([]),i=Object(s["ref"])("");let o=null;const n=Object(s["ref"])(JSON.parse(localStorage.getItem("userInform")));console.log(t.caseDetail.telEspecialista);const r=()=>{o&&o(),o=Object(c["h"])(Object(c["j"])(Object(c["b"])(p,"chats",e.value,"messages"),Object(c["i"])("timestamp")),t=>{a.value=t.docs.map(t=>({id:t.id,...t.data()}))})},l=async()=>{""!==i.value.trim()&&(await Object(c["a"])(Object(c["b"])(p,"chats",e.value,"messages"),{text:i.value,user:n.value.nombre,userId:n.value.id,time:(new Date).toLocaleTimeString(),timestamp:new Date}),await Object(c["a"])(Object(c["b"])(p,"notificacionesChat"),{userWrite:n.value.tel,userTo:n.value.tel===t.caseDetail.telEspecialista?"607417310":t.caseDetail.telEspecialista,userId:t.userCase.id,userName:t.userCase.nombre,userEspe:t.caseDetail.telEspecialista}),i.value="")};return Object(s["onBeforeUnmount"])(()=>{o&&o()}),Object(s["onMounted"])(()=>{console.log(t.userCase),t.userCase.tel||(e.value=t.userCase.tel),r()}),{messages:a,newMessage:i,sendMessage:l}}},Pa=Da,ja=(a("8cba"),Object(b["a"])(Pa,Sa,Oa,!1,null,"56b0118e",null)),Ea=ja.exports,Na={props:{user:{type:Object},isClient:{type:Boolean},typeUser:{type:String},caseDetail:{type:Object}},components:{Chat:Ea},setup(t){const e=Object(s["computed"])(()=>window.location.href),a=Object(s["ref"])(!1),i=Object(s["ref"])(!1),o=Object(s["computed"])(()=>t.user.observaciones),n=t=>{if(!t)return"NA";const e=new Date(t),a=String(e.getDate()).padStart(2,"0"),s=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return`${a}/${s}/${i}`},r=JSON.parse(localStorage.getItem("userInform")),l=Object(s["computed"])(()=>!(!r.admin||!0!==r.admin)),d=Object(s["computed"])(()=>[{span:t.user.tel,visible:l.value},{span:t.user.correo,visible:l.value},{span:le[t.user.comunidad]?le[t.user.comunidad]:t.user.comunidad,visible:!0},{span:de[t.user.provincia]?de[t.user.provincia]:t.user.provincia,visible:!0},{span:t.user.poblacion,visible:!0},{span:t.user.especialista?t.user.especialista:"",label:"Especialidad:",visible:t.user.especialista},{span:t.user.observaciones,label:"Observaciones",visible:t.isClient&&l.value},{span:n(t.user.time),label:"Fecha perfil creado:",visible:l.value}]),u=async()=>{const e=Object(c["d"])(p,"clientes",t.user.id);await Object(c["l"])(e,{observaciones:o.value}),i.value=!0,setTimeout(()=>{i.value=!1},4e3)};return{formatDate:n,comunidades:le,provincias:de,showAsAdmin:l,dataUser:d,editObs:a,obsModify:o,showSuccess:i,url:e,updateObs:u}}},Ta=Na,Ia=Object(b["a"])(Ta,Aa,xa,!1,null,null,null),Fa=Ia.exports,$a=function(){var t=this,e=t._self._c;return e("div",[e("Listados",{attrs:{"current-page":t.currentPage,items:[...t.casesItems||[]].sort((t,e)=>{const a=t.fechaAlta?new Date(t.fechaAlta.split("/").reverse().join("-")):new Date(0),s=e.fechaAlta?new Date(e.fechaAlta.split("/").reverse().join("-")):new Date(0);return s-a}),fields:t.filteredFields},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"filters",fn:function(){return[e("Formulario",{attrs:{formClass:"form-filters",fieldClass:"col-4"}})]},proxy:!0},t.showAsAdmin?{key:"order",fn:function(){return[e("div",{staticClass:"col-3 pl-0"},[e("label",{attrs:{for:""}},[t._v("Filtrar por:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filterCases,expression:"filterCases"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.filterCases=e.target.multiple?a:a[0]}}},[e("option",{key:"1",attrs:{value:"all"}},[t._v("Todos los casos")]),e("option",{key:"2",attrs:{value:"confirmed"}},[t._v("Presupuesto aceptado")])])])]},proxy:!0}:null,{key:"tableActions",fn:function({data:a}){return[null!==a.item.telCliente&&null!==a.item.telEspecialista?e("b-button",{staticClass:"my-3 mx-3",attrs:{size:"sm"},on:{click:function(e){return t.guardaCaso(a.item)}}},[t._v("\n        Ver Detalle\n      ")]):t._e(),t.showAsAdmin?e("b-button",{staticClass:"my-3 mx-3",attrs:{size:"sm"},on:{click:function(e){return t.mueveCaso(a.item)}}},[t._v("\n        Mover estado\n      ")]):t._e()]}}],null,!0)}),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Mover estado\n    ")]},proxy:!0}]),model:{value:t.editEstado,callback:function(e){t.editEstado=e},expression:"editEstado"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.casoChange,expression:"casoChange"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.casoChange=e.target.multiple?a:a[0]}}},t._l(t.estadosFilter,(function(a,s){return e("option",{key:s,domProps:{value:a}},[t._v(t._s(a))])})),0),e("p-button",{staticClass:"mt-4",attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.updateCase.apply(null,arguments)}}},[t._v("\n      Aceptar\n    ")])],1)],1)},Ma=[];async function La(t){console.log("Llegoo");const e=Object(c["d"])(p,"casos",t);await Object(c["l"])(e,{telEspecialista:null,status:null,confirmaCaso:"0"})}async function Ra(t){console.log("Llegoo");const e=Object(c["d"])(p,"casos",t);await Object(c["l"])(e,{telEspecialista:null,status:"0",confirmaCaso:"1"})}async function za(t){const e=Object(c["d"])(p,"casos",t);await Object(c["l"])(e,{status:"1",confirmaCaso:"1"})}async function Ba(t){const e=Object(c["d"])(p,"casos",t);await Object(c["l"])(e,{status:"2"})}var Ua={components:{Listados:we},props:{cases:{type:Array,required:!0}},setup(t,{emit:e}){const a=Object(s["ref"])("all"),i=Object(s["ref"])(["Caso sin asignar","Cliente sin presupuesto","Presupuesto pendiente","Presupuesto aceptado"]),o=Object(s["ref"])([]),n=JSON.parse(localStorage.getItem("userInform")),c=Object(s["ref"])(1),r=Object(s["computed"])(()=>!(!n.admin||!0!==n.admin)),l=Object(s["computed"])(()=>!(!n.superAdmin||!0!==n.superAdmin)),d=Object(s["ref"])(t.cases),u=l.value?[{key:"nombreCompleto",label:"Nombre apellidos"},{key:"fechaAlta",label:"Fecha de alta caso"},{key:"estadoCaso",label:"Estado del caso"},{key:"especialidadNombre",label:"Especialidad"},{key:"pago",label:"Pagado cliente"},{key:"actions",label:"Acciones"}]:[{key:"nombreCompleto",label:"Nombre apellidos"},{key:"fechaAlta",label:"Fecha de alta caso"},{key:"estadoCaso",label:"Estado del caso"},{key:"especialidadNombre",label:"Especialidad"},{key:"actions",label:"Acciones"}],p=Object(s["ref"])(null),m=Object(s["ref"])(!1),v=Object(s["ref"])(null),f=Object(s["computed"])(()=>{const t=JSON.parse(localStorage.getItem("userInform"));console.log(t);const e=t.routes.some(t=>!1===t.visibility);return e?u.filter(t=>"estadoCaso"!==t.key):u}),C=t=>{e("wantSeeCase",t)};return Object(s["watch"])(a,e=>{d.value=t.cases.filter(t=>"confirmed"!==e||"Presupuesto aceptado"===t.estadoCaso)}),{filteredFields:f,estados:i,guardaCaso:C,itemMueve:p,editEstado:m,casoChange:v,estadosFilter:o,showAsAdmin:r,filterCases:a,casesItems:d,currentPage:c,handlePageChange:t=>{c.value=t},updateCase:()=>{switch(v.value){case"Caso sin asignar":Ra(p.value.id);break;case"Cliente sin presupuesto":za(p.value.id);break;case"Presupuesto pendiente":Ba(p.value.id);break;case"Presupuesto aceptado":La(p.value.id);break;default:break}m.value=!1},mueveCaso:t=>{p.value=t,m.value=!0;const e=i.value.findIndex(e=>e===t.estadoCaso);o.value=i.value.slice(0,e)}}}},qa=Ua,Va=Object(b["a"])(qa,$a,Ma,!1,null,null,null),Ha=Va.exports,Ga=function(){var t=this,e=t._self._c;return e("card",{staticClass:"card-user"},[t.showSuccessEspe?e("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Especialista modificado correctamente")]):t._e(),e("div",[e("span",{staticStyle:{color:"#007bff",cursor:"pointer"},on:{click:function(e){return t.$emit("back")}}},[t._v("Volver listado casos cliente")])]),e("div",[t.showAsAdmin&&"4"!==t.caseDetail.status?e("p-button",{staticClass:"mt-3",attrs:{type:"info",round:""},nativeOn:{click:function(e){e.preventDefault(),t.modalCloseCase=!0}}},[t._v("\n     Caso finalizado\n    ")]):t._e(),t.showAsSuperAdmin&&"3"===t.caseDetail.status?e("p-button",{staticClass:"mt-3 ml-3",attrs:{type:"info",round:""},nativeOn:{click:function(e){e.preventDefault(),t.modalFactura=!0}}},[t._v("\n     Crear factura\n    ")]):t._e(),t.isClient&&t.showAsAdmin?e("p-button",{staticClass:"mt-3 ml-3",attrs:{type:"info",round:""},nativeOn:{click:function(e){e.preventDefault(),t.editEspe=!0}}},[t._v("\n      Editar especialista\n    ")]):t._e(),t.isClient&&t.showAsAdmin?e("p-button",{staticClass:"mt-3 ml-3",attrs:{type:"info",round:""},nativeOn:{click:function(e){e.preventDefault(),t.editEspecialidad=!0}}},[t._v("\n      Editar especialidad\n    ")]):t._e()],1),e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-md-6 col-sm-12"},[e("h4",{staticClass:"title"},[t._v("\n              "+t._s(t.caseDetail.factura)+"\n          ")])]),e("div",{staticClass:"col-md-6 col-sm-12"},[e("h4",{staticClass:"title"},[t._v("\n              "+t._s(t.isClient?"Datos Especialista ":"Datos Cliente ")+"\n          ")])]),e("div",{staticClass:"col-md-6 col-sm-12"},[t.showAsAdmin?e("div",[e("span",{attrs:{for:""}},[t._v("Estado: "+t._s(t.caseDetail.estadoCaso))])]):t._e(),t.showAsAdmin?e("div",{staticClass:"mt-2"},[e("span",{attrs:{for:""}},[t._v("Fecha alta caso: "+t._s(t.caseDetail.fechaAlta))])]):t._e(),t.showAsAdmin?e("div",{staticClass:"mt-2"},[e("span",{attrs:{for:""}},[t._v("Tipo de cliente: "+t._s("1"===t.caseDetail.tipoCliente?"Despacho":"Particular"))])]):t._e(),t.showAsAdmin&&"1"===t.caseDetail.tipoCliente?e("div",{staticClass:"mt-2"},[e("span",{attrs:{for:""}},[t._v("Nombre del despacho: "+t._s(t.caseDetail.nombreDespacho))])]):t._e(),e("div",{staticClass:"mt-2"},[e("span",{attrs:{for:""}},[t._v("Especialidad: "+t._s(t.caseDetail.especialidadNombre))])])]),t.userCase?e("div",{staticClass:"col-md-6 col-sm-12"},[t._v("\n        "+t._s(t.userCase.id)+"\n          "),e("div",{},[t.isClient||t.showAsSuperAdmin?t._e():e("span",{attrs:{for:""}},[t._v(t._s(t.userCase.nombre+" "+t.userCase.apellidos))]),t.showAsSuperAdmin?e("a",{attrs:{href:`https://alexmc14.github.io/peritomedicotest/#/perfil/${t.userCase.id}?type=${t.isClient?"especialista":"cliente"}`,target:"_blank",rel:"noopener noreferrer"},on:{click:function(e){return t.$router.push({name:"UserProfile",params:{id:t.userCase.id},query:{type:t.isClient?"despacho":"cliente"}})}}},[t._v("\n                "+t._s(t.userCase.nombre+" "+t.userCase.apellidos)+"\n              ")]):t._e()]),e("div",{staticClass:"mt-2"},[e("span",[t._v(t._s(t.userCase.tel))])]),e("div",{staticClass:"mt-2"},[e("span",{attrs:{for:""}},[t._v(t._s(t.userCase.correo))])]),e("div",{staticClass:"mt-2"},[e("span",{attrs:{for:""}},[t._v(t._s(t.comunidades[t.userCase.comunidad]))])]),e("div",{staticClass:"mt-2"},[e("span",{attrs:{for:""}},[t._v(t._s(t.provincias[t.userCase.provincia]))])]),e("div",{staticClass:"mt-2"},[e("span",{attrs:{for:""}},[t._v(t._s(t.userCase.poblacion))])])]):t._e(),e("div",{staticClass:"col-12 text-center"},[e("h3",[t._v("Juicio")])])]),t.userCase&&t.userCase.tel?e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-12"},[e("h4",{staticClass:"title"},[t._v("Citas/juicio del cliente")]),t.citasCliente.length>0?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",[t._v("Fecha")]),e("th",[t._v("Hora")]),e("th",[t._v("Tipo")]),e("th",[t._v("Lugar")])])]),e("tbody",t._l(t.citasCliente,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(t.formatDate(a.fecha)))]),e("td",[t._v(t._s(a.hora))]),e("td",[t._v(t._s("cita"===a.tipo?"Cita":"Juicio"))]),e("td",[t._v(t._s(a.lugar))])])})),0)])]):e("div",{staticClass:"text-center"},[e("p",[t._v("No hay citas registradas para este cliente.")])])])]):t._e(),parseInt(t.caseDetail.status)>1?e("div",{staticClass:"accordion",attrs:{role:"tablist"}},["praxis"===t.caseDetail.especialidadNombre.toLowerCase()||"incapacidad"===t.caseDetail.especialidadNombre.toLowerCase()||t.caseDetail.especialidadNombre.toLowerCase().includes("laboral")||t.caseDetail.especialidadNombre.toLowerCase().includes("daño")?e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-0",modifiers:{"accordion-0":!0}}],attrs:{block:"",variant:"info"}},[t._v("Documentación útil")])],1),e("b-collapse",{attrs:{id:"accordion-0",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("div",{staticClass:"row"},["incapacidad"===t.caseDetail.especialidadNombre.toLowerCase()?e("div",{staticClass:"col-3 text-center"},[e("div",{on:{click:function(e){return t.descargarArchivo("documents/plantillainformepericialincapacidad.docx","plantillaViabilidad.docx")}}},[e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("3b84"),alt:""}}),e("span",[t._v("Plantilla incapacidad")]),e("br")])]):t._e(),"praxis"===t.caseDetail.especialidadNombre.toLowerCase()?e("div",{staticClass:"col-3 text-center"},[e("div",{on:{click:function(e){return t.descargarArchivo("documents/plantillaViabilidad.docx","plantillaViabilidad.docx")}}},[e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("3b84"),alt:""}}),e("span",[t._v("Plantilla viabilidad")]),e("br")])]):t._e(),"praxis"===t.caseDetail.especialidadNombre.toLowerCase()?e("div",{staticClass:"col-3 text-center"},[e("div",{on:{click:function(e){return t.descargarArchivo("documents/plantillaInformePericial.docx","plantillaInformePericial.docx")}}},[e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("3b84"),alt:""}}),e("span",[t._v("Plantilla informe pericial")]),e("br")])]):t._e(),t.caseDetail.especialidadNombre.toLowerCase().includes("laboral")?e("div",{staticClass:"col-3 text-center"},[e("div",{on:{click:function(e){return t.descargarArchivo("documents/plantillaViabilidadIncapacidad.docx","plantillaInformePericial.docx")}}},[e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("3b84"),alt:""}}),e("span",[t._v("Plantilla incapacidad laboral")]),e("br")])]):t._e(),t.caseDetail.especialidadNombre.toLowerCase().includes("daño")?e("div",{staticClass:"col-3 text-center"},[e("div",{on:{click:function(e){return t.descargarArchivo("documents/plantillaVDC.docx","plantillaVDC.docx")}}},[e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("3b84"),alt:""}}),e("span",[t._v("Plantilla valoración del daño corporal")]),e("br")])]):t._e(),t.caseDetail.especialidadNombre.toLowerCase().includes("daño")?e("div",{staticClass:"col-3 text-center"},[e("div",{on:{click:function(e){return t.descargarArchivo("documents/baremoTrafico2016.pdf","baremoTrafico2016.pdf")}}},[e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("3b84"),alt:""}}),e("span",[t._v("Baremo tráfico 2016")]),e("br")])]):t._e()])])],1)],1):t._e(),t.showAsSuperAdmin||t.caseDetail.telEspecialista===t.userInfo.tel?e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-5",modifiers:{"accordion-5":!0}}],attrs:{block:"",variant:"info"}},[t._v("Factura especialista")])],1),e("b-collapse",{attrs:{id:"accordion-5",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h3",[t._v("Factura del especialista")]),e("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[e("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),e("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(e){return e.preventDefault(),t.uploadFile("facturaEspecialista")}}},[t._v("\n                  Subir Archivo\n                ")])],1)]),t.files.facturaEspecialista?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",[t._v("Archivos Subidos:")]),e("div",{staticClass:"row"},t._l(t.files.facturaEspecialista,(function(s){return e("div",{key:s.name,staticClass:"col-3 text-center;"},[e("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(e){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("4c8b"),alt:""}}):e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}),e("span",[t._v(t._s(s.name))]),e("br"),e("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?e("div",{on:{click:function(e){return t.deleteFile(s,"facturaEspecialista")}}},[e("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:""}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e()])],1)],1):t._e(),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-1",modifiers:{"accordion-1":!0}}],attrs:{block:"",variant:"info"}},[t._v("Estudio de viabilidad")])],1),e("b-collapse",{attrs:{id:"accordion-1",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},[e("label",{staticClass:"d-block",attrs:{for:"plazoEstudio"}},[t._v("Plazo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.plazo,expression:"estudio.plazo"}],attrs:{name:"plazoEstudio",type:"date"},domProps:{value:t.estudio.plazo},on:{input:function(e){e.target.composing||t.$set(t.estudio,"plazo",e.target.value)}}})]),e("div",{staticClass:"col-4"},[e("label",{staticClass:"d-block",attrs:{for:"fechaEncargo"}},[t._v("Fecha de encargo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.fechaEncargo,expression:"estudio.fechaEncargo"}],attrs:{name:"fechaEncargo",type:"date"},domProps:{value:t.estudio.fechaEncargo},on:{input:function(e){e.target.composing||t.$set(t.estudio,"fechaEncargo",e.target.value)}}})]),e("div",{staticClass:"col-4"},[e("label",{staticClass:"d-block",attrs:{for:"estudioEnviado"}},[t._v("Enviado al cliente: ")]),e("label",{staticClass:"mr-1",attrs:{for:"estudioEnviado"}},[t._v("Si")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.enviadoCliente,expression:"estudio.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioEnviado",name:"estudioCliente",value:"true"},domProps:{checked:t._q(t.estudio.enviadoCliente,"true")},on:{change:function(e){return t.$set(t.estudio,"enviadoCliente","true")}}}),e("label",{staticClass:"ml-3 mr-1",attrs:{for:"estudioEnviado"}},[t._v("No")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.enviadoCliente,expression:"estudio.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioEnviado",name:"estudioCliente",value:"false"},domProps:{checked:t._q(t.estudio.enviadoCliente,"false")},on:{change:function(e){return t.$set(t.estudio,"enviadoCliente","false")}}})]),t.showAsAdmin?e("div",{staticClass:"col-4 mt-4"},[e("label",{staticClass:"d-block"},[t._v("Pagado por el cliente: ")]),e("label",{staticClass:"mr-1",attrs:{for:"estudioPagadoCliente"}},[t._v("Si")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.pagadoCliente,expression:"estudio.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioPagadoCliente",name:"estudioPagoCliente",value:"true"},domProps:{checked:t._q(t.estudio.pagadoCliente,"true")},on:{change:function(e){return t.$set(t.estudio,"pagadoCliente","true")}}}),e("label",{staticClass:"ml-3 mr-1",attrs:{for:"estudioPagadoCliente"}},[t._v("No")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.pagadoCliente,expression:"estudio.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioPagadoCliente",name:"estudioPagoCliente",value:"false"},domProps:{checked:t._q(t.estudio.pagadoCliente,"false")},on:{change:function(e){return t.$set(t.estudio,"pagadoCliente","false")}}})]):t._e(),t.showAsAdmin?e("div",{staticClass:"col-4 mt-4"},[e("label",{staticClass:"d-block"},[t._v("Pagado al especialista: ")]),e("label",{staticClass:"mr-1",attrs:{for:"estudioPagadoEspecialista"}},[t._v("Si")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.pagadoEspecialista,expression:"estudio.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioPagadoEspecialista",name:"estudioPagoEspecialista",value:"true"},domProps:{checked:t._q(t.estudio.pagadoEspecialista,"true")},on:{change:function(e){return t.$set(t.estudio,"pagadoEspecialista","true")}}}),e("label",{staticClass:"ml-4 mr-1",attrs:{for:"estudioPagadoEspecialista"}},[t._v("No")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.estudio.pagadoEspecialista,expression:"estudio.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"estudioPagadoEspecialista",name:"estudioNoPagoEspecialista",value:"false"},domProps:{checked:t._q(t.estudio.pagadoEspecialista,"false")},on:{change:function(e){return t.$set(t.estudio,"pagadoEspecialista","false")}}})]):t._e(),e("div",{staticClass:"col-12"},[e("h3",[t._v("Archivos de estudio viabilidad")]),e("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[e("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),e("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(e){return e.preventDefault(),t.uploadFile("viabilidad")}}},[t._v("\n                  Subir Archivo\n                ")])],1)]),t.files.viabilidad?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",[t._v("Archivos Subidos:")]),e("div",{staticClass:"row"},t._l(t.files.viabilidad,(function(s){return e("div",{key:s.name,staticClass:"col-3 text-center;"},[e("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(e){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("4c8b"),alt:""}}):e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}),e("span",[t._v(t._s(s.name))]),e("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?e("div",{on:{click:function(e){return t.deleteFile(s,"viabilidad")}}},[e("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),e("div",{staticClass:"col-12 pl-0"},[e("h3",[t._v("Informe pericial")]),e("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[e("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),e("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(e){return e.preventDefault(),t.uploadFile("informeViabilidad")}}},[t._v("\n                  Subir Archivo\n                ")])],1),t.files.informeViabilidad?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",[t._v("Archivos Subidos:")]),e("div",{staticClass:"row"},t._l(t.files.informeViabilidad,(function(s){return e("div",{key:s.name,staticClass:"col-3 text-center;"},[e("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(e){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("4c8b"),alt:""}}):e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}),e("span",[t._v(t._s(s.name))]),e("br"),e("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?e("div",{on:{click:function(e){return t.deleteFile(s,"informeViabilidad")}}},[e("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),t.showAsSuperAdmin?e("div",{staticClass:"col-12 pl-0"},[e("h3",[t._v("Archivos Pagos de estudio de viabilidad")]),e("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[e("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),e("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(e){return e.preventDefault(),t.uploadFile("viabilidadPago")}}},[t._v("\n                  Subir Archivo\n                ")])],1):t._e(),t.files.viabilidadPago&&t.showAsSuperAdmin?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",[t._v("Archivos Subidos:")]),e("div",{staticClass:"row"},t._l(t.files.viabilidadPago,(function(s){return e("div",{key:s.name,staticClass:"col-3 text-center;"},[e("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(e){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("4c8b"),alt:""}}):e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}),e("span",[t._v(t._s(s.name))]),e("br"),e("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?e("div",{on:{click:function(e){return t.deleteFile(s,"viabilidadPago")}}},[e("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e()])],1)],1),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-2",modifiers:{"accordion-2":!0}}],attrs:{block:"",variant:"info"}},[t._v("Informe pericial médico")])],1),e("b-collapse",{attrs:{id:"accordion-2",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-4"},[e("label",{staticClass:"d-block",attrs:{for:"plazoInforme"}},[t._v("Plazo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.plazo,expression:"informe.plazo"}],attrs:{name:"plazoInforme",type:"date"},domProps:{value:t.informe.plazo},on:{input:function(e){e.target.composing||t.$set(t.informe,"plazo",e.target.value)}}})]),e("div",{staticClass:"col-4"},[e("label",{staticClass:"d-block",attrs:{for:"fechaEncargo"}},[t._v("Fecha de encargo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.fechaEncargo,expression:"informe.fechaEncargo"}],attrs:{name:"fechaEncargo",type:"date"},domProps:{value:t.informe.fechaEncargo},on:{input:function(e){e.target.composing||t.$set(t.informe,"fechaEncargo",e.target.value)}}})]),e("div",{staticClass:"col-4"},[e("label",{staticClass:"d-block",attrs:{for:"informeEnviado"}},[t._v("Enviado al cliente: ")]),e("label",{staticClass:"mr-1",attrs:{for:"informeEnviado"}},[t._v("Si")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.enviadoCliente,expression:"informe.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"informeEnviado",name:"informeCliente",value:"true"},domProps:{checked:t._q(t.informe.enviadoCliente,"true")},on:{change:function(e){return t.$set(t.informe,"enviadoCliente","true")}}}),e("label",{staticClass:"ml-3 mr-1",attrs:{for:"informeEnviado"}},[t._v("No")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.enviadoCliente,expression:"informe.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"informeEnviado",name:"informeCliente",value:"false"},domProps:{checked:t._q(t.informe.enviadoCliente,"false")},on:{change:function(e){return t.$set(t.informe,"enviadoCliente","false")}}})]),t.showAsAdmin?e("div",{staticClass:"col-4 mt-4"},[e("label",{staticClass:"d-block"},[t._v("Pagado por el cliente: ")]),e("label",{staticClass:"mr-1",attrs:{for:"informePagadoCliente"}},[t._v("Si")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.pagadoCliente,expression:"informe.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"informePagadoCliente",name:"informePagoCliente",value:"true"},domProps:{checked:t._q(t.informe.pagadoCliente,"true")},on:{change:function(e){return t.$set(t.informe,"pagadoCliente","true")}}}),e("label",{staticClass:"ml-3 mr-1",attrs:{for:"informePagadoCliente"}},[t._v("No")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.pagadoCliente,expression:"informe.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"informePagadoCliente",name:"informePagoCliente",value:"false"},domProps:{checked:t._q(t.informe.pagadoCliente,"false")},on:{change:function(e){return t.$set(t.informe,"pagadoCliente","false")}}})]):t._e(),t.showAsAdmin?e("div",{staticClass:"col-4 mt-4"},[e("label",{staticClass:"d-block"},[t._v("Pagado al especialista: ")]),e("label",{staticClass:"mr-1",attrs:{for:"informePagadoEspecialista"}},[t._v("Si")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.pagadoEspecialista,expression:"informe.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"informePagadoEspecialista",name:"informePagoEspecialista",value:"true"},domProps:{checked:t._q(t.informe.pagadoEspecialista,"true")},on:{change:function(e){return t.$set(t.informe,"pagadoEspecialista","true")}}}),e("label",{staticClass:"ml-4 mr-1",attrs:{for:"informePagadoEspecialista"}},[t._v("No")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.informe.pagadoEspecialista,expression:"informe.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"informePagadoEspecialista",name:"informePagoEspecialista",value:"false"},domProps:{checked:t._q(t.informe.pagadoEspecialista,"false")},on:{change:function(e){return t.$set(t.informe,"pagadoEspecialista","false")}}})]):t._e(),e("div",{staticClass:"col-12"},[e("h3",[t._v("Archivos de estudio informe pericial")]),e("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[e("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),e("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(e){return e.preventDefault(),t.uploadFile("informe")}}},[t._v("\n                  Subir Archivo\n                ")])],1)]),t.files.informe?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",[t._v("Archivos Subidos:")]),e("div",{staticClass:"row"},t._l(t.files.informe,(function(s){return e("div",{key:s.name,staticClass:"col-3 text-center;"},[e("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(e){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("4c8b"),alt:""}}):e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}),e("span",[t._v(t._s(s.name))]),e("br"),e("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?e("div",{on:{click:function(e){return t.deleteFile(s,"informe")}}},[e("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:""}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),e("div",{staticClass:"col-12 pl-0"},[e("h3",[t._v("Informe pericial")]),e("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[e("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),e("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(e){return e.preventDefault(),t.uploadFile("informePericial")}}},[t._v("\n                  Subir Archivo\n                ")])],1),t.files.informePericial?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",[t._v("Archivos Subidos:")]),e("div",{staticClass:"row"},t._l(t.files.informePericial,(function(s){return e("div",{key:s.name,staticClass:"col-3 text-center;"},[e("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(e){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("4c8b"),alt:""}}):e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}),e("span",[t._v(t._s(s.name))]),e("br"),e("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?e("div",{on:{click:function(e){return t.deleteFile(s,"informePericial")}}},[e("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),t.showAsSuperAdmin?e("div",{staticClass:"col-12 pl-0"},[e("h3",[t._v("Archivos Pagos de estudio informe pericial")]),e("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[e("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),e("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(e){return e.preventDefault(),t.uploadFile("informePago")}}},[t._v("\n                  Subir Archivo\n                ")])],1):t._e(),t.files.informePago&&t.showAsSuperAdmin?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",[t._v("Archivos Subidos:")]),e("div",{staticClass:"row"},t._l(t.files.informePago,(function(s){return e("div",{key:s.name,staticClass:"col-3 text-center;"},[e("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(e){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("4c8b"),alt:""}}):e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}),e("span",[t._v(t._s(s.name))]),e("br"),e("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?e("div",{on:{click:function(e){return t.deleteFile(s,"informePago")}}},[e("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e()])],1)],1),e("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[e("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion-3",modifiers:{"accordion-3":!0}}],attrs:{block:"",variant:"info"}},[t._v("Ratificación en juicio")])],1),e("b-collapse",{attrs:{id:"accordion-3",accordion:"my-accordion",role:"tabpanel"}},[e("b-card-body",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-4 mt-4"},[e("label",{staticClass:"d-block",attrs:{for:"ratificacionEnviado"}},[t._v("Enviado al cliente: ")]),e("label",{staticClass:"mr-1",attrs:{for:"ratificacionEnviado"}},[t._v("Si")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.enviadoCliente,expression:"ratificacion.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionEnviado",name:"ratificacionEnviado",value:"true"},domProps:{checked:t._q(t.ratificacion.enviadoCliente,"true")},on:{change:function(e){return t.$set(t.ratificacion,"enviadoCliente","true")}}}),e("label",{staticClass:"ml-3 mr-1",attrs:{for:"ratificacionEnviado"}},[t._v("No")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.enviadoCliente,expression:"ratificacion.enviadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionEnviado",name:"ratificacionEnviado",value:"false"},domProps:{checked:t._q(t.ratificacion.enviadoCliente,"false")},on:{change:function(e){return t.$set(t.ratificacion,"enviadoCliente","false")}}})]),t.showAsAdmin?e("div",{staticClass:"col-4 mt-4"},[e("label",{staticClass:"d-block"},[t._v("Pagado por el cliente: ")]),e("label",{staticClass:"mr-1",attrs:{for:"ratificacionPagadoCliente"}},[t._v("Si")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.pagadoCliente,expression:"ratificacion.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionPagadoCliente",name:"ratificacionPagoCliente",value:"true"},domProps:{checked:t._q(t.ratificacion.pagadoCliente,"true")},on:{change:function(e){return t.$set(t.ratificacion,"pagadoCliente","true")}}}),e("label",{staticClass:"ml-3 mr-1",attrs:{for:"ratificacionPagadoCliente"}},[t._v("No")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.pagadoCliente,expression:"ratificacion.pagadoCliente"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionPagadoCliente",name:"ratificacionPagoCliente",value:"false"},domProps:{checked:t._q(t.ratificacion.pagadoCliente,"false")},on:{change:function(e){return t.$set(t.ratificacion,"pagadoCliente","false")}}})]):t._e(),t.showAsAdmin?e("div",{staticClass:"col-4 mt-4"},[e("label",{staticClass:"d-block"},[t._v("Pagado al especialista: ")]),e("label",{staticClass:"mr-1",attrs:{for:"ratificacionPagadoEspecialista"}},[t._v("Si")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.pagadoEspecialista,expression:"ratificacion.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionPagadoEspecialista",name:"ratificacionPagoEspecialista",value:"true"},domProps:{checked:t._q(t.ratificacion.pagadoEspecialista,"true")},on:{change:function(e){return t.$set(t.ratificacion,"pagadoEspecialista","true")}}}),e("label",{staticClass:"ml-4 mr-1",attrs:{for:"ratificacionPagadoEspecialista"}},[t._v("No")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ratificacion.pagadoEspecialista,expression:"ratificacion.pagadoEspecialista"}],staticClass:"hAuto",attrs:{type:"radio",id:"ratificacionPagadoEspecialista",name:"ratificacionPagoEspecialista",value:"false"},domProps:{checked:t._q(t.ratificacion.pagadoEspecialista,"false")},on:{change:function(e){return t.$set(t.ratificacion,"pagadoEspecialista","false")}}})]):t._e(),e("div",{staticClass:"col-12"},[e("h3",[t._v("Archivos de ratificación de juicio")]),e("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[e("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),e("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(e){return e.preventDefault(),t.uploadFile("ratificacion")}}},[t._v("\n                  Subir Archivo\n                ")])],1)]),t.files.informe?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",[t._v("Archivos Subidos:")]),e("div",{staticClass:"row"},t._l(t.files.ratificacion,(function(s){return e("div",{key:s.name,staticClass:"col-3 text-center;"},[e("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(e){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("4c8b"),alt:""}}):e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}),e("span",[t._v(t._s(s.name))]),e("br"),e("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?e("div",{on:{click:function(e){return t.deleteFile(s,"ratificacion")}}},[e("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),t.superAdmin?e("div",{staticClass:"col-12 pl-0"},[e("h3",[t._v("Informe de ratificación de juicio")]),e("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[e("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),e("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(e){return e.preventDefault(),t.uploadFile("informeRatificacion")}}},[t._v("\n                  Subir Archivo\n                ")])],1):t._e(),t.files.informeRatificacion?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",[t._v("Archivos Subidos:")]),e("div",{staticClass:"row"},t._l(t.files.informeRatificacion,(function(s){return e("div",{key:s.name,staticClass:"col-3 text-center;"},[e("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(e){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("4c8b"),alt:""}}):e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}),e("span",[t._v(t._s(s.name))]),e("br"),e("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?e("div",{on:{click:function(e){return t.deleteFile(s,"informeRatificacion")}}},[e("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e(),t.showAsSuperAdmin?e("div",{staticClass:"col-12 pl-0"},[e("h3",[t._v("Archivos Pagos de ratificación de juicio")]),e("label",{staticClass:"text-white custom-file-upload",attrs:{for:"file-upload"}},[e("input",{attrs:{type:"file",id:"file-upload",multiple:""},on:{change:t.onFileChange}}),t._v("\n                  Seleccionar archivo\n                ")]),e("p-button",{staticClass:"ml-4",attrs:{type:"info",round:"",disabled:!t.file},nativeOn:{click:function(e){return e.preventDefault(),t.uploadFile("ratificacionPago")}}},[t._v("\n                  Subir Archivo\n                ")])],1):t._e(),t.files.ratificacionPago&&t.showAsSuperAdmin?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",[t._v("Archivos Subidos:")]),e("div",{staticClass:"row"},t._l(t.files.ratificacionPago,(function(s){return e("div",{key:s.name,staticClass:"col-3 text-center;"},[e("a",{class:{"clicked-file":t.clickedFiles.includes(s.name)},staticStyle:{display:"block"},attrs:{href:s.url,target:"_blank"},on:{click:function(e){return t.markAsClicked(s.name)}}},[s.name.includes(".pdf")||s.name.includes(".doc")||s.name.includes(".docx")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}):s.name.includes(".png")||s.name.includes(".jpg")||s.name.includes(".jpeg")?e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("4c8b"),alt:""}}):e("img",{staticClass:"mb-3",staticStyle:{"max-width":"75px",display:"block",margin:"0 auto"},attrs:{src:a("77ef"),alt:""}}),e("span",[t._v(t._s(s.name))]),e("br"),e("span",[t._v("Fecha de archivo subido: "+t._s(s.date?s.date.split("T")[0]:"Hoy"))])]),t.showAsSuperAdmin?e("div",{on:{click:function(e){return t.deleteFile(s,"ratificacionPago")}}},[e("p-button",{staticClass:"mt-2",attrs:{type:"danger",round:"",disabled:!s}},[t._v("\n                          Eliminar\n                      ")])],1):t._e()])})),0)])]):t._e()])],1),t.successMessage?e("b-alert",{attrs:{variant:"success",show:""}},[t._v(t._s(t.successMessage))]):t._e(),t.errorMessage?e("b-alert",{attrs:{variant:"danger",show:""}},[t._v(t._s(t.errorMessage))]):t._e(),t.showSuccess?e("b-alert",{attrs:{variant:"success",show:""}},[t._v("Caso actualizado correctamente")]):t._e(),e("p-button",{staticClass:"mt-4",attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.saveCase.apply(null,arguments)}}},[t._v("\n          Guardar caso\n        ")])],1)],1):t._e(),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Editar especialista\n    ")]},proxy:!0}]),model:{value:t.editEspe,callback:function(e){t.editEspe=e},expression:"editEspe"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.espeChange,expression:"espeChange"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.espeChange=e.target.multiple?a:a[0]}}},t._l(t.especialistas,(function(a,s){return e("option",{key:s,domProps:{value:a.tel}},[t._v(t._s(`${a.nombre} ${a.apellidos}`))])})),0),e("i",{staticClass:"mt-3",staticStyle:{"white-space-collapse":"preserve-breaks"}},[t._v("\n      *Para poder ver reflejado el cambio de especialista tienes que volver al listado principal del cual viniste.\n    ")]),e("p-button",{staticClass:"mt-4",attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.updateEspe.apply(null,arguments)}}},[t._v("\n      Aceptar\n    ")])],1),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Editar especialidad\n    ")]},proxy:!0}]),model:{value:t.editEspecialidad,callback:function(e){t.editEspecialidad=e},expression:"editEspecialidad"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.especialidadChange,expression:"especialidadChange"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.especialidadChange=e.target.multiple?a:a[0]}}},t._l(t.especialidades,(function(a,s){return e("option",{key:s,domProps:{value:a.id}},[t._v(t._s(a.nombre))])})),0),e("i",{staticClass:"mt-3",staticStyle:{"white-space-collapse":"preserve-breaks"}},[t._v("\n      *Para poder ver reflejado el cambio de especialista tienes que volver al listado principal del cual viniste.\n    ")]),e("p-button",{staticClass:"mt-4",attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.updateEspecialidad.apply(null,arguments)}}},[t._v("\n      Aceptar\n    ")])],1),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Finalizar caso\n    ")]},proxy:!0}]),model:{value:t.modalCloseCase,callback:function(e){t.modalCloseCase=e},expression:"modalCloseCase"}},[e("p",[t._v("Deseas finalizar el caso")]),e("p-button",{staticClass:"mt-4",attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.closeCase.apply(null,arguments)}}},[t._v("\n      Aceptar\n    ")])],1),e("b-modal",{attrs:{id:"budget-modal","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n      Realizar Factura\n    ")]},proxy:!0}]),model:{value:t.modalFactura,callback:function(e){t.modalFactura=e},expression:"modalFactura"}})],1)},Ja=[],Qa={props:{caseDetail:{type:Object},userCase:{type:Object},user:{type:Object},isClient:{type:Boolean}},setup(t,{emit:e}){const a=Object(s["ref"])(!1),i=Object(s["ref"])(t.caseDetail.estudio?t.caseDetail.estudio:{}),o=Object(s["ref"])(t.caseDetail.informe?t.caseDetail.informe:{}),n=Object(s["ref"])(t.caseDetail.ratificacion?t.caseDetail.ratificacion:{}),l=Object(s["ref"])(null),d=Object(s["ref"])(null),u=Object(s["ref"])(""),v=Object(s["ref"])(""),f=Object(s["ref"])([]),C=Object(s["ref"])(!1),b=Object(s["ref"])(!1),g=Object(s["ref"])([]),h=Object(s["ref"])([]),_=Object(s["ref"])([]),y=Object(s["ref"])(""),w=Object(s["ref"])(""),k=Object(s["ref"])(!1),A=Object(s["ref"])(!1),x=Object(s["ref"])(!1),S=Object(s["ref"])([]),O=Object(s["ref"])(JSON.parse(localStorage.getItem("userInform"))),D=t=>{if(!t)return"NA";const e=new Date(t),a=String(e.getDate()).padStart(2,"0"),s=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return`${a}/${s}/${i}`},P=JSON.parse(localStorage.getItem("userInform")),j=Object(s["computed"])(()=>!(!P.admin||!0!==P.admin)),E=Object(s["computed"])(()=>!(!P.superAdmin||!0!==P.superAdmin)),N=async()=>{const e=Object(c["d"])(p,"casos",t.caseDetail.id);await Object(c["l"])(e,{estudioPlazo:i.value.plazo?new Date(i.value.plazo).getTime():null,informePlazo:o.value.plazo?new Date(o.value.plazo).getTime():null,ratificacionPlazo:n.value.plazo?new Date(n.value.plazo).getTime():null,ratificacionJuicio:n.value.fechaJuicio?new Date(n.value.fechaJuicio).getTime():null,estudio:i.value,informe:o.value,ratificacion:n.value})},T=async()=>{const e=Object(c["d"])(p,"casos",t.caseDetail.id);await Object(c["l"])(e,{status:"4"}),A.value=!1},I=async()=>{const e=Object(c["d"])(p,"casos",t.caseDetail.id);await Object(c["l"])(e,{telEspecialista:y.value}),k.value=!0,C.value=!1,setTimeout(()=>{k.value=!1},4e3)},F=async()=>{const e=Object(c["d"])(p,"casos",t.caseDetail.id);await Object(c["l"])(e,{especialidad:w.value}),k.value=!0,b.value=!1,setTimeout(()=>{k.value=!1},4e3)},$=t=>{l.value=Array.from(t.target.files),u.value="",d.value=null,v.value=""},M=async()=>{try{const t=new FormData,e=window.location.hash.split("/")[window.location.hash.split("/").length-1];t.append("to","coordinacionpraxis@informesmedicospericiales.com"),t.append("subject","Nuevo documento subido"),t.append("text",`Nuevo documento subido de praxis <a href="https://alexmc14.github.io/peritomedicotest/#/perfil/${e}" target="_blank">link al perfil</a>`),await fetch("https://test-perito.onrender.com/send-email",{method:"POST",body:t})}catch(t){console.error("Error al enviar el presupuesto:",t),alert("Hubo un error al enviar el presupuesto")}},L=async()=>{try{const e=new FormData,a=window.location.hash.split("/")[window.location.hash.split("/").length-1];e.append("to","lsanchezamo@yahoo.es"),e.append("subject","Nuevo informe subido"),e.append("text",`Nuevo informe subido por ${O.value.nombre} ${O.value.apellidos} al cliente ${t.userCase.nombre} ${t.userCase.apellidos} <a href="https://alexmc14.github.io/peritomedicotest/#/perfil/${a}" target="_blank">link al perfil</a>`),await fetch("https://test-perito.onrender.com/send-email",{method:"POST",body:e})}catch(e){console.error("Error al enviar el presupuesto:",e),alert("Hubo un error al enviar el presupuesto")}},R=e=>{if(!l.value||0===l.value.length)return v.value="Por favor selecciona un archivo.",void setTimeout(()=>{v.value=""},2e3);const a=Array.isArray(l.value)?l.value:[l.value];for(const s of a){const a=Object(r["f"])(m,`casos/${t.caseDetail.factura}/${e}/${s.name}`),i=Object(r["g"])(a,s);i.on("state_changed",t=>{const e=t.bytesTransferred/t.totalBytes*100;d.value=e.toFixed(0)},t=>{v.value="Error al subir el archivo: "+t.message,setTimeout(()=>{v.value=""},2e3)},()=>{Object(r["b"])(i.snapshot.ref).then(t=>{u.value="Archivo subido con éxito! URL: "+t,setTimeout(()=>{u.value=""},2e3),"viabilidad"===e&&f.value.viabilidad.push({name:s.name,url:t,ref:i.snapshot.ref}),"informe"===e&&f.value.informe.push({name:s.name,url:t,ref:i.snapshot.ref}),"ratificacion"===e&&f.value.ratificacion.push({name:s.name,url:t,ref:i.snapshot.ref}),"viabilidadPago"===e&&f.value.viabilidadPago.push({name:s.name,url:t,ref:i.snapshot.ref}),"informePago"===e&&f.value.informePago.push({name:s.name,url:t,ref:i.snapshot.ref}),"ratificacionPago"===e&&f.value.ratificacionPago.push({name:s.name,url:t,ref:i.snapshot.ref}),"informeViabilidad"===e&&(f.value.informeViabilidad.push({name:s.name,url:t,ref:i.snapshot.ref}),L()),"informePericial"===e&&(f.value.informePericial.push({name:s.name,url:t,ref:i.snapshot.ref}),L()),"informeRatificacion"===e&&(f.value.informeRatificacion.push({name:s.name,url:t,ref:i.snapshot.ref}),L()),"facturaEspecialista"===e&&f.value.facturaEspecialista.push({name:s.name,url:t,ref:i.snapshot.ref}),l.value=null})})}"praxis"!==t.caseDetail.especialidadNombre.toLowerCase()||e.toLowerCase().includes("pago")||e.toLowerCase().includes("facturaEspecialista")||M()},z=async()=>{const e=["viabilidad","informe","ratificacion","viabilidadPago","informePago","ratificacionPago","informeViabilidad","informePericial","informeRatificacion","facturaEspecialista"];let a={};await Promise.all(e.map(async e=>{const s=Object(r["f"])(m,`casos/${t.caseDetail.factura}/${e}`),i=await Object(r["e"])(s);a[e]=await Promise.all(i.items.map(async t=>{const e=await Object(r["b"])(t),a=Object(r["d"])(),s=e,i=Object(r["f"])(a,s),o=await Object(r["c"])(i);return{name:t.name,url:e,ref:t,date:o.timeCreated}}))})),a.informe.length>0&&(a.informe=a.informe.sort((t,e)=>new Date(t.date)-new Date(e.date))),a.ratificacion.length>0&&(a.ratificacion=a.ratificacion.sort((t,e)=>new Date(t.date)-new Date(e.date))),a.viabilidad.length>0&&(a.viabilidad=a.viabilidad.sort((t,e)=>new Date(t.date)-new Date(e.date))),a.viabilidadPago.length>0&&(a.viabilidadPago=a.viabilidadPago.sort((t,e)=>new Date(t.date)-new Date(e.date))),a.informePago.length>0&&(a.informePago=a.informePago.sort((t,e)=>new Date(t.date)-new Date(e.date))),a.ratificacionPago.length>0&&(a.ratificacionPago=a.ratificacionPago.sort((t,e)=>new Date(t.date)-new Date(e.date))),a.informeViabilidad.length>0&&(a.informeViabilidad=a.informeViabilidad.sort((t,e)=>new Date(t.date)-new Date(e.date))),a.informePericial.length>0&&(a.informePericial=a.informePericial.sort((t,e)=>new Date(t.date)-new Date(e.date))),a.informeRatificacion.length>0&&(a.informeRatificacion=a.informeRatificacion.sort((t,e)=>new Date(t.date)-new Date(e.date))),a.facturaEspecialista.length>0&&(a.facturaEspecialista=a.facturaEspecialista.sort((t,e)=>new Date(t.date)-new Date(e.date))),f.value=a},B=async(t,e)=>{const a=t.ref;try{await Object(r["a"])(a),"viabilidad"===e&&(f.value.viabilidad=f.value.viabilidad.filter(e=>e.name!==t.name)),"informe"===e&&(f.value.informe=f.value.informe.filter(e=>e.name!==t.name)),"ratificacion"===e&&(f.value.ratificacion=f.value.ratificacion.filter(e=>e.name!==t.name)),"viabilidadPago"===e&&(f.value.viabilidadPago=f.value.viabilidadPago.filter(e=>e.name!==t.name)),"informePago"===e&&(f.value.informePago=f.value.informePago.filter(e=>e.name!==t.name)),"ratificacionPago"===e&&(f.value.ratificacionPago=f.value.ratificacionPago.filter(e=>e.name!==t.name)),"informeViabilidad"===e&&(f.value.informeViabilidad=f.value.informeViabilidad.filter(e=>e.name!==t.name)),"informePericial"===e&&(f.value.informePericial=f.value.informePericial.filter(e=>e.name!==t.name)),"informeRatificacion"===e&&(f.value.informeRatificacion=f.value.informeRatificacion.filter(e=>e.name!==t.name)),"facturaEspecialista"===e&&(f.value.facturaEspecialista=f.value.facturaEspecialista.filter(e=>e.name!==t.name)),u.value=`Archivo ${t.name} eliminado exitosamente.`,setTimeout(()=>{u.value=""},2e3)}catch(s){console.error("Error al eliminar el archivo:",s),v.value="Error al eliminar el archivo: "+s.message,setTimeout(()=>{v.value=""},2e3)}},U=async()=>{g.value=(await Object(c["e"])(Object(c["b"])(p,"especialistas"))).docs.map(t=>({id:t.id,...t.data()})).sort((t,e)=>`${t.nombre} ${t.apellidos}`.localeCompare(`${e.nombre} ${e.apellidos}`))},q=async()=>{h.value=(await Object(c["e"])(Object(c["b"])(p,"especialidades"))).docs.map(t=>({id:t.id,...t.data()}))},V=async()=>{if(t.userCase&&t.userCase.tel&&t.user){console.log("aa",t.userCase),console.log("bb",t.user);try{const e=Object(c["j"])(Object(c["b"])(p,"citas"),Object(c["m"])("cliente.telCliente","==",t.isClient?t.user.tel:t.userCase.tel)),a=await Object(c["e"])(e);S.value=a.docs.map(t=>({id:t.id,...t.data()})).sort((t,e)=>new Date(e.fecha)-new Date(t.fecha))}catch(e){console.error("Error al obtener citas del cliente:",e),S.value=[]}}};return Object(s["watch"])(C,t=>{!0===C.value&&0===g.value.length?U():!0===C.value&&console.log(g.value)}),Object(s["watch"])(b,t=>{!0===b.value&&0===h.value.length?q():!0===b.value&&console.log(h.value)}),z(),V(),{formatDate:D,comunidades:le,provincias:de,showAsAdmin:j,estudio:i,informe:o,ratificacion:n,showSuccess:a,closeCase:T,modalCloseCase:A,saveCase:()=>{a.value=!0,setTimeout(()=>{a.value=!1},2e3),N()},openAllFiles:t=>{t.forEach((t,e)=>{t.url&&setTimeout(()=>{window.open(t.url,"_blank")},500*e)})},markAsClicked:t=>{console.log(t),_.value.includes(t)||_.value.push(t)},descargarArchivo:(t,e)=>{console.log(t);const a=document.createElement("a");a.href=t,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)},onFileChange:$,uploadFile:R,uploadProgress:d,successMessage:u,errorMessage:v,file:l,files:f,deleteFile:B,editEspe:C,editEspecialidad:b,especialidades:h,especialistas:g,espeChange:y,especialidadChange:w,updateEspe:I,showSuccessEspe:k,updateEspecialidad:F,userInfo:O,showAsSuperAdmin:E,clickedFiles:_,modalFactura:x,citasCliente:S}}},Ya=Qa,Wa=(a("06bd"),Object(b["a"])(Ya,Ga,Ja,!1,null,null,null)),Ka=Wa.exports,Za=function(){var t=this,e=t._self._c;return e("card",{staticClass:"card-user"},[e("div",[e("span",{staticStyle:{color:"#007bff",cursor:"pointer"},on:{click:function(e){return t.$emit("back")}}},[t._v("Volver")]),e("div",{staticClass:"col-12 mt-3"},[e("h3",[t._v("Selecciona las rutas visibles:")]),e("div",{staticClass:"row"},t._l(t.routes,(function(a,s){return e("div",{key:s,staticClass:"col-4 d-flex align-items-center",staticStyle:{"min-height":"40px"}},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.visibility,expression:"route.visibility"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.visibility)?t._i(a.visibility,null)>-1:a.visibility},on:{change:function(e){var s=a.visibility,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,c=t._i(s,n);i.checked?c<0&&t.$set(a,"visibility",s.concat([n])):c>-1&&t.$set(a,"visibility",s.slice(0,c).concat(s.slice(c+1)))}else t.$set(a,"visibility",o)}}}),e("label",{staticClass:"form-check-label",staticStyle:{"margin-left":"5px"}},[t._v(t._s(a.path))])])])})),0)]),e("div",{staticClass:"custom-select-wrapper col-md-6 mt-5"},[e("div",{staticClass:"custom-select-wrapper col-md-12"},[e("label",{attrs:{for:""}},[t._v("Que especialidad puede ver aparte de sus casos")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.verEspe,expression:"verEspe"}],staticClass:"custom-select",staticStyle:{"min-height":"100px"},attrs:{multiple:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.verEspe=e.target.multiple?a:a[0]}}},t._l(t.especialidades,(function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.nombre))])})),0)])])]),e("div",{staticClass:"col-12 mt-3"},[e("p-button",{attrs:{type:"info",round:""},nativeOn:{click:function(e){return e.preventDefault(),t.saveInfo.apply(null,arguments)}}},[t._v("\r\n            Guardar\r\n          ")])],1)])},Xa=[],ts={props:{user:{type:Object}},setup(t){const e=Object(s["ref"])(""),a=Object(s["ref"])(""),i=Object(s["ref"])([]),o=Object(s["ref"])([]),n=async()=>{o.value=(await Object(c["e"])(Object(c["b"])(p,"especialidades"))).docs.map(t=>({id:t.id,...t.data()}))},r=Object(s["ref"])([{path:"dashboard",visibility:!1},{path:"alta-especialidades",visibility:!1},{path:"listado-notificaciones-chats",visibility:!1},{path:"listado-clientes",visibility:!1},{path:"listado-clientes-llamar",visibility:!1},{path:"listado-clientes-sin-abogado",visibility:!1},{path:"listado-especialistas",visibility:!1},{path:"listado-despachos",visibility:!1},{path:"alta-clientes",visibility:!1},{path:"casos-sin-asignar",visibility:!1},{path:"clientes-sin-presupuesto",visibility:!1},{path:"clientes-presupuesto-pendiente",visibility:!1},{path:"presupuestos-aceptados",visibility:!1},{path:"alta-especialista",visibility:!1},{path:"alta-despacho",visibility:!1},{path:"mis-casos",visibility:!1},{path:"mis-casos-abogados",visibility:!1},{path:"seguimiento-casos",visibility:!1},{path:"citas",visibility:!1},{path:"calendario",visibility:!1},{path:"calendario-remesas",visibility:!1},{path:"historico-login",visibility:!1}]),l=async()=>{const e=Object(c["j"])(Object(c["b"])(p,"especialistas"),Object(c["m"])("correo","==",t.user.correo)),a=await Object(c["e"])(e);if(a.docs.length>0){const t=Object(c["d"])(p,"especialistas",a.docs[0].id),e=[];o.value.forEach(t=>{i.value.includes(t.id)&&e.push(t)}),await Object(c["l"])(t,{especialidadesObs:e,routes:r.value})}else console.error("No se encontroooo")},d=()=>{t.user.especialidadesObs.forEach(t=>{i.value.push(t.id)}),r.value.forEach(e=>{const a=t.user.routes.find(t=>"object"===typeof t&&t.path===e.path&&!0===t.visibility);a&&(e.visibility=!0)})};return Object(s["onMounted"])(()=>{n(),d()}),{mail:e,password:a,routes:r,verEspe:i,especialidades:o,saveInfo:()=>{l()}}}},es=ts,as=(a("3105"),Object(b["a"])(es,Za,Xa,!1,null,"830c1698",null)),ss=as.exports,is={components:{UserCard:Fa,CasosUsuario:Ha,UserCase:Ka,GestionPermisos:ss},data(){return{isClient:!0,typeUser:"cliente",user:{id:"CLI001",nombre:"María",apellidos:"González López",tel:"+34 612 345 678",email:"maria.gonzalez@email.com",fechaNacimiento:"1985-03-15",direccion:"Calle Mayor 123, 2º A",codigoPostal:"28001",notas:"Cliente preferente. Interesada en servicios de derecho laboral y familia."},cases:[{id:"1",nombreCompleto:"María González López",fechaAlta:"15/01/2024",estadoCaso:"Presupuesto aceptado",especialidadNombre:"Derecho Laboral",pago:"Si Si Si"},{id:"2",nombreCompleto:"María González López",fechaAlta:"20/02/2024",estadoCaso:"Caso finalizado",especialidadNombre:"Derecho de Familia",pago:"Si Si Si"},{id:"3",nombreCompleto:"María González López",fechaAlta:"10/03/2024",estadoCaso:"Presupuesto pendiente",especialidadNombre:"Derecho Civil",pago:"No No No"}],idUser:null,especialidades:[],caseDetail:null,userCase:null,showCases:!0,gestionPermiso:!1,showModalCita:!1,userData:JSON.parse(localStorage.getItem("userInform")),newRemesa:{fecha:"",cantidad:"",idCliente:"",nombreCliente:""},remesas:[],showRemesa:!1,visitHistory:[{fecha:"2024-01-15",hora:"10:30",tipo:"Consulta inicial",descripcion:"Primera consulta para evaluación del caso de despido improcedente",status:"completada"},{fecha:"2024-02-20",hora:"16:00",tipo:"Seguimiento",descripcion:"Revisión de documentos y avances en el proceso judicial",status:"completada"},{fecha:"2024-03-10",hora:"11:15",tipo:"Juicio",descripcion:"Audiencia judicial para el caso de derecho laboral",status:"pendiente"},{fecha:"2024-03-25",hora:"09:45",tipo:"Consulta familiar",descripcion:"Asesoramiento sobre proceso de divorcio",status:"programada"},{fecha:"2024-04-05",hora:"14:30",tipo:"Firma de documentos",descripcion:"Firma de acuerdo de divorcio y documentos finales",status:"programada"}],purchaseHistory:[{fecha:"2024-01-15",producto:"Consulta legal laboral",descripcion:"Evaluación inicial del caso de despido improcedente",precio:150,tipo:"servicio",status:"pagado"},{fecha:"2024-02-20",producto:"Documentación judicial",descripcion:"Preparación de demanda y documentos oficiales",precio:300,tipo:"documento",status:"pagado"},{fecha:"2024-03-05",producto:"Representación judicial",descripcion:"Servicios de abogado en juicio laboral",precio:800,tipo:"servicio",status:"pagado"},{fecha:"2024-03-15",producto:"Consulta familiar",descripcion:"Asesoramiento inicial sobre proceso de divorcio",precio:120,tipo:"consulta",status:"pagado"},{fecha:"2024-03-20",producto:"Acuerdo de divorcio",descripcion:"Elaboración y negociación del acuerdo de divorcio",precio:450,tipo:"documento",status:"pendiente"},{fecha:"2024-04-01",producto:"Servicios notariales",descripcion:"Gestión de documentos notariales para el divorcio",precio:200,tipo:"servicio",status:"pendiente"}]}},computed:{showAsSuperAdmin(){return this.userData&&!0===this.userData.superAdmin},activeCases(){return this.cases.filter(t=>t.estadoCaso.includes("pendiente")||t.estadoCaso.includes("aceptado")).length},completedCases(){return this.cases.filter(t=>t.estadoCaso.includes("finalizado")).length},totalRevenue(){return this.purchaseHistory.filter(t=>"pagado"===t.status).reduce((t,e)=>t+e.precio,0)}},mounted(){this.idUser=this.$route.params.id,console.log("ID del usuario obtenido de la URL:",this.idUser),this.fetchUserData(),this.fetchEspecialidades()},methods:{getStatusClass(){return"status-client"},getStatusText(){return"Cliente Activo"},getRoleText(){return"Cliente del sistema"},formatVisitDate(t){const e=new Date(t),a=["ENE","FEB","MAR","ABR","MAY","JUN","JUL","AGO","SEP","OCT","NOV","DIC"];return{day:e.getDate(),month:a[e.getMonth()]}},getPurchaseIcon(t){const e={servicio:"ti-settings",documento:"ti-file",producto:"ti-package",consulta:"ti-comments"};return e[t]||"ti-shopping-cart"},formatDate(t){if(!t)return"NA";const e=new Date(t),a=String(e.getDate()).padStart(2,"0"),s=String(e.getMonth()+1).padStart(2,"0"),i=e.getFullYear();return`${a}/${s}/${i}`},async fetchEspecialidades(){this.especialidades=[{id:"1",nombre:"Derecho Laboral"},{id:"2",nombre:"Derecho de Familia"},{id:"3",nombre:"Derecho Civil"},{id:"4",nombre:"Derecho Mercantil"}]},async fetchCases(){this.showCases=!0},async fetchUserData(){try{if(console.log("ID del usuario obtenido de la URL:",this.idUser),this.idUser){const t=await Pe["a"].getById(this.idUser);console.log("Datos del usuario obtenidos:",t),t&&(this.user={id:t._id||t.id,nombre:t.nombre||"",apellidos:t.apellidos||"",tel:t.telefono||t.tel||"",email:t.email||"",fechaNacimiento:t.fechaNacimiento||"",direccion:t.direccion||"",codigoPostal:t.codigoPostal||"",notas:t.notas||""})}this.fetchCases()}catch(t){console.error("Error al obtener datos del usuario:",t)}},async fetchEspe(){this.userCase={nombre:"Dr. Carlos",apellidos:"Martínez Ruiz",tel:"+34 678 901 234",email:"carlos.martinez@despacho.com",especialidad:"Derecho Laboral"}},wantAddBook(){this.showModalCita=!0},setCase(t){this.caseDetail=t,this.fetchEspe()},addRemesa(){this.newRemesa.idCliente=this.user.id,this.newRemesa.nombreCliente=this.user.nombre+this.user.apellidos,this.newRemesa.pagado=!1,this.remesas.push({...this.newRemesa}),this.newRemesa={fecha:"",cantidad:"",idCliente:this.user.id,nombreCliente:this.user.nombre+this.user.apellidos}},async addAllRemesas(){0!==this.remesas.length&&(console.log("Remesas guardadas:",this.remesas),this.showRemesa=!1,this.newRemesa={fecha:"",cantidad:"",idCliente:this.user.id,nombreCliente:this.user.nombre+" "+this.user.apellidos},this.remesas=[])}}},os=is,ns=(a("73f6"),Object(b["a"])(os,wa,ka,!1,null,"14651936",null)),cs=ns.exports,rs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[""!==t.errorMessage?e("b-alert",{staticStyle:{position:"fixed",left:"0px",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"danger",show:""}},[t._v(t._s(t.errorMessage))]):t._e(),e("form",{staticClass:"form-filters mx-5 my-5 py-5",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"mail"}},[t._v("Usuario")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mail,expression:"mail"}],staticClass:"form-control",attrs:{id:"mail",type:"text",placeholder:"Usuario",autocomplete:"username"},domProps:{value:t.mail},on:{input:function(e){e.target.composing||(t.mail=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[t._v("Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{id:"password",type:"password",placeholder:"Contraseña",autocomplete:"current-password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("Login")])])],1)},ls=[],ds={data(){return{mail:"",password:"",errorMessage:"",libraryErrors:["Email inválido","Contraseña incorrecta"]}},methods:{async login(){const t=Object(v["b"])();try{const a=await Object(v["d"])(t,this.mail,this.password);console.log(a);const s=await Object(Pe["d"])(this.mail);if(s&&s.plataformaId){localStorage.setItem("tenantId",s.plataformaId),Object(Pe["f"])(s.plataformaId);try{const t=await B["g"].getAll(),e=Array.isArray(t)?t:t.data||[];if(e.length>0){const t=e[0],a="/crm-seccion/"+this.sanitizePath(t.nombre);this.$router.push(a)}else this.$router.push("/crm-dinamico")}catch(e){console.error("Error al cargar secciones:",e),this.$router.push("/crm-dinamico")}}else this.errorMessage="No se pudo obtener la plataforma asociada a este usuario.",setTimeout(()=>{this.errorMessage=""},3e3)}catch(e){console.error("Error en el login:",e.code,e.message),"auth/user-not-found"===e.code?this.errorMessage="El usuario no existe":"auth/wrong-password"===e.code?this.errorMessage="Contraseña incorrecta":"auth/invalid-email"===e.code?this.errorMessage="Email inválido":this.errorMessage="Error al iniciar sesión",setTimeout(()=>{this.errorMessage=""},3e3)}},sanitizePath(t){return t.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}}},us=ds,ps=(a("a6d7"),Object(b["a"])(us,rs,ls,!1,null,"6046bbdc",null)),ms=ps.exports,vs=function(){var t=this,e=t._self._c;return e("card",{attrs:{title:"Notifications","sub-title":"Custom Vue notifications plugin"}},[e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h5",[t._v("Notifications Style")]),e("div",{staticClass:"alert alert-info"},[e("span",[t._v("This is a plain notification")])]),e("div",{staticClass:"alert alert-info"},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),e("span",[t._v("This is a notification with close button.")])]),e("div",{staticClass:"alert alert-info alert-with-icon",attrs:{"data-notify":"container"}},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),e("span",{staticClass:"ti-bell",attrs:{"data-notify":"icon"}}),e("span",{attrs:{"data-notify":"message"}},[t._v("This is a notification with close button and icon.")])]),e("div",{staticClass:"alert alert-info alert-with-icon",attrs:{"data-notify":"container"}},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),e("span",{staticClass:"ti-pie-chart",attrs:{"data-notify":"icon"}}),e("span",{attrs:{"data-notify":"message"}},[t._v("This is a notification with close button and icon and have many\n            lines. You can see that the icon and the close button are always\n            vertically aligned. This is a beautiful notification. So you don't\n            have to worry about the style.")])])]),e("div",{staticClass:"col-md-6"},[e("h5",[t._v("Notification states")]),e("div",{staticClass:"alert alert-info"},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),e("span",[e("b",[t._v(" Info - ")]),t._v(' This is a regular notification made with\n            ".alert-info"')])]),e("div",{staticClass:"alert alert-success"},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),e("span",[e("b",[t._v(" Success - ")]),t._v(' This is a regular notification made with\n            ".alert-success"')])]),e("div",{staticClass:"alert alert-warning"},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),e("span",[e("b",[t._v(" Warning - ")]),t._v(' This is a regular notification made with\n            ".alert-warning"')])]),e("div",{staticClass:"alert alert-danger"},[e("button",{staticClass:"close",attrs:{type:"button","aria-hidden":"true"}},[t._v("×")]),e("span",[e("b",[t._v(" Danger - ")]),t._v(' This is a regular notification made with\n            ".alert-danger"')])])])]),e("br"),e("br"),e("div",{staticClass:"places-buttons"},[e("div",{staticClass:"row d-flex justify-content-center"},[e("div",[e("h5",[t._v("\n            Notifications Places\n            "),e("p",{staticClass:"category"},[t._v("Click to view notifications")])])])]),e("div",{staticClass:"row d-flex justify-content-center"},[e("div",{staticClass:"col-md-3"},[e("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(e){return t.notifyVue("top","left")}}},[t._v("Top Left")])],1),e("div",{staticClass:"col-md-3"},[e("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(e){return t.notifyVue("top","center")}}},[t._v("Top Center")])],1),e("div",{staticClass:"col-md-3"},[e("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(e){return t.notifyVue("top","right")}}},[t._v("Top Right")])],1)]),e("div",{staticClass:"row d-flex justify-content-center"},[e("div",{staticClass:"col-md-3"},[e("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(e){return t.notifyVue("bottom","left")}}},[t._v("Bottom Left")])],1),e("div",{staticClass:"col-md-3"},[e("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(e){return t.notifyVue("bottom","center")}}},[t._v("Bottom Center")])],1),e("div",{staticClass:"col-md-3"},[e("p-button",{attrs:{round:"",outline:"",block:""},nativeOn:{click:function(e){return t.notifyVue("bottom","right")}}},[t._v("Bottom Right")])],1)])])])])},fs=[],Cs=function(){var t=this,e=t._self._c;return e("span",[t._v("Especialista creado correctamente")])},bs=[],gs={name:"notification-template"},hs=gs,_s=Object(b["a"])(hs,Cs,bs,!1,null,null,null),ys=_s.exports,ws={data(){return{type:["","info","success","warning","danger"],notifications:{topCenter:!1}}},methods:{notifyVue(t,e){const a=Math.floor(4*Math.random()+1);this.$notify({component:ys,icon:"ti-gift",horizontalAlign:e,verticalAlign:t,type:this.type[a]})}}},ks=ws,As=Object(b["a"])(ks,vs,fs,!1,null,null,null),xs=(As.exports,function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("card",[e("template",{slot:"header"},[e("h4",{staticClass:"card-title"},[t._v("320+ Themify Icons")]),e("p",{staticClass:"card-category"},[t._v("\n          Handcrafted by our friends from\n          "),e("a",{attrs:{target:"_blank",href:"https://themify.me/"}},[t._v("Themify")]),t._v(".\n        ")])]),e("div",{staticClass:"content all-icons"},[e("div",{staticClass:"icon-section"},[e("h3",[t._v("Arrows & Direction Icons")]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrow-up"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrow-up")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrow-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrow-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrow-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrow-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrow-down"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrow-down")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrows-vertical"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrows-vertical")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrows-horizontal"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrows-horizontal")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-angle-up"}),e("span",{staticClass:"icon-name"},[t._v(" ti-angle-up")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-angle-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-angle-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-angle-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-angle-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-angle-down"}),e("span",{staticClass:"icon-name"},[t._v(" ti-angle-down")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-angle-double-up"}),e("span",{staticClass:"icon-name"},[t._v(" ti-angle-double-up")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-angle-double-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-angle-double-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-angle-double-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-angle-double-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-angle-double-down"}),e("span",{staticClass:"icon-name"},[t._v(" ti-angle-double-down")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-move"}),e("span",{staticClass:"icon-name"},[t._v(" ti-move")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-fullscreen"}),e("span",{staticClass:"icon-name"},[t._v(" ti-fullscreen")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrow-top-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrow-top-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrow-top-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrow-top-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrow-circle-up"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrow-circle-up")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrow-circle-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrow-circle-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrow-circle-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrow-circle-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrow-circle-down"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrow-circle-down")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-arrows-corner"}),e("span",{staticClass:"icon-name"},[t._v(" ti-arrows-corner")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-split-v"}),e("span",{staticClass:"icon-name"},[t._v(" ti-split-v")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-split-v-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-split-v-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-split-h"}),e("span",{staticClass:"icon-name"},[t._v(" ti-split-h")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-hand-point-up"}),e("span",{staticClass:"icon-name"},[t._v(" ti-hand-point-up")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-hand-point-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-hand-point-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-hand-point-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-hand-point-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-hand-point-down"}),e("span",{staticClass:"icon-name"},[t._v(" ti-hand-point-down")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-back-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-back-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-back-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-back-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-exchange-vertical"}),e("span",{staticClass:"icon-name"},[t._v(" ti-exchange-vertical")])])]),e("h3",[t._v("Web App Icons")]),e("div",{staticClass:"icon-section"},[e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-wand"}),e("span",{staticClass:"icon-name"},[t._v(" ti-wand")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-save"}),e("span",{staticClass:"icon-name"},[t._v(" ti-save")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-save-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-save-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-direction"}),e("span",{staticClass:"icon-name"},[t._v(" ti-direction")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-direction-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-direction-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-user"}),e("span",{staticClass:"icon-name"},[t._v(" ti-user")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-link"}),e("span",{staticClass:"icon-name"},[t._v(" ti-link")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-unlink"}),e("span",{staticClass:"icon-name"},[t._v(" ti-unlink")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-trash"}),e("span",{staticClass:"icon-name"},[t._v(" ti-trash")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-target"}),e("span",{staticClass:"icon-name"},[t._v(" ti-target")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-tag"}),e("span",{staticClass:"icon-name"},[t._v(" ti-tag")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-desktop"}),e("span",{staticClass:"icon-name"},[t._v(" ti-desktop")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-tablet"}),e("span",{staticClass:"icon-name"},[t._v(" ti-tablet")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-mobile"}),e("span",{staticClass:"icon-name"},[t._v(" ti-mobile")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-email"}),e("span",{staticClass:"icon-name"},[t._v(" ti-email")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-star"}),e("span",{staticClass:"icon-name"},[t._v(" ti-star")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-spray"}),e("span",{staticClass:"icon-name"},[t._v(" ti-spray")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-signal"}),e("span",{staticClass:"icon-name"},[t._v(" ti-signal")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-shopping-cart"}),e("span",{staticClass:"icon-name"},[t._v(" ti-shopping-cart")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-shopping-cart-full"}),e("span",{staticClass:"icon-name"},[t._v(" ti-shopping-cart-full")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-settings"}),e("span",{staticClass:"icon-name"},[t._v(" ti-settings")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-search"}),e("span",{staticClass:"icon-name"},[t._v(" ti-search")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-zoom-in"}),e("span",{staticClass:"icon-name"},[t._v(" ti-zoom-in")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-zoom-out"}),e("span",{staticClass:"icon-name"},[t._v(" ti-zoom-out")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-cut"}),e("span",{staticClass:"icon-name"},[t._v(" ti-cut")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-ruler"}),e("span",{staticClass:"icon-name"},[t._v(" ti-ruler")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-ruler-alt-2"}),e("span",{staticClass:"icon-name"},[t._v(" ti-ruler-alt-2")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-ruler-pencil"}),e("span",{staticClass:"icon-name"},[t._v(" ti-ruler-pencil")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-ruler-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-ruler-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-bookmark"}),e("span",{staticClass:"icon-name"},[t._v(" ti-bookmark")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-bookmark-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-bookmark-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-reload"}),e("span",{staticClass:"icon-name"},[t._v(" ti-reload")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-plus"}),e("span",{staticClass:"icon-name"},[t._v(" ti-plus")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-minus"}),e("span",{staticClass:"icon-name"},[t._v(" ti-minus")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-close"}),e("span",{staticClass:"icon-name"},[t._v(" ti-close")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-pin"}),e("span",{staticClass:"icon-name"},[t._v(" ti-pin")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-pencil"}),e("span",{staticClass:"icon-name"},[t._v(" ti-pencil")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-pencil-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-pencil-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-paint-roller"}),e("span",{staticClass:"icon-name"},[t._v(" ti-paint-roller")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-paint-bucket"}),e("span",{staticClass:"icon-name"},[t._v(" ti-paint-bucket")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-na"}),e("span",{staticClass:"icon-name"},[t._v(" ti-na")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-medall"}),e("span",{staticClass:"icon-name"},[t._v(" ti-medall")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-medall-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-medall-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-marker"}),e("span",{staticClass:"icon-name"},[t._v(" ti-marker")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-marker-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-marker-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-lock"}),e("span",{staticClass:"icon-name"},[t._v(" ti-lock")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-unlock"}),e("span",{staticClass:"icon-name"},[t._v(" ti-unlock")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-location-arrow"}),e("span",{staticClass:"icon-name"},[t._v(" ti-location-arrow")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layers"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layers")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layers-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layers-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-key"}),e("span",{staticClass:"icon-name"},[t._v(" ti-key")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-image"}),e("span",{staticClass:"icon-name"},[t._v(" ti-image")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-heart"}),e("span",{staticClass:"icon-name"},[t._v(" ti-heart")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-heart-broken"}),e("span",{staticClass:"icon-name"},[t._v(" ti-heart-broken")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-hand-stop"}),e("span",{staticClass:"icon-name"},[t._v(" ti-hand-stop")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-hand-open"}),e("span",{staticClass:"icon-name"},[t._v(" ti-hand-open")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-hand-drag"}),e("span",{staticClass:"icon-name"},[t._v(" ti-hand-drag")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-flag"}),e("span",{staticClass:"icon-name"},[t._v(" ti-flag")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-flag-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-flag-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-flag-alt-2"}),e("span",{staticClass:"icon-name"},[t._v(" ti-flag-alt-2")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-eye"}),e("span",{staticClass:"icon-name"},[t._v(" ti-eye")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-import"}),e("span",{staticClass:"icon-name"},[t._v(" ti-import")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-export"}),e("span",{staticClass:"icon-name"},[t._v(" ti-export")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-cup"}),e("span",{staticClass:"icon-name"},[t._v(" ti-cup")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-crown"}),e("span",{staticClass:"icon-name"},[t._v(" ti-crown")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-comments"}),e("span",{staticClass:"icon-name"},[t._v(" ti-comments")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-comment"}),e("span",{staticClass:"icon-name"},[t._v(" ti-comment")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-comment-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-comment-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-thought"}),e("span",{staticClass:"icon-name"},[t._v(" ti-thought")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-clip"}),e("span",{staticClass:"icon-name"},[t._v(" ti-clip")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-check"}),e("span",{staticClass:"icon-name"},[t._v(" ti-check")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-check-box"}),e("span",{staticClass:"icon-name"},[t._v(" ti-check-box")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-camera"}),e("span",{staticClass:"icon-name"},[t._v(" ti-camera")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-announcement"}),e("span",{staticClass:"icon-name"},[t._v(" ti-announcement")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-brush"}),e("span",{staticClass:"icon-name"},[t._v(" ti-brush")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-brush-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-brush-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-palette"}),e("span",{staticClass:"icon-name"},[t._v(" ti-palette")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-briefcase"}),e("span",{staticClass:"icon-name"},[t._v(" ti-briefcase")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-bolt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-bolt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-bolt-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-bolt-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-blackboard"}),e("span",{staticClass:"icon-name"},[t._v(" ti-blackboard")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-bag"}),e("span",{staticClass:"icon-name"},[t._v(" ti-bag")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-world"}),e("span",{staticClass:"icon-name"},[t._v(" ti-world")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-wheelchair"}),e("span",{staticClass:"icon-name"},[t._v(" ti-wheelchair")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-car"}),e("span",{staticClass:"icon-name"},[t._v(" ti-car")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-truck"}),e("span",{staticClass:"icon-name"},[t._v(" ti-truck")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-timer"}),e("span",{staticClass:"icon-name"},[t._v(" ti-timer")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-ticket"}),e("span",{staticClass:"icon-name"},[t._v(" ti-ticket")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-thumb-up"}),e("span",{staticClass:"icon-name"},[t._v(" ti-thumb-up")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-thumb-down"}),e("span",{staticClass:"icon-name"},[t._v(" ti-thumb-down")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-stats-up"}),e("span",{staticClass:"icon-name"},[t._v(" ti-stats-up")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-stats-down"}),e("span",{staticClass:"icon-name"},[t._v(" ti-stats-down")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-shine"}),e("span",{staticClass:"icon-name"},[t._v(" ti-shine")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-shift-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-shift-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-shift-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-shift-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-shift-right-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-shift-right-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-shift-left-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-shift-left-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-shield"}),e("span",{staticClass:"icon-name"},[t._v(" ti-shield")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-notepad"}),e("span",{staticClass:"icon-name"},[t._v(" ti-notepad")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-server"}),e("span",{staticClass:"icon-name"},[t._v(" ti-server")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-pulse"}),e("span",{staticClass:"icon-name"},[t._v(" ti-pulse")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-printer"}),e("span",{staticClass:"icon-name"},[t._v(" ti-printer")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-power-off"}),e("span",{staticClass:"icon-name"},[t._v(" ti-power-off")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-plug"}),e("span",{staticClass:"icon-name"},[t._v(" ti-plug")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-pie-chart"}),e("span",{staticClass:"icon-name"},[t._v(" ti-pie-chart")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-panel"}),e("span",{staticClass:"icon-name"},[t._v(" ti-panel")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-package"}),e("span",{staticClass:"icon-name"},[t._v(" ti-package")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-music"}),e("span",{staticClass:"icon-name"},[t._v(" ti-music")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-music-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-music-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-mouse"}),e("span",{staticClass:"icon-name"},[t._v(" ti-mouse")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-mouse-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-mouse-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-money"}),e("span",{staticClass:"icon-name"},[t._v(" ti-money")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-microphone"}),e("span",{staticClass:"icon-name"},[t._v(" ti-microphone")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-menu"}),e("span",{staticClass:"icon-name"},[t._v(" ti-menu")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-menu-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-menu-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-map"}),e("span",{staticClass:"icon-name"},[t._v(" ti-map")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-map-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-map-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-location-pin"}),e("span",{staticClass:"icon-name"},[t._v(" ti-location-pin")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-light-bulb"}),e("span",{staticClass:"icon-name"},[t._v(" ti-light-bulb")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-info"}),e("span",{staticClass:"icon-name"},[t._v(" ti-info")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-infinite"}),e("span",{staticClass:"icon-name"},[t._v(" ti-infinite")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-id-badge"}),e("span",{staticClass:"icon-name"},[t._v(" ti-id-badge")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-hummer"}),e("span",{staticClass:"icon-name"},[t._v(" ti-hummer")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-home"}),e("span",{staticClass:"icon-name"},[t._v(" ti-home")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-help"}),e("span",{staticClass:"icon-name"},[t._v(" ti-help")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-headphone"}),e("span",{staticClass:"icon-name"},[t._v(" ti-headphone")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-harddrives"}),e("span",{staticClass:"icon-name"},[t._v(" ti-harddrives")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-harddrive"}),e("span",{staticClass:"icon-name"},[t._v(" ti-harddrive")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-gift"}),e("span",{staticClass:"icon-name"},[t._v(" ti-gift")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-game"}),e("span",{staticClass:"icon-name"},[t._v(" ti-game")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-filter"}),e("span",{staticClass:"icon-name"},[t._v(" ti-filter")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-files"}),e("span",{staticClass:"icon-name"},[t._v(" ti-files")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-file"}),e("span",{staticClass:"icon-name"},[t._v(" ti-file")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-zip"}),e("span",{staticClass:"icon-name"},[t._v(" ti-zip")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-folder"}),e("span",{staticClass:"icon-name"},[t._v(" ti-folder")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-envelope"}),e("span",{staticClass:"icon-name"},[t._v(" ti-envelope")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-dashboard"}),e("span",{staticClass:"icon-name"},[t._v(" ti-dashboard")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-cloud"}),e("span",{staticClass:"icon-name"},[t._v(" ti-cloud")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-cloud-up"}),e("span",{staticClass:"icon-name"},[t._v(" ti-cloud-up")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-cloud-down"}),e("span",{staticClass:"icon-name"},[t._v(" ti-cloud-down")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-clipboard"}),e("span",{staticClass:"icon-name"},[t._v(" ti-clipboard")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-calendar"}),e("span",{staticClass:"icon-name"},[t._v(" ti-calendar")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-book"}),e("span",{staticClass:"icon-name"},[t._v(" ti-book")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-bell"}),e("span",{staticClass:"icon-name"},[t._v(" ti-bell")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-basketball"}),e("span",{staticClass:"icon-name"},[t._v(" ti-basketball")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-bar-chart"}),e("span",{staticClass:"icon-name"},[t._v(" ti-bar-chart")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-bar-chart-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-bar-chart-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-archive"}),e("span",{staticClass:"icon-name"},[t._v(" ti-archive")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-anchor"}),e("span",{staticClass:"icon-name"},[t._v(" ti-anchor")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-alert"}),e("span",{staticClass:"icon-name"},[t._v(" ti-alert")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-alarm-clock"}),e("span",{staticClass:"icon-name"},[t._v(" ti-alarm-clock")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-agenda"}),e("span",{staticClass:"icon-name"},[t._v(" ti-agenda")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-write"}),e("span",{staticClass:"icon-name"},[t._v(" ti-write")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-wallet"}),e("span",{staticClass:"icon-name"},[t._v(" ti-wallet")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-video-clapper"}),e("span",{staticClass:"icon-name"},[t._v(" ti-video-clapper")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-video-camera"}),e("span",{staticClass:"icon-name"},[t._v(" ti-video-camera")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-vector"}),e("span",{staticClass:"icon-name"},[t._v(" ti-vector")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-support"}),e("span",{staticClass:"icon-name"},[t._v(" ti-support")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-stamp"}),e("span",{staticClass:"icon-name"},[t._v(" ti-stamp")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-slice"}),e("span",{staticClass:"icon-name"},[t._v(" ti-slice")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-shortcode"}),e("span",{staticClass:"icon-name"},[t._v(" ti-shortcode")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-receipt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-receipt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-pin2"}),e("span",{staticClass:"icon-name"},[t._v(" ti-pin2")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-pin-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-pin-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-pencil-alt2"}),e("span",{staticClass:"icon-name"},[t._v(" ti-pencil-alt2")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-eraser"}),e("span",{staticClass:"icon-name"},[t._v(" ti-eraser")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-more"}),e("span",{staticClass:"icon-name"},[t._v(" ti-more")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-more-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-more-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-microphone-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-microphone-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-magnet"}),e("span",{staticClass:"icon-name"},[t._v(" ti-magnet")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-line-double"}),e("span",{staticClass:"icon-name"},[t._v(" ti-line-double")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-line-dotted"}),e("span",{staticClass:"icon-name"},[t._v(" ti-line-dotted")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-line-dashed"}),e("span",{staticClass:"icon-name"},[t._v(" ti-line-dashed")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-ink-pen"}),e("span",{staticClass:"icon-name"},[t._v(" ti-ink-pen")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-info-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-info-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-help-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-help-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-headphone-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-headphone-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-gallery"}),e("span",{staticClass:"icon-name"},[t._v(" ti-gallery")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-face-smile"}),e("span",{staticClass:"icon-name"},[t._v(" ti-face-smile")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-face-sad"}),e("span",{staticClass:"icon-name"},[t._v(" ti-face-sad")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-credit-card"}),e("span",{staticClass:"icon-name"},[t._v(" ti-credit-card")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-comments-smiley"}),e("span",{staticClass:"icon-name"},[t._v(" ti-comments-smiley")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-time"}),e("span",{staticClass:"icon-name"},[t._v(" ti-time")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-share"}),e("span",{staticClass:"icon-name"},[t._v(" ti-share")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-share-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-share-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-rocket"}),e("span",{staticClass:"icon-name"},[t._v(" ti-rocket")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-new-window"}),e("span",{staticClass:"icon-name"},[t._v(" ti-new-window")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-rss"}),e("span",{staticClass:"icon-name"},[t._v(" ti-rss")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-rss-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-rss-alt")])])]),e("div",{staticClass:"icon-section"},[e("h3",[t._v("Control Icons")]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-control-stop"}),e("span",{staticClass:"icon-name"},[t._v(" ti-control-stop")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-control-shuffle"}),e("span",{staticClass:"icon-name"},[t._v(" ti-control-shuffle")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-control-play"}),e("span",{staticClass:"icon-name"},[t._v(" ti-control-play")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-control-pause"}),e("span",{staticClass:"icon-name"},[t._v(" ti-control-pause")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-control-forward"}),e("span",{staticClass:"icon-name"},[t._v(" ti-control-forward")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-control-backward"}),e("span",{staticClass:"icon-name"},[t._v(" ti-control-backward")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-volume"}),e("span",{staticClass:"icon-name"},[t._v(" ti-volume")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-control-skip-forward"}),e("span",{staticClass:"icon-name"},[t._v(" ti-control-skip-forward")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-control-skip-backward"}),e("span",{staticClass:"icon-name"},[t._v(" ti-control-skip-backward")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-control-record"}),e("span",{staticClass:"icon-name"},[t._v(" ti-control-record")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-control-eject"}),e("span",{staticClass:"icon-name"},[t._v(" ti-control-eject")])])]),e("div",{staticClass:"icon-section"},[e("h3",[t._v("Text Editor")]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-paragraph"}),e("span",{staticClass:"icon-name"},[t._v(" ti-paragraph")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-uppercase"}),e("span",{staticClass:"icon-name"},[t._v(" ti-uppercase")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-underline"}),e("span",{staticClass:"icon-name"},[t._v(" ti-underline")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-text"}),e("span",{staticClass:"icon-name"},[t._v(" ti-text")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-Italic"}),e("span",{staticClass:"icon-name"},[t._v(" ti-Italic")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-smallcap"}),e("span",{staticClass:"icon-name"},[t._v(" ti-smallcap")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-list"}),e("span",{staticClass:"icon-name"},[t._v(" ti-list")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-list-ol"}),e("span",{staticClass:"icon-name"},[t._v(" ti-list-ol")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-align-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-align-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-align-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-align-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-align-justify"}),e("span",{staticClass:"icon-name"},[t._v(" ti-align-justify")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-align-center"}),e("span",{staticClass:"icon-name"},[t._v(" ti-align-center")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-quote-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-quote-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-quote-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-quote-left")])])]),e("div",{staticClass:"icon-section"},[e("h3",[t._v("Layout Icons")]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-width-full"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-width-full")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-width-default"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-width-default")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-width-default-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-width-default-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-tab"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-tab")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-tab-window"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-tab-window")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-tab-v"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-tab-v")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-tab-min"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-tab-min")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-slider"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-slider")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-slider-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-slider-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-sidebar-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-sidebar-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-sidebar-none"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-sidebar-none")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-sidebar-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-sidebar-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-placeholder"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-placeholder")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-menu"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-menu")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-menu-v"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-menu-v")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-menu-separated"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-menu-separated")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-menu-full"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-menu-full")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-media-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-media-right-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-right-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-media-overlay"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-overlay")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-media-overlay-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-overlay-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-media-overlay-alt-2"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-overlay-alt-2")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-media-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-media-left-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-left-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-media-center"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-center")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-media-center-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-media-center-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-list-thumb"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-list-thumb")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-list-thumb-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-list-thumb-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-list-post"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-list-post")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-list-large-image"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-list-large-image")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-line-solid"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-line-solid")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-grid4"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid4")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-grid3"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid3")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-grid2"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid2")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-grid2-thumb"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid2-thumb")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-cta-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-cta-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-cta-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-cta-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-cta-center"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-cta-center")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-cta-btn-right"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-cta-btn-right")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-cta-btn-left"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-cta-btn-left")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-column4"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-column4")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-column3"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-column3")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-column2"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-column2")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-accordion-separated"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-accordion-separated")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-accordion-merged"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-accordion-merged")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-accordion-list"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-accordion-list")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-widgetized"}),e("span",{staticClass:"icon-name"},[t._v(" ti-widgetized")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-widget"}),e("span",{staticClass:"icon-name"},[t._v(" ti-widget")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-widget-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-widget-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-view-list"}),e("span",{staticClass:"icon-name"},[t._v(" ti-view-list")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-view-list-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-view-list-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-view-grid"}),e("span",{staticClass:"icon-name"},[t._v(" ti-view-grid")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-upload"}),e("span",{staticClass:"icon-name"},[t._v(" ti-upload")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-download"}),e("span",{staticClass:"icon-name"},[t._v(" ti-download")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-loop"}),e("span",{staticClass:"icon-name"},[t._v(" ti-loop")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-sidebar-2"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-sidebar-2")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-grid4-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid4-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-grid3-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid3-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-grid2-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-grid2-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-column4-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-column4-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-column3-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-column3-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-layout-column2-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-layout-column2-alt")])])]),e("div",{staticClass:"icon-section"},[e("h3",[t._v("Brand Icons")]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-flickr"}),e("span",{staticClass:"icon-name"},[t._v(" ti-flickr")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-flickr-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-flickr-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-instagram"}),e("span",{staticClass:"icon-name"},[t._v(" ti-instagram")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-google"}),e("span",{staticClass:"icon-name"},[t._v(" ti-google")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-github"}),e("span",{staticClass:"icon-name"},[t._v(" ti-github")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-facebook"}),e("span",{staticClass:"icon-name"},[t._v(" ti-facebook")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-dropbox"}),e("span",{staticClass:"icon-name"},[t._v(" ti-dropbox")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-dropbox-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-dropbox-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-dribbble"}),e("span",{staticClass:"icon-name"},[t._v(" ti-dribbble")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-apple"}),e("span",{staticClass:"icon-name"},[t._v(" ti-apple")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-android"}),e("span",{staticClass:"icon-name"},[t._v(" ti-android")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-yahoo"}),e("span",{staticClass:"icon-name"},[t._v(" ti-yahoo")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-trello"}),e("span",{staticClass:"icon-name"},[t._v(" ti-trello")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-stack-overflow"}),e("span",{staticClass:"icon-name"},[t._v(" ti-stack-overflow")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-soundcloud"}),e("span",{staticClass:"icon-name"},[t._v(" ti-soundcloud")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-sharethis"}),e("span",{staticClass:"icon-name"},[t._v(" ti-sharethis")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-sharethis-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-sharethis-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-reddit"}),e("span",{staticClass:"icon-name"},[t._v(" ti-reddit")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-microsoft"}),e("span",{staticClass:"icon-name"},[t._v(" ti-microsoft")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-microsoft-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-microsoft-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-linux"}),e("span",{staticClass:"icon-name"},[t._v(" ti-linux")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-jsfiddle"}),e("span",{staticClass:"icon-name"},[t._v(" ti-jsfiddle")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-joomla"}),e("span",{staticClass:"icon-name"},[t._v(" ti-joomla")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-html5"}),e("span",{staticClass:"icon-name"},[t._v(" ti-html5")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-css3"}),e("span",{staticClass:"icon-name"},[t._v(" ti-css3")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-drupal"}),e("span",{staticClass:"icon-name"},[t._v(" ti-drupal")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-wordpress"}),e("span",{staticClass:"icon-name"},[t._v(" ti-wordpress")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-tumblr"}),e("span",{staticClass:"icon-name"},[t._v(" ti-tumblr")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-tumblr-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-tumblr-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-skype"}),e("span",{staticClass:"icon-name"},[t._v(" ti-skype")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-youtube"}),e("span",{staticClass:"icon-name"},[t._v(" ti-youtube")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-vimeo"}),e("span",{staticClass:"icon-name"},[t._v(" ti-vimeo")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-vimeo-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-vimeo-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-twitter"}),e("span",{staticClass:"icon-name"},[t._v(" ti-twitter")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-twitter-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-twitter-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-linkedin"}),e("span",{staticClass:"icon-name"},[t._v(" ti-linkedin")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-pinterest"}),e("span",{staticClass:"icon-name"},[t._v(" ti-pinterest")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-pinterest-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-pinterest-alt")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-themify-logo"}),e("span",{staticClass:"icon-name"},[t._v(" ti-themify-logo")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-themify-favicon"}),e("span",{staticClass:"icon-name"},[t._v(" ti-themify-favicon")])]),e("div",{staticClass:"icon-container"},[e("span",{staticClass:"ti-themify-favicon-alt"}),e("span",{staticClass:"icon-name"},[t._v(" ti-themify-favicon-alt")])])])])],2)],1)])}),Ss=[],Os={},Ds=Os,Ps=Object(b["a"])(Ds,xs,Ss,!1,null,null,null),js=(Ps.exports,function(){var t=this,e=t._self._c;return e("card",{staticClass:"card-map",attrs:{title:"Google Maps"}},[e("div",{staticClass:"map"},[e("div",{attrs:{id:"map"}})])])}),Es=[],Ns={mounted(){var t=new window.google.maps.LatLng(40.748817,-73.985428),e={zoom:13,center:t,scrollwheel:!1,styles:[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b8cb93"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]},{featureType:"poi.medical",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"simplified"}]}]},a=new window.google.maps.Map(document.getElementById("map"),e),s=new window.google.maps.Marker({position:t,title:"Hello World!"});s.setMap(a)}},Ts=Ns,Is=Object(b["a"])(Ts,js,Es,!1,null,null,null),Fs=(Is.exports,function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("card",[e("template",{slot:"header"},[e("h4",{staticClass:"card-title"},[t._v("Paper Dashboard Headings")]),e("p",{staticClass:"card-category"},[t._v("\n            Created using\n            "),e("a",{attrs:{href:"https://www.google.com/fonts/specimen/Muli"}},[t._v("Muli")]),t._v(" Font\n            Family\n          ")])]),e("div",{staticClass:"content"},[e("div",{staticClass:"typo-line"},[e("h1",[e("p",{staticClass:"category"},[t._v("Header 1")]),t._v("\n              Paper Dashboard Heading\n            ")])]),e("div",{staticClass:"typo-line"},[e("h2",[e("p",{staticClass:"category"},[t._v("Header 2")]),t._v("\n              Paper Dashboard Heading\n            ")])]),e("div",{staticClass:"typo-line"},[e("h3",[e("p",{staticClass:"category"},[t._v("Header 3")]),t._v("\n              Paper Dashboard Heading\n            ")])]),e("div",{staticClass:"typo-line"},[e("h4",[e("p",{staticClass:"category"},[t._v("Header 4")]),t._v("\n              Paper Dashboard Heading\n            ")])]),e("div",{staticClass:"typo-line"},[e("h5",[e("p",{staticClass:"category"},[t._v("Header 5")]),t._v("\n              Paper Dashboard Heading\n            ")])]),e("div",{staticClass:"typo-line"},[e("h6",[e("p",{staticClass:"category"},[t._v("Header 6")]),t._v("\n              Paper Dashboard Heading\n            ")])]),e("div",{staticClass:"typo-line"},[e("p",[e("span",{staticClass:"category"},[t._v("Paragraph")]),t._v("Lorem ipsum dolor sit amet,\n              consectetuer adipiscing elit, sed diam nonummy nibh euismod\n              tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi\n              enim ad minim veniam.\n            ")])]),e("div",{staticClass:"typo-line"},[e("p",{staticClass:"category"},[t._v("Quote")]),e("blockquote",[e("p",[t._v("\n                Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed\n                diam nonummy nibh euismod tincidunt ut laoreet dolore magna\n                aliquam erat volutpat. Ut wisi enim ad minim veniam.\n              ")]),e("small",[t._v(" Steve Jobs, CEO Apple ")])])]),e("div",{staticClass:"typo-line"},[e("p",{staticClass:"category"},[t._v("Muted Text")]),e("p",{staticClass:"text-muted"},[t._v("\n              Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam\n              nonummy nibh euismod tincidunt ut laoreet.\n            ")])]),e("div",{staticClass:"typo-line"},[e("p",{staticClass:"category"},[t._v("Coloured Text")]),e("p",{staticClass:"text-primary"},[t._v("\n              Text Primary - Light Bootstrap Table Heading and complex bootstrap\n              dashboard you've ever seen on the internet.\n            ")]),e("p",{staticClass:"text-info"},[t._v("\n              Text Info - Light Bootstrap Table Heading and complex bootstrap\n              dashboard you've ever seen on the internet.\n            ")]),e("p",{staticClass:"text-success"},[t._v("\n              Text Success - Light Bootstrap Table Heading and complex bootstrap\n              dashboard you've ever seen on the internet.\n            ")]),e("p",{staticClass:"text-warning"},[t._v("\n              Text Warning - Light Bootstrap Table Heading and complex bootstrap\n              dashboard you've ever seen on the internet.\n            ")]),e("p",{staticClass:"text-danger"},[t._v("\n              Text Danger - Light Bootstrap Table Heading and complex bootstrap\n              dashboard you've ever seen on the internet.\n            ")])]),e("div",{staticClass:"typo-line"},[e("h2",[e("p",{staticClass:"category"},[t._v("Small Tag")]),t._v("\n              Header with small subtitle\n              "),e("br"),e("small",[t._v('".small" is a tag for the headers')])])]),e("div",{staticClass:"typo-line"},[e("p",{staticClass:"category"},[t._v("Lists")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-3"},[e("h5",[t._v("Unordered List")]),e("ul",[e("li",[t._v("List Item")]),e("li",[t._v("List Item")]),e("li",{staticClass:"list-unstyled"},[e("ul",[e("li",[t._v("List Item")]),e("li",[t._v("List Item")]),e("li",[t._v("List Item")])])]),e("li",[t._v("List Item")])])]),e("div",{staticClass:"col-md-3"},[e("h5",[t._v("Ordered List")]),e("ol",[e("li",[t._v("List Item")]),e("li",[t._v("List Item")]),e("li",[t._v("List Item")])])]),e("div",{staticClass:"col-md-3"},[e("h5",[t._v("Unstyled List")]),e("ul",{staticClass:"list-unstyled"},[e("li",[t._v("List Item")]),e("li",[t._v("List Item")]),e("li",[t._v("List Item")])])]),e("div",{staticClass:"col-md-3"},[e("h5",[t._v("Inline List")]),e("ul",{staticClass:"list-inline"},[e("li",[t._v("List Item")]),e("li",[t._v("List Item")]),e("li",[t._v("List Item")])])])])]),e("div",{staticClass:"typo-line"},[e("p",{staticClass:"category"},[t._v("Blockquotes")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h5",[t._v("Default Blockquote")]),e("blockquote",[e("p",[t._v("\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Integer posuere erat a ante.\n                  ")])])]),e("div",{staticClass:"col-md-6"},[e("h5",[t._v("Blockquote with Citation")]),e("blockquote",[e("p",[t._v("\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Integer posuere erat a ante.\n                  ")]),e("small",[t._v("Someone famous in\n                    "),e("cite",{attrs:{title:"Source Title"}},[t._v("Source Title")])])])])])]),e("div",{staticClass:"typo-line"},[e("p",{staticClass:"category"},[t._v("Code")]),e("p",[t._v("\n              This is\n              "),e("code",[t._v(".css-class-as-code")]),t._v(", an example of an inline code\n              element. Wrap inline code within a\n              "),e("code",[t._v(" <code>...</code>")]),t._v("tag.\n            ")]),e("pre",[t._v("1. #This is an example of preformatted text. 2. #Here is another line of code")])])])],2)],1)])}),$s=[],Ms={},Ls=Ms,Rs=Object(b["a"])(Ls,Fs,$s,!1,null,null,null),zs=(Rs.exports,function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("card",{attrs:{title:t.table1.title,subTitle:t.table1.subTitle}},[e("div",{staticClass:"table-responsive",attrs:{slot:"raw-content"},slot:"raw-content"},[e("paper-table",{attrs:{data:t.table1.data,columns:t.table1.columns}})],1)])],1),e("div",{staticClass:"col-12"},[e("card",{staticClass:"card-plain"},[e("div",{staticClass:"table-full-width table-responsive"},[e("paper-table",{attrs:{type:"hover",title:t.table2.title,"sub-title":t.table2.subTitle,data:t.table2.data,columns:t.table2.columns}})],1)])],1)])}),Bs=[];const Us=["Id","Name","Salary","Country","City"],qs=[{id:1,name:"Dakota Rice",salary:"$36.738",country:"Niger",city:"Oud-Turnhout"},{id:2,name:"Minerva Hooper",salary:"$23,789",country:"Curaçao",city:"Sinaai-Waas"},{id:3,name:"Sage Rodriguez",salary:"$56,142",country:"Netherlands",city:"Baileux"},{id:4,name:"Philip Chaney",salary:"$38,735",country:"Korea, South",city:"Overland Park"},{id:5,name:"Doris Greene",salary:"$63,542",country:"Malawi",city:"Feldkirchen in Kärnten"}];var Vs={components:{PaperTable:bt},data(){return{table1:{title:"Stripped Table",subTitle:"Here is a subtitle for this table",columns:[...Us],data:[...qs]},table2:{title:"Table on Plain Background",subTitle:"Here is a subtitle for this table",columns:[...Us],data:[...qs]}}}},Hs=Vs,Gs=Object(b["a"])(Hs,zs,Bs,!1,null,null,null),Js=(Gs.exports,function(){var t=this,e=t._self._c;return e("div",{staticClass:"listado-servicios-container"},[t.showSuccess?e("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Servicio borrado correctamente")]):t._e(),t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"table-section"},[e("div",{staticClass:"table-header"},[e("h2",[t._v("Filtros de Búsqueda")]),e("button",{staticClass:"btn-add",on:{click:function(e){t.createModal=!0}}},[e("i",{staticClass:"ti-plus"}),t._v(" Añadir Servicio\n        ")])]),e("div",{staticClass:"filters-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nombreInput"}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.nombre,expression:"filters.nombre"}],staticClass:"form-control",attrs:{id:"nombreInput",type:"text",placeholder:"Buscar por nombre"},domProps:{value:t.filters.nombre},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filters,"nombre",e.target.value)}}})])]),e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"categoriaInput"}},[t._v("Categoría")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.categoria,expression:"filters.categoria"}],staticClass:"form-control",attrs:{id:"categoriaInput",type:"text",placeholder:"Buscar por categoría"},domProps:{value:t.filters.categoria},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filters,"categoria",e.target.value)}}})])]),e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"precioInput"}},[t._v("Precio máximo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.precioMax,expression:"filters.precioMax"}],staticClass:"form-control",attrs:{id:"precioInput",type:"number",placeholder:"Precio máximo"},domProps:{value:t.filters.precioMax},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filters,"precioMax",e.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"orderSelect"}},[t._v("Ordenar por")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],staticClass:"form-control",attrs:{id:"orderSelect"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.order=e.target.multiple?a:a[0]},t.handleOrderChange]}},[e("option",{attrs:{value:"nombre"}},[t._v("Nombre")]),e("option",{attrs:{value:"precio"}},[t._v("Precio")]),e("option",{attrs:{value:"categoria"}},[t._v("Categoría")]),e("option",{attrs:{value:"duracion"}},[t._v("Duración")])])])]),e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"orderDirection"}},[t._v("Dirección")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.orderDirection,expression:"orderDirection"}],staticClass:"form-control",attrs:{id:"orderDirection"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orderDirection=e.target.multiple?a:a[0]},t.handleOrderChange]}},[e("option",{attrs:{value:"asc"}},[t._v("Ascendente")]),e("option",{attrs:{value:"desc"}},[t._v("Descendente")])])])]),e("div",{staticClass:"col-md-4 mb-3 d-flex align-items-end"},[e("div",{staticClass:"w-100"},[e("button",{staticClass:"btn-search",on:{click:t.fetchData}},[e("i",{staticClass:"ti-search"}),t._v(" Buscar\n              ")]),e("button",{staticClass:"btn-clear",on:{click:t.clearFilters}},[e("i",{staticClass:"ti-eraser"}),t._v(" Limpiar\n              ")])])])])])]),e("div",{staticClass:"table-section"},[t._m(1),e("Listados",{attrs:{items:t.filteredServicios,fields:t.fields,"current-page":t.currentPage},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"tableActions",fn:function({data:a}){return[t.showAsAdmin?e("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(e){return t.editService(a.item)}}},[e("i",{staticClass:"ti-pencil"})]):t._e(),t.showAsAdmin?e("button",{staticClass:"btn-delete",attrs:{title:"Borrar"},on:{click:function(e){return t.deleteService(a.item)}}},[e("i",{staticClass:"ti-trash"})]):t._e(),e("button",{staticClass:"btn-view",attrs:{title:"Ver"},on:{click:function(e){return t.viewService(a.item)}}},[e("i",{staticClass:"ti-eye"})])]}}])})],1),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Editar servicio\n      ")]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.serviceToEdit.nombre,expression:"serviceToEdit.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.serviceToEdit.nombre},on:{input:function(e){e.target.composing||t.$set(t.serviceToEdit,"nombre",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Categoría")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.serviceToEdit.categoria,expression:"serviceToEdit.categoria"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.serviceToEdit.categoria},on:{input:function(e){e.target.composing||t.$set(t.serviceToEdit,"categoria",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Precio (€)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.serviceToEdit.precio,expression:"serviceToEdit.precio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.serviceToEdit.precio},on:{input:function(e){e.target.composing||t.$set(t.serviceToEdit,"precio",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Impuestos (%)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.serviceToEdit.impuesto,expression:"serviceToEdit.impuesto",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.serviceToEdit.impuesto},on:{input:function(e){e.target.composing||t.$set(t.serviceToEdit,"impuesto",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Duración (minutos)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.serviceToEdit.duracion,expression:"serviceToEdit.duracion",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Duración del servicio"},domProps:{value:t.serviceToEdit.duracion},on:{input:function(e){e.target.composing||t.$set(t.serviceToEdit,"duracion",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-12"},[e("label",{attrs:{for:""}},[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.serviceToEdit.descripcion,expression:"serviceToEdit.descripcion"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.serviceToEdit.descripcion},on:{input:function(e){e.target.composing||t.$set(t.serviceToEdit,"descripcion",e.target.value)}}})]),e("b-button",{staticClass:"btn-search mx-5 mt-4",on:{click:t.saveChanges}},[t._v("Guardar cambios")])],1)]),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Borrar servicio\n      ")]},proxy:!0}]),model:{value:t.modalDelete,callback:function(e){t.modalDelete=e},expression:"modalDelete"}},[e("div",{staticClass:"text-center"},[e("p",[t._v("¿Estás seguro de que quieres eliminar el servicio "),e("strong",[t._v(t._s(t.serviceToDelete.nombre))]),t._v("?")]),e("p",{staticClass:"text-danger"},[t._v("Esta acción no se puede deshacer.")]),e("div",{staticClass:"mt-3"},[e("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.deleteUser}},[t._v("Eliminar")]),e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.modalDelete=!1}}},[t._v("Cancelar")])],1)])]),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Añadir servicio\n      ")]},proxy:!0}]),model:{value:t.createModal,callback:function(e){t.createModal=e},expression:"createModal"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createService.nombre,expression:"createService.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createService.nombre},on:{input:function(e){e.target.composing||t.$set(t.createService,"nombre",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Categoría")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createService.categoria,expression:"createService.categoria"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createService.categoria},on:{input:function(e){e.target.composing||t.$set(t.createService,"categoria",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Precio (€)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createService.precio,expression:"createService.precio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.createService.precio},on:{input:function(e){e.target.composing||t.$set(t.createService,"precio",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Impuestos (%)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createService.impuesto,expression:"createService.impuesto",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.createService.impuesto},on:{input:function(e){e.target.composing||t.$set(t.createService,"impuesto",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Duración (minutos)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createService.duracion,expression:"createService.duracion",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Duración del servicio"},domProps:{value:t.createService.duracion},on:{input:function(e){e.target.composing||t.$set(t.createService,"duracion",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-12"},[e("label",{attrs:{for:""}},[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.createService.descripcion,expression:"createService.descripcion"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.createService.descripcion},on:{input:function(e){e.target.composing||t.$set(t.createService,"descripcion",e.target.value)}}})])]),e("b-button",{staticClass:"btn-search mt-4",on:{click:t.addService}},[t._v("Añadir servicio")])],1)],1)],1)}),Qs=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-briefcase"}),t._v("\n        Listado de Servicios\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Gestión y administración de servicios")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-header"},[e("h2",[t._v("Listado de Servicios")])])}],Ys={components:{Listados:we},setup(){const t=Object(s["ref"])({nombre:"",descripcion:"",precio:0,duracion:0,categoria:"",impuesto:21}),e=Object(s["ref"])(!1),a=Object(s["ref"])([]),i=Object(s["ref"])({}),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=Object(s["ref"])(!1),r=Object(s["ref"])({}),l=Object(s["ref"])(1),d=JSON.parse(localStorage.getItem("userInform")),u=Object(s["computed"])(()=>!(!d.admin||!0!==d.admin)),p=Object(s["ref"])({nombre:"",categoria:"",precioMax:""}),m=Object(s["ref"])("nombre"),v=Object(s["ref"])("asc"),f=[{key:"nombre",label:"Nombre"},{key:"descripcion",label:"Descripción"},{key:"precio",label:"Precio"},{key:"duracion",label:"Duración"},{key:"categoria",label:"Categoría"},{key:"actions",label:""}],C=async()=>{try{const t={};p.value.nombre.trim()&&(t.nombre=p.value.nombre.trim()),p.value.categoria.trim()&&(t.categoria=p.value.categoria.trim()),p.value.precioMax&&(t.precioMax=parseFloat(p.value.precioMax)),t.categoria="Servicios",console.log("Parámetros enviados a la API:",t);const e=await B["h"].getAll(t);console.log("Respuesta de la API:",e),a.value=e}catch(t){console.error("Error al obtener servicios:",t)}},b=()=>{p.value.nombre="",p.value.categoria="",p.value.precioMax="",m.value="nombre",v.value="asc",C()},g=()=>{console.log("Cambio de ordenamiento:",{order:m.value,direction:v.value})},h=Object(s["computed"])(()=>{let t=a.value;return t.sort((t,e)=>{let a=t[m.value],s=e[m.value];if("string"===typeof a&&(a=a.toLowerCase(),s=s.toLowerCase()),"asc"===v.value){if(a<s)return-1;if(a>s)return 1}else{if(a>s)return-1;if(a<s)return 1}return 0}),t}),_=t=>{console.log(t),i.value={...t},o.value=!0},y=t=>{l.value=parseInt(t),C()},w=async()=>{try{t.value.categoria="Servicios",await B["h"].create(t.value),t.value={nombre:"",descripcion:"",precio:0,duracion:0,categoria:"",impuesto:21},e.value=!1,C()}catch(a){console.error("Error al crear servicio:",a)}};Object(s["onMounted"])(()=>{C()});const k=async()=>{try{i.value.categoria="Servicios",await B["h"].update(i.value._id,i.value),o.value=!1,C()}catch(t){console.error("Error al actualizar servicio:",t)}},A=async()=>{try{await B["h"].delete(r.value._id),c.value=!0,n.value=!1,C(),setTimeout(()=>{c.value=!1},3e3)}catch(t){console.error("Error al eliminar el servicio:",t)}},x=t=>{console.log("Ver servicio:",t)};return{createService:t,saveChanges:k,createModal:e,fields:f,filteredServicios:h,editService:_,modalShow:o,serviceToEdit:i,modalDelete:n,serviceToDelete:r,showSuccess:c,showAsAdmin:u,addService:w,deleteUser:A,deleteService:t=>{r.value=t,n.value=!0},filters:p,order:m,orderDirection:v,clearFilters:b,handleOrderChange:g,fetchData:C,currentPage:l,handlePageChange:y,viewService:x}}},Ws=Ys,Ks=(a("5979"),Object(b["a"])(Ws,Js,Qs,!1,null,"60bdf290",null)),Zs=Ks.exports,Xs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listado-productos-container"},[t.showSuccess?e("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Producto borrado correctamente")]):t._e(),t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"table-section"},[e("div",{staticClass:"table-header"},[e("h2",[t._v("Filtros de Búsqueda")]),e("button",{staticClass:"btn-add",on:{click:function(e){t.createModal=!0}}},[e("i",{staticClass:"ti-plus"}),t._v(" Añadir Producto\n        ")])]),e("div",{staticClass:"filters-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nombreInput"}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.nombre,expression:"filters.nombre"}],staticClass:"form-control",attrs:{id:"nombreInput",type:"text",placeholder:"Buscar por nombre"},domProps:{value:t.filters.nombre},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filters,"nombre",e.target.value)}}})])]),e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"categoriaInput"}},[t._v("Categoría")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.categoria,expression:"filters.categoria"}],staticClass:"form-control",attrs:{id:"categoriaInput",type:"text",placeholder:"Buscar por categoría"},domProps:{value:t.filters.categoria},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filters,"categoria",e.target.value)}}})])]),e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"precioInput"}},[t._v("Precio máximo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.precioMax,expression:"filters.precioMax"}],staticClass:"form-control",attrs:{id:"precioInput",type:"number",placeholder:"Precio máximo"},domProps:{value:t.filters.precioMax},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filters,"precioMax",e.target.value)}}})])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"orderSelect"}},[t._v("Ordenar por")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.order,expression:"order"}],staticClass:"form-control",attrs:{id:"orderSelect"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.order=e.target.multiple?a:a[0]},t.handleOrderChange]}},[e("option",{attrs:{value:"nombre"}},[t._v("Nombre")]),e("option",{attrs:{value:"precio"}},[t._v("Precio")]),e("option",{attrs:{value:"categoria"}},[t._v("Categoría")]),e("option",{attrs:{value:"stock"}},[t._v("Stock")])])])]),e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"orderDirection"}},[t._v("Dirección")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.orderDirection,expression:"orderDirection"}],staticClass:"form-control",attrs:{id:"orderDirection"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orderDirection=e.target.multiple?a:a[0]},t.handleOrderChange]}},[e("option",{attrs:{value:"asc"}},[t._v("Ascendente")]),e("option",{attrs:{value:"desc"}},[t._v("Descendente")])])])]),e("div",{staticClass:"col-md-4 mb-3 d-flex align-items-end"},[e("div",{staticClass:"w-100"},[e("button",{staticClass:"btn-search",on:{click:t.fetchData}},[e("i",{staticClass:"ti-search"}),t._v(" Buscar\n              ")]),e("button",{staticClass:"btn-clear",on:{click:t.clearFilters}},[e("i",{staticClass:"ti-eraser"}),t._v(" Limpiar\n              ")])])])])])]),e("div",{staticClass:"table-section"},[t._m(1),e("Listados",{attrs:{items:t.filteredProductos,fields:t.fields,"current-page":t.currentPage},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"tableActions",fn:function({data:a}){return[t.showAsAdmin?e("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(e){return t.editProduct(a.item)}}},[e("i",{staticClass:"ti-pencil"})]):t._e(),t.showAsAdmin?e("button",{staticClass:"btn-delete",attrs:{title:"Borrar"},on:{click:function(e){return t.deleteProduct(a.item)}}},[e("i",{staticClass:"ti-trash"})]):t._e(),e("button",{staticClass:"btn-view",attrs:{title:"Ver"},on:{click:function(e){return t.viewProduct(a.item)}}},[e("i",{staticClass:"ti-eye"})])]}}])})],1),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Editar producto\n      ")]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.nombre,expression:"productToEdit.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.productToEdit.nombre},on:{input:function(e){e.target.composing||t.$set(t.productToEdit,"nombre",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Categoría")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.categoria,expression:"productToEdit.categoria"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.productToEdit.categoria},on:{input:function(e){e.target.composing||t.$set(t.productToEdit,"categoria",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Precio (€)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productToEdit.precio,expression:"productToEdit.precio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.productToEdit.precio},on:{input:function(e){e.target.composing||t.$set(t.productToEdit,"precio",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Impuestos (%)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productToEdit.impuesto,expression:"productToEdit.impuesto",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.productToEdit.impuesto},on:{input:function(e){e.target.composing||t.$set(t.productToEdit,"impuesto",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Stock")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productToEdit.stock,expression:"productToEdit.stock",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Solo para productos"},domProps:{value:t.productToEdit.stock},on:{input:function(e){e.target.composing||t.$set(t.productToEdit,"stock",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Coste Interno (€)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productToEdit.costeInterno,expression:"productToEdit.costeInterno",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0",placeholder:"Opcional"},domProps:{value:t.productToEdit.costeInterno},on:{input:function(e){e.target.composing||t.$set(t.productToEdit,"costeInterno",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-12"},[e("label",{attrs:{for:""}},[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.descripcion,expression:"productToEdit.descripcion"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.productToEdit.descripcion},on:{input:function(e){e.target.composing||t.$set(t.productToEdit,"descripcion",e.target.value)}}})]),e("b-button",{staticClass:"btn-search mx-5 mt-4",on:{click:t.saveChanges}},[t._v("Guardar cambios")])],1)]),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Borrar producto\n      ")]},proxy:!0}]),model:{value:t.modalDelete,callback:function(e){t.modalDelete=e},expression:"modalDelete"}},[e("div",{staticClass:"text-center"},[e("p",[t._v("¿Estás seguro de que quieres eliminar el producto "),e("strong",[t._v(t._s(t.productToDelete.nombre))]),t._v("?")]),e("p",{staticClass:"text-danger"},[t._v("Esta acción no se puede deshacer.")]),e("div",{staticClass:"mt-3"},[e("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.deleteUser}},[t._v("Eliminar")]),e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.modalDelete=!1}}},[t._v("Cancelar")])],1)])]),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Añadir producto\n      ")]},proxy:!0}]),model:{value:t.createModal,callback:function(e){t.createModal=e},expression:"createModal"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createProduct.nombre,expression:"createProduct.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createProduct.nombre},on:{input:function(e){e.target.composing||t.$set(t.createProduct,"nombre",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Categoría")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createProduct.categoria,expression:"createProduct.categoria"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createProduct.categoria},on:{input:function(e){e.target.composing||t.$set(t.createProduct,"categoria",e.target.value)}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Precio (€)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createProduct.precio,expression:"createProduct.precio",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.createProduct.precio},on:{input:function(e){e.target.composing||t.$set(t.createProduct,"precio",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Impuestos (%)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createProduct.impuesto,expression:"createProduct.impuesto",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:t.createProduct.impuesto},on:{input:function(e){e.target.composing||t.$set(t.createProduct,"impuesto",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Stock")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createProduct.stock,expression:"createProduct.stock",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",min:"0",placeholder:"Solo para productos"},domProps:{value:t.createProduct.stock},on:{input:function(e){e.target.composing||t.$set(t.createProduct,"stock",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Coste Interno (€)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.createProduct.costeInterno,expression:"createProduct.costeInterno",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",step:"0.01",min:"0",placeholder:"Opcional"},domProps:{value:t.createProduct.costeInterno},on:{input:function(e){e.target.composing||t.$set(t.createProduct,"costeInterno",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"col-12"},[e("label",{attrs:{for:""}},[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.createProduct.descripcion,expression:"createProduct.descripcion"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.createProduct.descripcion},on:{input:function(e){e.target.composing||t.$set(t.createProduct,"descripcion",e.target.value)}}})])]),e("b-button",{staticClass:"btn-search mt-4",on:{click:t.addProduct}},[t._v("Añadir producto")])],1)],1)],1)},ti=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-briefcase"}),t._v("\n        Listado de Productos\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Gestión y administración de productos y servicios")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-header"},[e("h2",[t._v("Listado de Productos")])])}],ei={components:{Listados:we},setup(){const t=Object(s["ref"])({nombre:"",descripcion:"",precio:0,stock:null,categoria:"",impuesto:21,costeInterno:null}),e=Object(s["ref"])(!1),a=Object(s["ref"])([]),i=Object(s["ref"])({}),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=Object(s["ref"])(!1),r=Object(s["ref"])({}),l=Object(s["ref"])(1),d=JSON.parse(localStorage.getItem("userInform")),u=Object(s["computed"])(()=>!(!d.admin||!0!==d.admin)),p=Object(s["ref"])({nombre:"",categoria:"",precioMax:""}),m=Object(s["ref"])("nombre"),v=Object(s["ref"])("asc"),f=[{key:"nombre",label:"Nombre"},{key:"descripcion",label:"Descripción"},{key:"precio",label:"Precio"},{key:"categoria",label:"Categoría"},{key:"stock",label:"Stock"},{key:"actions",label:""}],C=async()=>{try{const t={};p.value.nombre.trim()&&(t.nombre=p.value.nombre.trim()),p.value.categoria.trim()&&(t.categoria=p.value.categoria.trim()),p.value.precioMax&&(t.precioMax=parseFloat(p.value.precioMax)),console.log("Parámetros enviados a la API:",t);const e=await B["f"].getAll(t);console.log("Respuesta de la API:",e),a.value=e}catch(t){console.error("Error al obtener productos:",t)}},b=()=>{p.value.nombre="",p.value.categoria="",p.value.precioMax="",m.value="nombre",v.value="asc",C()},g=()=>{console.log("Cambio de ordenamiento:",{order:m.value,direction:v.value})},h=Object(s["computed"])(()=>{let t=a.value;return t.sort((t,e)=>{let a=t[m.value],s=e[m.value];if("string"===typeof a&&(a=a.toLowerCase(),s=s.toLowerCase()),"asc"===v.value){if(a<s)return-1;if(a>s)return 1}else{if(a>s)return-1;if(a<s)return 1}return 0}),t}),_=t=>{console.log(t),i.value={...t},o.value=!0},y=t=>{l.value=parseInt(t),C()},w=async()=>{try{await B["f"].create(t.value),t.value={nombre:"",descripcion:"",precio:0,stock:null,categoria:"",impuesto:21,costeInterno:null},e.value=!1,C()}catch(a){console.error("Error al crear producto:",a)}};Object(s["onMounted"])(()=>{C()});const k=async()=>{try{await B["f"].update(i.value._id,i.value),o.value=!1,C()}catch(t){console.error("Error al actualizar producto:",t)}},A=async()=>{try{await B["f"].delete(r.value._id),c.value=!0,n.value=!1,C(),setTimeout(()=>{c.value=!1},3e3)}catch(t){console.error("Error al eliminar el producto:",t)}},x=t=>{console.log("Ver producto:",t)};return{createProduct:t,saveChanges:k,createModal:e,fields:f,filteredProductos:h,editProduct:_,modalShow:o,productToEdit:i,modalDelete:n,productToDelete:r,showSuccess:c,showAsAdmin:u,addProduct:w,deleteUser:A,deleteProduct:t=>{r.value=t,n.value=!0},filters:p,order:m,orderDirection:v,clearFilters:b,handleOrderChange:g,fetchData:C,currentPage:l,handlePageChange:y,viewProduct:x}}},ai=ei,si=(a("5a82"),Object(b["a"])(ai,Xs,ti,!1,null,"3c29b130",null)),ii=si.exports,oi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listado-Categorias-container"},[t.showSuccess?e("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Categoria borrado correctamente")]):t._e(),t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"table-section"},[e("div",{staticClass:"table-header"},[e("h2",[t._v("Filtros de Búsqueda")]),e("button",{staticClass:"btn-add",on:{click:function(e){t.createModal=!0}}},[e("i",{staticClass:"ti-plus"}),t._v(" Añadir Categoria\n        ")])]),e("div",{staticClass:"filters-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nombreInput"}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.nombre,expression:"filters.nombre"}],staticClass:"form-control",attrs:{id:"nombreInput",type:"text",placeholder:"Buscar por nombre"},domProps:{value:t.filters.nombre},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchData.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filters,"nombre",e.target.value)}}})])]),e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nombreInput"}},[t._v("Nombre")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.nombre,expression:"filters.nombre"}],staticClass:"form-control",attrs:{id:"nombreInput"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"nombre",e.target.multiple?a:a[0])},t.handleOrderChange]}},[e("option",{attrs:{value:"asc"}},[t._v("Publicada")]),e("option",{attrs:{value:"desc"}},[t._v("Despublicada")])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 mb-3"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"orderDirection"}},[t._v("Dirección")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.orderDirection,expression:"orderDirection"}],staticClass:"form-control",attrs:{id:"orderDirection"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.orderDirection=e.target.multiple?a:a[0]},t.handleOrderChange]}},[e("option",{attrs:{value:"asc"}},[t._v("Ascendente")]),e("option",{attrs:{value:"desc"}},[t._v("Descendente")])])])]),e("div",{staticClass:"col-md-4 mb-3 d-flex align-items-end"},[e("div",{staticClass:"w-100"},[e("button",{staticClass:"btn-search",on:{click:t.fetchData}},[e("i",{staticClass:"ti-search"}),t._v(" Buscar\n              ")]),e("button",{staticClass:"btn-clear",on:{click:t.clearFilters}},[e("i",{staticClass:"ti-eraser"}),t._v(" Limpiar\n              ")])])])])])]),e("div",{staticClass:"table-section"},[t._m(1),e("Listados",{attrs:{items:t.filteredCategorias,fields:t.fields,"current-page":t.currentPage},on:{"page-changed":t.handlePageChange},scopedSlots:t._u([{key:"tableActions",fn:function({data:a}){return[t.showAsAdmin?e("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(e){return t.editCategory(a.item)}}},[e("i",{staticClass:"ti-pencil"})]):t._e(),t.showAsAdmin?e("button",{staticClass:"btn-delete",attrs:{title:"Borrar"},on:{click:function(e){return t.deleteCategory(a.item)}}},[e("i",{staticClass:"ti-trash"})]):t._e(),e("button",{staticClass:"btn-view",attrs:{title:"Ver"},on:{click:function(e){return t.viewCategory(a.item)}}},[e("i",{staticClass:"ti-eye"})])]}}])})],1),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Editar Categoria\n      ")]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.categoryToEdit.nombre,expression:"categoryToEdit.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.categoryToEdit.nombre},on:{input:function(e){e.target.composing||t.$set(t.categoryToEdit,"nombre",e.target.value)}}})]),e("div",{staticClass:"col-12"},[e("label",{attrs:{for:""}},[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.categoryToEdit.descripcion,expression:"categoryToEdit.descripcion"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.categoryToEdit.descripcion},on:{input:function(e){e.target.composing||t.$set(t.categoryToEdit,"descripcion",e.target.value)}}})]),e("b-button",{staticClass:"btn-search mx-5 mt-4",on:{click:t.saveChanges}},[t._v("Guardar cambios")])],1)]),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Borrar Categoria\n      ")]},proxy:!0}]),model:{value:t.modalDelete,callback:function(e){t.modalDelete=e},expression:"modalDelete"}},[e("div",{staticClass:"text-center"},[e("p",[t._v("¿Estás seguro de que quieres eliminar el Categoria "),e("strong",[t._v(t._s(t.categoryToDelete.nombre))]),t._v("?")]),e("p",{staticClass:"text-danger"},[t._v("Esta acción no se puede deshacer.")]),e("div",{staticClass:"mt-3"},[e("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.deleteUser}},[t._v("Eliminar")]),e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.modalDelete=!1}}},[t._v("Cancelar")])],1)])]),e("b-modal",{attrs:{id:"bv-modal-example","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Añadir Categoria\n      ")]},proxy:!0}]),model:{value:t.createModal,callback:function(e){t.createModal=e},expression:"createModal"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("label",{attrs:{for:""}},[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.createCategory.nombre,expression:"createCategory.nombre"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.createCategory.nombre},on:{input:function(e){e.target.composing||t.$set(t.createCategory,"nombre",e.target.value)}}})]),e("div",{staticClass:"col-12"},[e("label",{attrs:{for:""}},[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.createCategory.description,expression:"createCategory.description"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.createCategory.description},on:{input:function(e){e.target.composing||t.$set(t.createCategory,"description",e.target.value)}}})])]),e("b-button",{staticClass:"btn-search mt-4",on:{click:t.addCategory}},[t._v("Añadir Categoria")])],1)],1)],1)},ni=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-briefcase"}),t._v("\n        Listado de Categorías\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Gestión y administración de categoríass")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-header"},[e("h2",[t._v("Listado de Categorias")])])}],ci={components:{Listados:we},setup(){const t=Object(s["ref"])({nombre:"",description:"",status:"publish"}),e=Object(s["ref"])(!1),a=Object(s["ref"])([]),i=Object(s["ref"])({}),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=Object(s["ref"])(!1),r=Object(s["ref"])({}),l=Object(s["ref"])(1),d=JSON.parse(localStorage.getItem("userInform")),u=Object(s["computed"])(()=>!(!d.admin||!0!==d.admin)),p=Object(s["ref"])({nombre:"",description:"",status:"publish"}),m=Object(s["ref"])("nombre"),v=Object(s["ref"])("asc"),f=[{key:"nombre",label:"Nombre"},{key:"description",label:"Descripción"},{key:"status",label:"Estado"},{key:"actions",label:""}],C=async()=>{try{const t={};p.value.nombre.trim()&&(t.nombre=p.value.nombre.trim()),p.value.status.trim()&&(t.status=p.value.status.trim()),console.log("Parámetros enviados a la API:",t);const e=await B["a"].getAll(t);console.log("Respuesta de la API:",e),a.value=e}catch(t){console.error("Error al obtener Categorias:",t)}},b=()=>{p.value.nombre="",p.value.status="",m.value="nombre",v.value="asc",C()},g=()=>{console.log("Cambio de ordenamiento:",{order:m.value,direction:v.value})},h=Object(s["computed"])(()=>{let t=a.value;return t.sort((t,e)=>{let a=t[m.value],s=e[m.value];if("string"===typeof a&&(a=a.toLowerCase(),s=s.toLowerCase()),"asc"===v.value){if(a<s)return-1;if(a>s)return 1}else{if(a>s)return-1;if(a<s)return 1}return 0}),t}),_=t=>{console.log(t),i.value={...t},o.value=!0},y=t=>{l.value=parseInt(t),C()},w=async()=>{try{await B["a"].create(t.value),t.value={nombre:"",description:"",status:"publish"},e.value=!1,C()}catch(a){console.error("Error al crear Categoria:",a)}};Object(s["onMounted"])(()=>{C()});const k=async()=>{try{await B["a"].update(i.value._id,i.value),o.value=!1,C()}catch(t){console.error("Error al actualizar Categoria:",t)}},A=async()=>{try{await B["a"].delete(r.value._id),c.value=!0,n.value=!1,C(),setTimeout(()=>{c.value=!1},3e3)}catch(t){console.error("Error al eliminar el Categoria:",t)}},x=t=>{console.log("Ver Categoria:",t)};return{createCategory:t,saveChanges:k,createModal:e,fields:f,filteredCategorias:h,editCategory:_,modalShow:o,categoryToEdit:i,modalDelete:n,categoryToDelete:r,showSuccess:c,showAsAdmin:u,addCategory:w,deleteUser:A,deleteCategory:t=>{r.value=t,n.value=!0},filters:p,order:m,orderDirection:v,clearFilters:b,handleOrderChange:g,fetchData:C,currentPage:l,handlePageChange:y,viewCategory:x}}},ri=ci,li=(a("3488"),Object(b["a"])(ri,oi,ni,!1,null,"357af2d6",null)),di=li.exports,ui=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"empleados-usuarios-container"},[t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"table-section"},[e("div",{staticClass:"table-header"},[e("h2",[t._v("Listado")]),e("button",{staticClass:"btn-add",on:{click:function(t){return a.openForm()}}},[e("i",{staticClass:"ti-plus"}),t._v(" Nuevo\n        ")])]),e("table",{staticClass:"main-table"},[t._m(1),e("tbody",[t._l(a.items,(function(s,i){return e("tr",{key:s.id},[e("td",[t._v(t._s(s.nombre))]),e("td",[t._v(t._s(s.rol))]),e("td",[t._v(t._s(s.email))]),e("td",[t._v(t._s(s.telefono))]),e("td",[t._v(t._s(s.servicios.join(", ")))]),e("td",[t._v(t._s(s.horario))]),e("td",[t._v(t._s(s.comision?s.comision+"%":"-"))]),e("td",[t._v(t._s(s.permisos.join(", ")))]),e("td",[e("button",{staticClass:"btn-edit",on:{click:function(t){return a.openForm(s)}}},[e("i",{staticClass:"ti-pencil"})]),e("button",{staticClass:"btn-delete",on:{click:function(t){return a.deleteItem(i)}}},[e("i",{staticClass:"ti-trash"})])])])})),0===a.items.length?e("tr",[e("td",{staticClass:"no-data",attrs:{colspan:"8"}},[t._v("No hay empleados/usuarios registrados")])]):t._e()],2)])]),a.showForm?e("div",{staticClass:"modal-form-overlay"},[e("div",{staticClass:"modal-form"},[e("h2",[t._v(t._s(a.form.id?"Editar":"Nuevo")+" Empleado/Usuario")]),e("form",{on:{submit:function(t){return t.preventDefault(),a.saveItem.apply(null,arguments)}}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.nombre,expression:"form.nombre"}],attrs:{required:""},domProps:{value:a.form.nombre},on:{input:function(e){e.target.composing||t.$set(a.form,"nombre",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Rol")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.rol,expression:"form.rol"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.form,"rol",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Selecciona un rol")]),e("option",[t._v("Administrador")]),e("option",[t._v("Recepcionista")]),e("option",[t._v("Técnico")]),e("option",[t._v("Especialista")]),e("option",[t._v("Comercial")])])])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.email,expression:"form.email"}],attrs:{type:"email",required:""},domProps:{value:a.form.email},on:{input:function(e){e.target.composing||t.$set(a.form,"email",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Teléfono")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.telefono,expression:"form.telefono"}],attrs:{type:"tel",required:""},domProps:{value:a.form.telefono},on:{input:function(e){e.target.composing||t.$set(a.form,"telefono",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Comisión (%)")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.form.comision,expression:"form.comision",modifiers:{number:!0}}],attrs:{type:"number",min:"0",step:"0.01",placeholder:"Opcional"},domProps:{value:a.form.comision},on:{input:function(e){e.target.composing||t.$set(a.form,"comision",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Servicios que puede realizar")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.servicioInput,expression:"servicioInput"}],attrs:{placeholder:"Añadir y pulsa Enter"},domProps:{value:a.servicioInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),a.addServicio.apply(null,arguments))},input:function(t){t.target.composing||(a.servicioInput=t.target.value)}}}),e("div",{staticClass:"chips"},t._l(a.form.servicios,(function(s,i){return e("span",{key:i,staticClass:"chip"},[t._v("\n                  "+t._s(s)+" "),e("i",{staticClass:"ti-close",on:{click:function(t){return a.removeServicio(i)}}})])})),0)])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Horario laboral detallado")]),e("div",{staticClass:"horario-detallado"},t._l(a.form.horarioDetallado,(function(a,s){return e("div",{key:s,staticClass:"dia-horario"},[e("div",{staticClass:"dia-header"},[e("label",{staticClass:"dia-label"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.activo,expression:"dia.activo"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.activo)?t._i(a.activo,null)>-1:a.activo},on:{change:function(e){var s=a.activo,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,c=t._i(s,n);i.checked?c<0&&t.$set(a,"activo",s.concat([n])):c>-1&&t.$set(a,"activo",s.slice(0,c).concat(s.slice(c+1)))}else t.$set(a,"activo",o)}}}),t._v("\n                      "+t._s(a.nombre)+"\n                    ")])]),a.activo?e("div",{staticClass:"horarios-dia"},[e("div",{staticClass:"horario-input"},[e("span",[t._v("Inicio:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.inicio,expression:"dia.inicio"}],attrs:{type:"time"},domProps:{value:a.inicio},on:{input:function(e){e.target.composing||t.$set(a,"inicio",e.target.value)}}})]),e("div",{staticClass:"horario-input"},[e("span",[t._v("Fin:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.fin,expression:"dia.fin"}],attrs:{type:"time"},domProps:{value:a.fin},on:{input:function(e){e.target.composing||t.$set(a,"fin",e.target.value)}}})]),e("div",{staticClass:"horario-input"},[e("span",[t._v("Descanso:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.descansoInicio,expression:"dia.descansoInicio"}],attrs:{type:"time",placeholder:"Inicio"},domProps:{value:a.descansoInicio},on:{input:function(e){e.target.composing||t.$set(a,"descansoInicio",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:a.descansoFin,expression:"dia.descansoFin"}],attrs:{type:"time",placeholder:"Fin"},domProps:{value:a.descansoFin},on:{input:function(e){e.target.composing||t.$set(a,"descansoFin",e.target.value)}}})])]):t._e()])})),0)])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Permisos/Accesos")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.permisoInput,expression:"permisoInput"}],attrs:{placeholder:"Añadir y pulsa Enter"},domProps:{value:a.permisoInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),a.addPermiso.apply(null,arguments))},input:function(t){t.target.composing||(a.permisoInput=t.target.value)}}}),e("div",{staticClass:"chips"},t._l(a.form.permisos,(function(s,i){return e("span",{key:i,staticClass:"chip"},[t._v("\n                  "+t._s(s)+" "),e("i",{staticClass:"ti-close",on:{click:function(t){return a.removePermiso(i)}}})])})),0)])]),e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:a.closeForm}},[t._v("Cancelar")]),e("button",{staticClass:"btn-save",attrs:{type:"submit"}},[t._v("Guardar")])])])])]):t._e()])])},pi=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-user"}),t._v("\n        Empleados / Usuarios\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Gestión de personal, roles y accesos al sistema")])])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("thead",[e("tr",[e("th",[t._v("Nombre")]),e("th",[t._v("Rol")]),e("th",[t._v("email")]),e("th",[t._v("Teléfono")]),e("th",[t._v("Servicios")]),e("th",[t._v("Horario")]),e("th",[t._v("Comisión")]),e("th",[t._v("Permisos")]),e("th",[t._v("Acciones")])])])}],mi={__name:"EmpleadosUsuarios",setup(t){const e=Object(s["ref"])([]),a=Object(s["ref"])(!1),i=Object(s["ref"])({nombre:"",rol:"",email:"",telefono:"",servicios:[],horario:"",comision:null,permisos:[],zonaHoraria:"Europe/Madrid",horarioDetallado:[{nombre:"Lunes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Martes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Miércoles",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Jueves",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Viernes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Sábado",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""},{nombre:"Domingo",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""}]}),o=Object(s["ref"])(""),n=Object(s["ref"])("");async function c(){try{const t=await B["empleadosService"].getAll();e.value=t}catch(t){e.value=[]}}function r(t=null){i.value=t?{...t,servicios:[...t.servicios],permisos:[...t.permisos],horarioDetallado:t.horarioDetallado?[...t.horarioDetallado]:[{nombre:"Lunes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Martes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Miércoles",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Jueves",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Viernes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Sábado",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""},{nombre:"Domingo",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""}]}:{id:null,nombre:"",rol:"",email:"",telefono:"",servicios:[],horario:"",comision:null,permisos:[],zonaHoraria:"Europe/Madrid",horarioDetallado:[{nombre:"Lunes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Martes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Miércoles",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Jueves",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Viernes",activo:!0,inicio:"09:00",fin:"18:00",descansoInicio:"12:00",descansoFin:"13:00"},{nombre:"Sábado",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""},{nombre:"Domingo",activo:!1,inicio:"",fin:"",descansoInicio:"",descansoFin:""}]},o.value="",n.value="",a.value=!0}function l(){a.value=!1}async function d(){i.value.id?await B["empleadosService"].update(i.value.id,{...i.value}):await B["empleadosService"].create({...i.value}),a.value=!1,await c()}async function u(t){const a=e.value[t];a&&confirm("¿Seguro que quieres eliminar este registro?")&&(await B["empleadosService"].delete(a.id),await c())}function p(){o.value&&!i.value.servicios.includes(o.value)&&(i.value.servicios.push(o.value),o.value="")}function m(t){i.value.servicios.splice(t,1)}function v(){n.value&&!i.value.permisos.includes(n.value)&&(i.value.permisos.push(n.value),n.value="")}function f(t){i.value.permisos.splice(t,1)}return Object(s["onMounted"])(c),{__sfc:!0,items:e,showForm:a,form:i,servicioInput:o,permisoInput:n,fetchEmpleados:c,openForm:r,closeForm:l,saveItem:d,deleteItem:u,addServicio:p,removeServicio:m,addPermiso:v,removePermiso:f}}},vi=mi,fi=(a("e7b5"),Object(b["a"])(vi,ui,pi,!1,null,"f07fce6a",null)),Ci=fi.exports,bi=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"facturacion-container"},[a.showSuccess?e("b-alert",{staticStyle:{position:"fixed",width:"100%",top:"0px","z-index":"9999"},attrs:{variant:"success",show:""}},[t._v("Factura guardada correctamente")]):t._e(),t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"table-section"},[e("div",{staticClass:"table-header"},[e("h2",[t._v("Listado de Facturas")]),e("button",{staticClass:"btn-add",on:{click:function(t){return a.openForm()}}},[e("i",{staticClass:"ti-plus"}),t._v(" Nueva Factura\n        ")])]),e("table",{staticClass:"main-table"},[t._m(1),e("tbody",[t._l(a.items,(function(s,i){return e("tr",{key:s.id},[e("td",[e("strong",[t._v(t._s(s.numeroFactura))])]),e("td",[t._v(t._s(a.formatDate(s.fechaEmision)))]),e("td",[t._v(t._s(s.cliente))]),e("td",[e("div",{staticClass:"servicios-resumen"},[t._l(s.servicios.slice(0,2),(function(a){return e("span",{key:a.id,staticClass:"servicio-chip"},[t._v("\n                  "+t._s(a.nombre)+"\n                ")])})),s.servicios.length>2?e("span",{staticClass:"servicio-more"},[t._v("\n                  +"+t._s(s.servicios.length-2)+" más\n                ")]):t._e()],2)]),e("td",[e("div",{staticClass:"totales"},[e("div",{staticClass:"total-bruto"},[t._v(t._s(a.formatCurrency(s.totalBruto)))]),e("div",{staticClass:"impuestos"},[t._v("+"+t._s(a.formatCurrency(s.impuestos)))]),e("div",{staticClass:"total-neto"},[e("strong",[t._v(t._s(a.formatCurrency(s.totalNeto)))])])])]),e("td",[e("span",{class:"estado-badge estado-"+s.estado},[t._v("\n                "+t._s(s.estado)+"\n              ")])]),e("td",[t._v(t._s(a.formatDate(s.vencimiento)))]),e("td",[e("div",{staticClass:"pagos-info"},[e("div",{staticClass:"pagado"},[t._v(t._s(a.formatCurrency(s.pagado)))]),e("div",{staticClass:"pendiente"},[t._v(t._s(a.formatCurrency(s.pendiente)))]),s.cobrosVinculados.length>0?e("div",{staticClass:"cobros-count"},[e("small",[t._v(t._s(s.cobrosVinculados.length)+" cobro(s)")])]):t._e()])]),e("td",[e("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(t){return a.openForm(s)}}},[e("i",{staticClass:"ti-pencil"})]),e("button",{staticClass:"btn-cobros",attrs:{title:"Ver Cobros"},on:{click:function(t){return a.verCobros(s)}}},[e("i",{staticClass:"ti-money"})]),e("button",{staticClass:"btn-pdf",attrs:{title:"Generar PDF"},on:{click:function(t){return a.generarPDF(s)}}},[e("i",{staticClass:"ti-file"})]),e("button",{staticClass:"btn-delete",attrs:{title:"Eliminar"},on:{click:function(t){return a.deleteItem(i)}}},[e("i",{staticClass:"ti-trash"})])])])})),0===a.items.length?e("tr",[e("td",{staticClass:"no-data",attrs:{colspan:"9"}},[t._v("No hay facturas registradas")])]):t._e()],2)])]),a.showForm?e("div",{staticClass:"modal-form-overlay"},[e("div",{staticClass:"modal-form"},[e("h2",[t._v(t._s(a.form._id?"Editar":"Nueva")+" Factura")]),e("form",{on:{submit:function(t){return t.preventDefault(),a.saveItem.apply(null,arguments)}}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Número de Factura")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.numeroFactura,expression:"form.numeroFactura"}],attrs:{required:""},domProps:{value:a.form.numeroFactura},on:{input:function(e){e.target.composing||t.$set(a.form,"numeroFactura",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Fecha de Emisión")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.fechaEmision,expression:"form.fechaEmision"}],attrs:{type:"date",required:""},domProps:{value:a.form.fechaEmision},on:{input:function(e){e.target.composing||t.$set(a.form,"fechaEmision",e.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Cliente")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.cliente,expression:"form.cliente"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.form,"cliente",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Selecciona un cliente")]),t._l(a.clientes,(function(a){return e("option",{key:a._id,domProps:{value:`${a.nombre} ${a.apellidos}`}},[t._v("\n                  "+t._s(a.nombre)+" "+t._s(a.apellidos)+"\n                ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",[t._v("Estado")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.estado,expression:"form.estado"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.form,"estado",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"borrador"}},[t._v("Borrador")]),e("option",{attrs:{value:"emitida"}},[t._v("Emitida")]),e("option",{attrs:{value:"anulada"}},[t._v("Anulada")])])])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Fecha de Vencimiento")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.vencimiento,expression:"form.vencimiento"}],attrs:{type:"date",required:""},domProps:{value:a.form.vencimiento},on:{input:function(e){e.target.composing||t.$set(a.form,"vencimiento",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Servicios/Productos")]),e("button",{staticClass:"btn-add-service",attrs:{type:"button"},on:{click:a.addServicio}},[e("i",{staticClass:"ti-plus"}),t._v(" Agregar Servicio\n              ")])])]),a.form.servicios.length>0?e("div",{staticClass:"servicios-list"},[e("h4",[t._v("Servicios Incluidos")]),t._l(a.form.servicios,(function(s,i){return e("div",{key:i,staticClass:"servicio-item"},[e("div",{staticClass:"servicio-header"},[e("span",{staticClass:"servicio-nombre"},[t._v(t._s(s.nombre))]),e("button",{staticClass:"btn-remove",attrs:{type:"button"},on:{click:function(t){return a.removeServicio(i)}}},[e("i",{staticClass:"ti-close"})])]),e("div",{staticClass:"servicio-details"},[e("div",{staticClass:"servicio-cantidad"},[e("label",[t._v("Cantidad:")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:s.cantidad,expression:"servicio.cantidad",modifiers:{number:!0}}],attrs:{type:"number",min:"1"},domProps:{value:s.cantidad},on:{input:function(e){e.target.composing||t.$set(s,"cantidad",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"servicio-precio"},[e("label",[t._v("Precio Unitario:")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:s.precioUnitario,expression:"servicio.precioUnitario",modifiers:{number:!0}}],attrs:{type:"number",step:"0.01",min:"0"},domProps:{value:s.precioUnitario},on:{input:function(e){e.target.composing||t.$set(s,"precioUnitario",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"servicio-total"},[e("label",[t._v("Total:")]),e("span",[t._v(t._s(a.formatCurrency(s.cantidad*s.precioUnitario)))])])])])}))],2):t._e(),e("div",{staticClass:"totales-section"},[e("div",{staticClass:"total-item"},[e("span",[t._v("Total Bruto:")]),e("span",[t._v(t._s(a.formatCurrency(a.totalBruto)))])]),e("div",{staticClass:"total-item"},[e("span",[t._v("Impuestos (21%):")]),e("span",[t._v(t._s(a.formatCurrency(a.impuestos)))])]),e("div",{staticClass:"total-item total-neto"},[e("span",[t._v("Total Neto:")]),e("span",[t._v(t._s(a.formatCurrency(a.totalNeto)))])])]),e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:a.closeForm}},[t._v("Cancelar")]),e("button",{staticClass:"btn-save",attrs:{type:"submit"}},[t._v("Guardar Factura")])])])])]):t._e(),a.showServicioModal?e("div",{staticClass:"modal-form-overlay"},[e("div",{staticClass:"modal-form servicio-modal"},[e("h3",[t._v("Agregar Servicio/Producto")]),e("form",{on:{submit:function(t){return t.preventDefault(),a.confirmAddServicio.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",[t._v("Servicio/Producto")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.nuevoServicio.nombre,expression:"nuevoServicio.nombre"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.nuevoServicio,"nombre",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Selecciona un servicio")]),t._l(a.serviciosDisponibles,(function(s){return e("option",{key:s._id,domProps:{value:s.nombre}},[t._v("\n                "+t._s(s.nombre)+" - "+t._s(a.formatCurrency(s.precio))+"\n              ")])}))],2)]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Cantidad")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.nuevoServicio.cantidad,expression:"nuevoServicio.cantidad",modifiers:{number:!0}}],attrs:{type:"number",min:"1",value:"1",required:""},domProps:{value:a.nuevoServicio.cantidad},on:{input:function(e){e.target.composing||t.$set(a.nuevoServicio,"cantidad",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Precio Unitario")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.nuevoServicio.precioUnitario,expression:"nuevoServicio.precioUnitario",modifiers:{number:!0}}],attrs:{type:"number",step:"0.01",min:"0",required:""},domProps:{value:a.nuevoServicio.precioUnitario},on:{input:function(e){e.target.composing||t.$set(a.nuevoServicio,"precioUnitario",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:a.closeServicioModal}},[t._v("Cancelar")]),e("button",{staticClass:"btn-save",attrs:{type:"submit"}},[t._v("Agregar")])])])])]):t._e(),a.showCobrosModal?e("div",{staticClass:"modal-form-overlay"},[e("div",{staticClass:"modal-form"},[e("h2",[t._v("Cobros de Factura "+t._s(a.selectedFactura&&a.selectedFactura.numeroFactura))]),e("div",{staticClass:"cobros-content"},[e("div",{staticClass:"factura-info"},[e("p",[e("strong",[t._v("Cliente:")]),t._v(" "+t._s(a.selectedFactura&&a.selectedFactura.cliente))]),e("p",[e("strong",[t._v("Total Factura:")]),t._v(" "+t._s(a.selectedFactura&&a.formatCurrency(a.selectedFactura.totalNeto)))]),e("p",[e("strong",[t._v("Estado:")]),e("span",{class:"estado-badge estado-"+(a.selectedFactura&&a.selectedFactura.estado)},[t._v("\n                "+t._s(a.selectedFactura&&a.selectedFactura.estado)+"\n              ")])])]),a.cobrosFactura.length>0?e("div",{staticClass:"cobros-list"},[e("h3",[t._v("Cobros Realizados")]),t._l(a.cobrosFactura,(function(s){return e("div",{key:s.id,staticClass:"cobro-item"},[e("div",{staticClass:"cobro-header"},[e("span",{staticClass:"cobro-id"},[t._v("#"+t._s(s.id))]),e("span",{class:"estado-badge estado-"+s.estado},[t._v("\n                  "+t._s(s.estado)+"\n                ")])]),e("div",{staticClass:"cobro-details"},[e("div",{staticClass:"cobro-info"},[e("span",[e("strong",[t._v("Fecha:")]),t._v(" "+t._s(a.formatDate(s.fechaPago)))]),e("span",[e("strong",[t._v("Método:")]),t._v(" "+t._s(s.metodo))]),e("span",[e("strong",[t._v("Monto:")]),t._v(" "+t._s(a.formatCurrency(s.monto)))])]),s.referencia?e("div",{staticClass:"cobro-referencia"},[e("strong",[t._v("Referencia:")]),t._v(" "+t._s(s.referencia)+"\n                ")]):t._e()])])})),e("div",{staticClass:"cobros-resumen"},[e("div",{staticClass:"resumen-item"},[e("span",[t._v("Total Cobrado:")]),e("span",{staticClass:"total-cobrado"},[t._v(t._s(a.formatCurrency(a.totalCobrado)))])]),e("div",{staticClass:"resumen-item"},[e("span",[t._v("Pendiente:")]),e("span",{staticClass:"pendiente"},[t._v(t._s(a.formatCurrency(a.selectedFactura&&a.selectedFactura.totalNeto-a.totalCobrado)))])])])],2):e("div",{staticClass:"no-cobros"},[e("i",{staticClass:"ti-money",staticStyle:{"font-size":"48px",color:"#ccc","margin-bottom":"15px"}}),e("p",[t._v("No hay cobros registrados para esta factura")])])]),e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:a.closeCobrosModal}},[t._v("Cerrar")]),e("button",{staticClass:"btn-add-cobro",attrs:{type:"button"},on:{click:a.irACobros}},[e("i",{staticClass:"ti-plus"}),t._v(" Nuevo Cobro\n          ")])])])]):t._e()])],1)},gi=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-receipt"}),t._v("\n        Facturación\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Gestión de facturas, estados y documentos")])])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("thead",[e("tr",[e("th",[t._v("Nº Factura")]),e("th",[t._v("Fecha")]),e("th",[t._v("Cliente")]),e("th",[t._v("Servicios")]),e("th",[t._v("Total Neto")]),e("th",[t._v("Estado")]),e("th",[t._v("Vencimiento")]),e("th",[t._v("Pagos")]),e("th",[t._v("Acciones")])])])}],hi={__name:"Facturacion",setup(t){const e=Object(s["ref"])([]),a=Object(s["ref"])([]),i=Object(s["ref"])([]),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=Object(s["ref"])(!1),r=Object(s["ref"])(null),l=Object(s["ref"])([]),d=Object(s["ref"])(!1),u=Object(s["ref"])({numeroFactura:"",fechaEmision:"",cliente:"",servicios:[],estado:"borrador",vencimiento:""}),p=Object(s["ref"])({nombre:"",cantidad:1,precioUnitario:0}),m=Object(s["computed"])(()=>u.value.servicios.reduce((t,e)=>t+e.cantidad*e.precioUnitario,0)),v=Object(s["computed"])(()=>.21*m.value),f=Object(s["computed"])(()=>m.value+v.value),C=Object(s["computed"])(()=>l.value.reduce((t,e)=>t+e.monto,0)),b=async()=>{try{console.log("Cargando facturas desde la API...");const t=await Pe["c"].getAll();console.log("Respuesta de la API:",t),e.value=t}catch(t){console.error("Error al obtener facturas:",t)}},g=async()=>{try{console.log("Cargando clientes desde la API...");const t=await Pe["a"].getAll();console.log("Clientes cargados:",t),a.value=t}catch(t){console.error("Error al obtener clientes:",t)}},h=async()=>{try{console.log("Cargando servicios desde la API...");const t=await Pe["e"].getAll();console.log("Servicios cargados:",t),i.value=t}catch(t){console.error("Error al obtener servicios:",t)}};function _(t){return new Date(t).toLocaleDateString("es-ES")}function y(t){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(t)}function w(t=null){u.value=t?{...t,servicios:[...t.servicios]}:{numeroFactura:`FAC-${(new Date).getFullYear()}-${String(e.value.length+1).padStart(3,"0")}`,fechaEmision:(new Date).toISOString().split("T")[0],cliente:"",servicios:[],estado:"borrador",vencimiento:""},o.value=!0}function k(){o.value=!1}async function A(){try{const t={...u.value,totalBruto:m.value,impuestos:v.value,totalNeto:f.value,fechaCreacion:(new Date).getTime()};u.value._id?(console.log("Actualizando factura:",t),await Pe["c"].update(u.value._id,t),d.value=!0,setTimeout(()=>{d.value=!1},3e3)):(console.log("Creando nueva factura:",t),await Pe["c"].create(t),d.value=!0,setTimeout(()=>{d.value=!1},3e3)),o.value=!1,await b()}catch(t){console.error("Error al guardar factura:",t)}}async function x(t){if(confirm("¿Seguro que quieres eliminar esta factura?"))try{const a=e.value[t];await Pe["c"].delete(a._id),d.value=!0,setTimeout(()=>{d.value=!1},3e3),await b()}catch(a){console.error("Error al eliminar factura:",a)}}function S(){p.value={nombre:"",cantidad:1,precioUnitario:0},n.value=!0}function O(){n.value=!1}function D(){const t=i.value.find(t=>t.nombre===p.value.nombre);t&&u.value.servicios.push({id:t._id,nombre:p.value.nombre,cantidad:p.value.cantidad,precioUnitario:p.value.precioUnitario||t.precio}),O()}function P(t){u.value.servicios.splice(t,1)}function j(t){alert("Generando PDF para factura "+t.numeroFactura)}function E(t){const e=[{id:1,fechaPago:"2024-01-15",metodo:"tarjeta",monto:453.75,referencia:"FAC-2024-001",estado:"completado",facturas:["FAC-2024-001"]},{id:2,fechaPago:"2024-01-20",metodo:"transferencia",monto:150,referencia:"TRF-001",estado:"completado",facturas:["FAC-2024-002"]}];return e.filter(e=>e.facturas.includes(t.numeroFactura))}function N(t){r.value=t,l.value=E(t),c.value=!0}function T(){c.value=!1,r.value=null,l.value=[]}function I(){T(),window.location.hash="#/cobros-pagos"}return Object(s["onMounted"])(async()=>{await b(),await g(),await h()}),{__sfc:!0,items:e,clientes:a,serviciosDisponibles:i,showForm:o,showServicioModal:n,showCobrosModal:c,selectedFactura:r,cobrosFactura:l,showSuccess:d,form:u,nuevoServicio:p,totalBruto:m,impuestos:v,totalNeto:f,totalCobrado:C,fetchData:b,fetchClientes:g,fetchServicios:h,formatDate:_,formatCurrency:y,openForm:w,closeForm:k,saveItem:A,deleteItem:x,addServicio:S,closeServicioModal:O,confirmAddServicio:D,removeServicio:P,generarPDF:j,obtenerCobrosFactura:E,verCobros:N,closeCobrosModal:T,irACobros:I}}},_i=hi,yi=(a("6972"),Object(b["a"])(_i,bi,gi,!1,null,"4945bc12",null)),wi=yi.exports,ki=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"cobros-pagos-container"},[t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"table-section"},[e("div",{staticClass:"table-header"},[e("h2",[t._v("Transacciones")]),e("button",{staticClass:"btn-add",on:{click:function(t){return a.openForm()}}},[e("i",{staticClass:"ti-plus"}),t._v(" Nuevo Pago\n        ")])]),e("table",{staticClass:"main-table"},[t._m(1),e("tbody",[t._l(a.items,(function(s,i){return e("tr",{key:s.id},[e("td",[e("strong",[t._v("#"+t._s(s.id))])]),e("td",[t._v(t._s(s.cliente))]),e("td",[t._v(t._s(a.formatDate(s.fechaPago)))]),e("td",[e("span",{class:"metodo-badge metodo-"+s.metodo},[t._v("\n                "+t._s(s.metodo)+"\n              ")])]),e("td",[e("strong",[t._v(t._s(a.formatCurrency(s.monto)))])]),e("td",[t._v(t._s(s.referencia))]),e("td",[e("span",{class:"estado-badge estado-"+s.estado},[t._v("\n                "+t._s(s.estado)+"\n              ")])]),e("td",[e("div",{staticClass:"facturas-vinculadas"},t._l(s.facturas,(function(a){return e("span",{key:a,staticClass:"factura-chip"},[t._v("\n                  "+t._s(a)+"\n                ")])})),0)]),e("td",[e("button",{staticClass:"btn-edit",attrs:{title:"Editar"},on:{click:function(t){return a.openForm(s)}}},[e("i",{staticClass:"ti-pencil"})]),e("button",{staticClass:"btn-link",attrs:{title:"Vincular Facturas"},on:{click:function(t){return a.vincularFacturas(s)}}},[e("i",{staticClass:"ti-link"})]),e("button",{staticClass:"btn-delete",attrs:{title:"Eliminar"},on:{click:function(t){return a.deleteItem(i)}}},[e("i",{staticClass:"ti-trash"})])])])})),0===a.items.length?e("tr",[e("td",{staticClass:"no-data",attrs:{colspan:"9"}},[t._v("No hay transacciones registradas")])]):t._e()],2)])]),a.showForm?e("div",{staticClass:"modal-form-overlay"},[e("div",{staticClass:"modal-form"},[e("h2",[t._v(t._s(a.form.id?"Editar":"Nuevo")+" Pago")]),e("form",{on:{submit:function(t){return t.preventDefault(),a.saveItem.apply(null,arguments)}}},[e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Cliente")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.cliente,expression:"form.cliente"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.form,"cliente",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Selecciona un cliente")]),t._l(a.clientes,(function(a){return e("option",{key:a.id,domProps:{value:a.nombre}},[t._v("\n                  "+t._s(a.nombre)+"\n                ")])}))],2)]),e("div",{staticClass:"form-group"},[e("label",[t._v("Fecha de Pago")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.fechaPago,expression:"form.fechaPago"}],attrs:{type:"date",required:""},domProps:{value:a.form.fechaPago},on:{input:function(e){e.target.composing||t.$set(a.form,"fechaPago",e.target.value)}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Método de Pago")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.metodo,expression:"form.metodo"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.form,"metodo",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("Selecciona método")]),e("option",{attrs:{value:"efectivo"}},[t._v("Efectivo")]),e("option",{attrs:{value:"tarjeta"}},[t._v("Tarjeta")]),e("option",{attrs:{value:"transferencia"}},[t._v("Transferencia")]),e("option",{attrs:{value:"paypal"}},[t._v("PayPal")]),e("option",{attrs:{value:"stripe"}},[t._v("Stripe")]),e("option",{attrs:{value:"cheque"}},[t._v("Cheque")])])]),e("div",{staticClass:"form-group"},[e("label",[t._v("Monto")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.form.monto,expression:"form.monto",modifiers:{number:!0}}],attrs:{type:"number",step:"0.01",min:"0",required:""},domProps:{value:a.form.monto},on:{input:function(e){e.target.composing||t.$set(a.form,"monto",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])]),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Referencia")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.referencia,expression:"form.referencia"}],attrs:{placeholder:"Número de factura, comprobante, etc."},domProps:{value:a.form.referencia},on:{input:function(e){e.target.composing||t.$set(a.form,"referencia",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Estado")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.form.estado,expression:"form.estado"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.form,"estado",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"completado"}},[t._v("Completado")]),e("option",{attrs:{value:"pendiente"}},[t._v("Pendiente")]),e("option",{attrs:{value:"rechazado"}},[t._v("Rechazado")]),e("option",{attrs:{value:"procesando"}},[t._v("Procesando")])])])]),e("div",{staticClass:"form-section"},[e("h3",[t._v("Facturas Vinculadas")]),e("div",{staticClass:"facturas-disponibles"},t._l(a.facturasDisponibles,(function(s){return e("div",{key:s.id,staticClass:"factura-item"},[e("label",{staticClass:"factura-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.facturas,expression:"form.facturas"}],attrs:{type:"checkbox"},domProps:{value:s.numeroFactura,checked:Array.isArray(a.form.facturas)?t._i(a.form.facturas,s.numeroFactura)>-1:a.form.facturas},on:{change:function(e){var i=a.form.facturas,o=e.target,n=!!o.checked;if(Array.isArray(i)){var c=s.numeroFactura,r=t._i(i,c);o.checked?r<0&&t.$set(a.form,"facturas",i.concat([c])):r>-1&&t.$set(a.form,"facturas",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(a.form,"facturas",n)}}}),e("span",{staticClass:"factura-info"},[e("strong",[t._v(t._s(s.numeroFactura))]),t._v(" - \n                    "+t._s(s.cliente)+" - \n                    "+t._s(a.formatCurrency(s.pendiente))+" pendiente\n                  ")])])])})),0),a.form.facturas.length>0?e("div",{staticClass:"total-pendiente"},[e("strong",[t._v("Total pendiente seleccionado: "+t._s(a.formatCurrency(a.totalPendienteSeleccionado)))]),e("div",{staticClass:"validacion-monto",class:{error:a.form.monto>a.totalPendienteSeleccionado}},[a.form.monto>a.totalPendienteSeleccionado?e("small",[t._v("\n                  ⚠️ El monto excede el total pendiente\n                ")]):a.form.monto>0?e("small",[t._v("\n                  ✅ Monto válido\n                ")]):t._e()])]):t._e()]),e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:a.closeForm}},[t._v("Cancelar")]),e("button",{staticClass:"btn-save",attrs:{type:"submit"}},[t._v("Guardar Pago")])])])])]):t._e(),a.showVincularModal?e("div",{staticClass:"modal-form-overlay"},[e("div",{staticClass:"modal-form"},[e("h2",[t._v("Vincular Facturas")]),e("div",{staticClass:"vincular-content"},[e("p",[e("strong",[t._v("Pago:")]),t._v(" #"+t._s(a.selectedItem&&a.selectedItem.id)+" - "+t._s(a.formatCurrency(a.selectedItem&&a.selectedItem.monto)))]),e("p",[e("strong",[t._v("Cliente:")]),t._v(" "+t._s(a.selectedItem&&a.selectedItem.cliente))]),e("div",{staticClass:"facturas-seleccion"},[e("h4",[t._v("Seleccionar Facturas")]),t._l(a.facturasDisponibles,(function(s){return e("div",{key:s.id,staticClass:"factura-seleccion-item"},[e("label",{staticClass:"factura-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.facturasSeleccionadas,expression:"facturasSeleccionadas"}],attrs:{type:"checkbox"},domProps:{value:s.numeroFactura,checked:Array.isArray(a.facturasSeleccionadas)?t._i(a.facturasSeleccionadas,s.numeroFactura)>-1:a.facturasSeleccionadas},on:{change:function(e){var i=a.facturasSeleccionadas,o=e.target,n=!!o.checked;if(Array.isArray(i)){var c=s.numeroFactura,r=t._i(i,c);o.checked?r<0&&(a.facturasSeleccionadas=i.concat([c])):r>-1&&(a.facturasSeleccionadas=i.slice(0,r).concat(i.slice(r+1)))}else a.facturasSeleccionadas=n}}}),e("span",{staticClass:"factura-detalle"},[e("strong",[t._v(t._s(s.numeroFactura))]),e("br"),e("small",[t._v(t._s(s.cliente)+" - "+t._s(a.formatCurrency(s.pendiente))+" pendiente")])])])])}))],2),e("div",{staticClass:"total-vinculacion"},[e("strong",[t._v("Total a aplicar: "+t._s(a.formatCurrency(a.totalSeleccionado)))])])]),e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:a.closeVincularModal}},[t._v("Cancelar")]),e("button",{staticClass:"btn-save",attrs:{type:"button"},on:{click:a.confirmarVinculacion}},[t._v("Vincular Facturas")])])])]):t._e()])])},Ai=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-money"}),t._v("\n        Cobros / Pagos\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Gestión de transacciones y métodos de pago")])])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("thead",[e("tr",[e("th",[t._v("ID")]),e("th",[t._v("Cliente")]),e("th",[t._v("Fecha")]),e("th",[t._v("Método")]),e("th",[t._v("Monto")]),e("th",[t._v("Referencia")]),e("th",[t._v("Estado")]),e("th",[t._v("Facturas")]),e("th",[t._v("Acciones")])])])}],xi={__name:"CobrosPagos",setup(t){const e=Object(s["ref"])([{id:1,cliente:"Ana López",fechaPago:"2024-01-15",metodo:"tarjeta",monto:453.75,referencia:"FAC-2024-001",estado:"completado",facturas:["FAC-2024-001"]},{id:2,cliente:"Carlos Ruiz",fechaPago:"2024-01-20",metodo:"transferencia",monto:150,referencia:"TRF-001",estado:"completado",facturas:["FAC-2024-002"]}]),a=Object(s["ref"])([{id:1,nombre:"Ana López"},{id:2,nombre:"Carlos Ruiz"},{id:3,nombre:"María García"}]),i=Object(s["ref"])([{id:1,numeroFactura:"FAC-2024-001",cliente:"Ana López",pendiente:0},{id:2,numeroFactura:"FAC-2024-002",cliente:"Carlos Ruiz",pendiente:242},{id:3,numeroFactura:"FAC-2024-003",cliente:"María García",pendiente:150}]),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=Object(s["ref"])(null),r=Object(s["ref"])([]),l=Object(s["ref"])({id:null,cliente:"",fechaPago:"",metodo:"",monto:0,referencia:"",estado:"completado",facturas:[]}),d=Object(s["computed"])(()=>i.value.filter(t=>r.value.includes(t.numeroFactura)).reduce((t,e)=>t+e.pendiente,0)),u=Object(s["computed"])(()=>i.value.filter(t=>l.value.facturas.includes(t.numeroFactura)).reduce((t,e)=>t+e.pendiente,0)),p=Object(s["ref"])([{id:1,numeroFactura:"FAC-2024-001",cliente:"Ana López",totalNeto:453.75,cobrosVinculados:[1]},{id:2,numeroFactura:"FAC-2024-002",cliente:"Carlos Ruiz",totalNeto:242,cobrosVinculados:[2]}]);function m(t){return new Date(t).toLocaleDateString("es-ES")}function v(t){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(t)}function f(t=null){l.value=t?{...t,facturas:[...t.facturas]}:{id:null,cliente:"",fechaPago:(new Date).toISOString().split("T")[0],metodo:"",monto:0,referencia:"",estado:"completado",facturas:[]},o.value=!0}function C(){o.value=!1}function b(){if(l.value.facturas.length>0){const t=i.value.filter(t=>l.value.facturas.includes(t.numeroFactura)),e=t.reduce((t,e)=>t+e.pendiente,0);if(l.value.monto>e)return void alert(`El monto (${v(l.value.monto)}) excede el total pendiente de las facturas seleccionadas (${v(e)})`)}if(l.value.id){const t=e.value.findIndex(t=>t.id===l.value.id);-1!==t&&(e.value[t]={...l.value,facturas:[...l.value.facturas]})}else l.value.id=Date.now(),e.value.push({...l.value,facturas:[...l.value.facturas]});w(),o.value=!1}function g(t){confirm("¿Seguro que quieres eliminar esta transacción?")&&e.value.splice(t,1)}function h(t){c.value=t,r.value=[...t.facturas],n.value=!0}function _(){n.value=!1,c.value=null,r.value=[]}function y(){if(c.value){const t=e.value.findIndex(t=>t.id===c.value.id);-1!==t&&(e.value[t].facturas=[...r.value],w())}_()}function w(){p.value.forEach(t=>{const a=e.value.filter(e=>t.cobrosVinculados.includes(e.id)&&"completado"===e.estado),s=a.reduce((t,e)=>t+e.monto,0);console.log(`Factura ${t.numeroFactura}: ${s}/${t.totalNeto}`)})}function k(t,e){const a=i.value.filter(t=>e.includes(t.numeroFactura)),s=a.reduce((t,e)=>t+e.pendiente,0);return t<=s}return{__sfc:!0,items:e,clientes:a,facturasDisponibles:i,showForm:o,showVincularModal:n,selectedItem:c,facturasSeleccionadas:r,form:l,totalSeleccionado:d,totalPendienteSeleccionado:u,facturasData:p,formatDate:m,formatCurrency:v,openForm:f,closeForm:C,saveItem:b,deleteItem:g,vincularFacturas:h,closeVincularModal:_,confirmarVinculacion:y,actualizarEstadosFacturas:w,validarMontoCobro:k}}},Si=xi,Oi=(a("37c9"),Object(b["a"])(Si,ki,Ai,!1,null,"48bc1d5f",null)),Di=Oi.exports,Pi=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"seguridad-permisos-container"},[t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"tabs-container"},[e("div",{staticClass:"tabs-header"},t._l(a.tabs,(function(s){return e("button",{key:s.id,class:["tab-button",{active:a.activeTab===s.id}],on:{click:function(t){a.activeTab=s.id}}},[e("i",{class:s.icon}),t._v("\n          "+t._s(s.name)+"\n        ")])})),0)]),"actividad"===a.activeTab?e("div",{staticClass:"tab-content"},[e("div",{staticClass:"section-header"},[e("h2",[t._v("Registro de Actividad")]),e("div",{staticClass:"filters"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.filtroUsuario,expression:"filtroUsuario"}],staticClass:"filter-select",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));a.filtroUsuario=t.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("Todos los usuarios")]),t._l(a.usuarios,(function(a){return e("option",{key:a.id,domProps:{value:a.nombre}},[t._v("\n              "+t._s(a.nombre)+"\n            ")])}))],2),e("select",{directives:[{name:"model",rawName:"v-model",value:a.filtroAccion,expression:"filtroAccion"}],staticClass:"filter-select",on:{change:function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));a.filtroAccion=t.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v("Todas las acciones")]),e("option",{attrs:{value:"login"}},[t._v("Inicio de sesión")]),e("option",{attrs:{value:"logout"}},[t._v("Cierre de sesión")]),e("option",{attrs:{value:"create"}},[t._v("Crear")]),e("option",{attrs:{value:"update"}},[t._v("Actualizar")]),e("option",{attrs:{value:"delete"}},[t._v("Eliminar")])]),e("button",{staticClass:"btn-export",on:{click:a.exportarActividad}},[e("i",{staticClass:"ti-download"}),t._v(" Exportar\n          ")])])]),e("div",{staticClass:"activity-table"},[e("table",{staticClass:"main-table"},[t._m(1),e("tbody",t._l(a.actividadesFiltradas,(function(s){return e("tr",{key:s.id},[e("td",[e("div",{staticClass:"user-info"},[e("i",{staticClass:"ti-user"}),t._v("\n                  "+t._s(s.usuario)+"\n                ")])]),e("td",[e("span",{class:"action-badge action-"+s.accion},[t._v("\n                  "+t._s(s.accion)+"\n                ")])]),e("td",[t._v(t._s(s.modulo))]),e("td",[t._v(t._s(s.detalles))]),e("td",[t._v(t._s(s.ip))]),e("td",[t._v(t._s(a.formatDateTime(s.fecha)))])])})),0)])])]):t._e(),"accesos"===a.activeTab?e("div",{staticClass:"tab-content"},[e("div",{staticClass:"section-header"},[e("h2",[t._v("Control de Accesos por Rol")]),e("button",{staticClass:"btn-add",on:{click:function(t){return a.openRolForm()}}},[e("i",{staticClass:"ti-plus"}),t._v(" Nuevo Rol\n        ")])]),e("div",{staticClass:"roles-grid"},t._l(a.roles,(function(s){return e("div",{key:s.id,staticClass:"rol-card"},[e("div",{staticClass:"rol-header"},[e("h3",[t._v(t._s(s.nombre))]),e("div",{staticClass:"rol-actions"},[e("button",{staticClass:"btn-edit-small",on:{click:function(t){return a.openRolForm(s)}}},[e("i",{staticClass:"ti-pencil"})]),e("button",{staticClass:"btn-delete-small",on:{click:function(t){return a.deleteRol(s.id)}}},[e("i",{staticClass:"ti-trash"})])])]),e("div",{staticClass:"rol-description"},[t._v(t._s(s.descripcion))]),e("div",{staticClass:"rol-permissions"},[e("h4",[t._v("Permisos:")]),e("div",{staticClass:"permissions-list"},t._l(s.permisos,(function(a){return e("div",{key:a,staticClass:"permission-item"},[e("i",{staticClass:"ti-check"}),t._v("\n                "+t._s(a)+"\n              ")])})),0)]),e("div",{staticClass:"rol-users"},[e("small",[t._v(t._s(s.usuarios)+" usuarios asignados")])])])})),0)]):t._e(),"backups"===a.activeTab?e("div",{staticClass:"tab-content"},[e("div",{staticClass:"section-header"},[e("h2",[t._v("Copias de Seguridad")]),e("button",{staticClass:"btn-add",on:{click:a.crearBackupManual}},[e("i",{staticClass:"ti-download"}),t._v(" Crear Backup Manual\n        ")])]),e("div",{staticClass:"backup-config"},[e("div",{staticClass:"config-card"},[e("h3",[t._v("Configuración Automática")]),e("div",{staticClass:"config-item"},[e("label",[t._v("Frecuencia:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.configBackup.frecuencia,expression:"configBackup.frecuencia"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.configBackup,"frecuencia",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"diario"}},[t._v("Diario")]),e("option",{attrs:{value:"semanal"}},[t._v("Semanal")]),e("option",{attrs:{value:"mensual"}},[t._v("Mensual")])])]),e("div",{staticClass:"config-item"},[e("label",[t._v("Hora:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.configBackup.hora,expression:"configBackup.hora"}],attrs:{type:"time"},domProps:{value:a.configBackup.hora},on:{input:function(e){e.target.composing||t.$set(a.configBackup,"hora",e.target.value)}}})]),e("div",{staticClass:"config-item"},[e("label",[t._v("Retener backups:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.configBackup.retener,expression:"configBackup.retener"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.configBackup,"retener",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"7"}},[t._v("7 días")]),e("option",{attrs:{value:"30"}},[t._v("30 días")]),e("option",{attrs:{value:"90"}},[t._v("90 días")])])]),e("button",{staticClass:"btn-save-config",on:{click:a.guardarConfigBackup}},[t._v("\n            Guardar Configuración\n          ")])])]),e("div",{staticClass:"backups-list"},[e("h3",[t._v("Backups Disponibles")]),t._l(a.backups,(function(s){return e("div",{key:s.id,staticClass:"backup-item"},[e("div",{staticClass:"backup-info"},[e("div",{staticClass:"backup-name"},[t._v(t._s(s.nombre))]),e("div",{staticClass:"backup-details"},[e("span",[t._v(t._s(s.tamaño))]),e("span",[t._v(t._s(a.formatDateTime(s.fecha)))])])]),e("div",{staticClass:"backup-actions"},[e("button",{staticClass:"btn-download",on:{click:function(t){return a.descargarBackup(s)}}},[e("i",{staticClass:"ti-download"})]),e("button",{staticClass:"btn-restore",on:{click:function(t){return a.restaurarBackup(s)}}},[e("i",{staticClass:"ti-reload"})]),e("button",{staticClass:"btn-delete",on:{click:function(t){return a.deleteBackup(s.id)}}},[e("i",{staticClass:"ti-trash"})])])])}))],2)]):t._e(),"sesion"===a.activeTab?e("div",{staticClass:"tab-content"},[t._m(2),e("div",{staticClass:"session-config"},[e("div",{staticClass:"config-card"},[e("h3",[t._v("Cierre de Sesión por Inactividad")]),e("div",{staticClass:"config-item"},[e("label",[t._v("Tiempo de inactividad (minutos):")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.configSesion.inactividad,expression:"configSesion.inactividad",modifiers:{number:!0}}],attrs:{type:"number",min:"5",max:"480"},domProps:{value:a.configSesion.inactividad},on:{input:function(e){e.target.composing||t.$set(a.configSesion,"inactividad",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"config-item"},[e("label",[t._v("Mostrar advertencia antes de cerrar:")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.configSesion.advertencia,expression:"configSesion.advertencia",modifiers:{number:!0}}],attrs:{type:"number",min:"1",max:"10"},domProps:{value:a.configSesion.advertencia},on:{input:function(e){e.target.composing||t.$set(a.configSesion,"advertencia",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("span",{staticClass:"config-help"},[t._v("minutos antes")])]),e("div",{staticClass:"config-item"},[e("label",[t._v("Forzar cierre de sesión al cerrar navegador:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.configSesion.forzarCierre,expression:"configSesion.forzarCierre"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(a.configSesion.forzarCierre)?t._i(a.configSesion.forzarCierre,null)>-1:a.configSesion.forzarCierre},on:{change:function(e){var s=a.configSesion.forzarCierre,i=e.target,o=!!i.checked;if(Array.isArray(s)){var n=null,c=t._i(s,n);i.checked?c<0&&t.$set(a.configSesion,"forzarCierre",s.concat([n])):c>-1&&t.$set(a.configSesion,"forzarCierre",s.slice(0,c).concat(s.slice(c+1)))}else t.$set(a.configSesion,"forzarCierre",o)}}})]),e("button",{staticClass:"btn-save-config",on:{click:a.guardarConfigSesion}},[t._v("\n            Guardar Configuración\n          ")])]),e("div",{staticClass:"config-card"},[e("h3",[t._v("Seguridad Adicional")]),e("div",{staticClass:"config-item"},[e("label",[t._v("Requerir cambio de contraseña cada:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.configSesion.cambioPassword,expression:"configSesion.cambioPassword"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.configSesion,"cambioPassword",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"0"}},[t._v("Nunca")]),e("option",{attrs:{value:"30"}},[t._v("30 días")]),e("option",{attrs:{value:"90"}},[t._v("90 días")]),e("option",{attrs:{value:"180"}},[t._v("180 días")])])]),e("div",{staticClass:"config-item"},[e("label",[t._v("Máximo intentos de login:")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.configSesion.maxIntentos,expression:"configSesion.maxIntentos",modifiers:{number:!0}}],attrs:{type:"number",min:"3",max:"10"},domProps:{value:a.configSesion.maxIntentos},on:{input:function(e){e.target.composing||t.$set(a.configSesion,"maxIntentos",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("div",{staticClass:"config-item"},[e("label",[t._v("Bloquear cuenta tras intentos fallidos:")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:a.configSesion.tiempoBloqueo,expression:"configSesion.tiempoBloqueo",modifiers:{number:!0}}],attrs:{type:"number",min:"5",max:"60"},domProps:{value:a.configSesion.tiempoBloqueo},on:{input:function(e){e.target.composing||t.$set(a.configSesion,"tiempoBloqueo",t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),e("span",{staticClass:"config-help"},[t._v("minutos")])])])])]):t._e(),a.showRolForm?e("div",{staticClass:"modal-form-overlay"},[e("div",{staticClass:"modal-form"},[e("h2",[t._v(t._s(a.formRol.id?"Editar":"Nuevo")+" Rol")]),e("form",{on:{submit:function(t){return t.preventDefault(),a.saveRol.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",[t._v("Nombre del Rol")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.formRol.nombre,expression:"formRol.nombre"}],attrs:{required:""},domProps:{value:a.formRol.nombre},on:{input:function(e){e.target.composing||t.$set(a.formRol,"nombre",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Descripción")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.formRol.descripcion,expression:"formRol.descripcion"}],attrs:{rows:"3"},domProps:{value:a.formRol.descripcion},on:{input:function(e){e.target.composing||t.$set(a.formRol,"descripcion",e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",[t._v("Permisos")]),e("div",{staticClass:"permissions-grid"},t._l(a.permisosDisponibles,(function(s){return e("label",{key:s.id,staticClass:"permission-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.formRol.permisos,expression:"formRol.permisos"}],attrs:{type:"checkbox"},domProps:{value:s.nombre,checked:Array.isArray(a.formRol.permisos)?t._i(a.formRol.permisos,s.nombre)>-1:a.formRol.permisos},on:{change:function(e){var i=a.formRol.permisos,o=e.target,n=!!o.checked;if(Array.isArray(i)){var c=s.nombre,r=t._i(i,c);o.checked?r<0&&t.$set(a.formRol,"permisos",i.concat([c])):r>-1&&t.$set(a.formRol,"permisos",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(a.formRol,"permisos",n)}}}),e("span",[t._v(t._s(s.nombre))]),e("small",[t._v(t._s(s.descripcion))])])})),0)]),e("div",{staticClass:"form-actions"},[e("button",{staticClass:"btn-cancel",attrs:{type:"button"},on:{click:a.closeRolForm}},[t._v("Cancelar")]),e("button",{staticClass:"btn-save",attrs:{type:"submit"}},[t._v("Guardar Rol")])])])])]):t._e()])])},ji=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-shield"}),t._v("\n        Seguridad / Permisos\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Control de accesos, actividad y configuración de seguridad")])])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("thead",[e("tr",[e("th",[t._v("Usuario")]),e("th",[t._v("Acción")]),e("th",[t._v("Módulo")]),e("th",[t._v("Detalles")]),e("th",[t._v("IP")]),e("th",[t._v("Fecha/Hora")])])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"section-header"},[e("h2",[t._v("Configuración de Sesión")])])}],Ei={__name:"SeguridadPermisos",setup(t){const e=Object(s["ref"])("actividad"),a=[{id:"actividad",name:"Registro de Actividad",icon:"ti-list"},{id:"accesos",name:"Control de Accesos",icon:"ti-lock"},{id:"backups",name:"Copias de Seguridad",icon:"ti-download"},{id:"sesion",name:"Configuración de Sesión",icon:"ti-time"}],i=Object(s["ref"])([{id:1,usuario:"Ana López",accion:"login",modulo:"Sistema",detalles:"Inicio de sesión exitoso",ip:"192.168.1.100",fecha:"2024-01-20T10:30:00"},{id:2,usuario:"Carlos Ruiz",accion:"create",modulo:"Facturación",detalles:"Creó factura FAC-2024-003",ip:"192.168.1.101",fecha:"2024-01-20T09:15:00"},{id:3,usuario:"María García",accion:"update",modulo:"Clientes",detalles:"Actualizó datos del cliente Juan Pérez",ip:"192.168.1.102",fecha:"2024-01-20T08:45:00"}]),o=Object(s["ref"])([{id:1,nombre:"Ana López"},{id:2,nombre:"Carlos Ruiz"},{id:3,nombre:"María García"}]),n=Object(s["ref"])(""),c=Object(s["ref"])(""),r=Object(s["computed"])(()=>i.value.filter(t=>{const e=!n.value||t.usuario===n.value,a=!c.value||t.accion===c.value;return e&&a})),l=Object(s["ref"])([{id:1,nombre:"Administrador",descripcion:"Acceso completo al sistema",permisos:["Acceso total","Gestión usuarios","Configuración sistema","Backups"],usuarios:2},{id:2,nombre:"Usuario",descripcion:"Acceso básico a módulos principales",permisos:["Ver clientes","Crear facturas","Ver reportes"],usuarios:5},{id:3,nombre:"Técnico",descripcion:"Acceso a módulos técnicos",permisos:["Gestión servicios","Ver empleados","Reportes técnicos"],usuarios:3}]),d=Object(s["ref"])([{id:1,nombre:"Acceso total",descripcion:"Control completo del sistema"},{id:2,nombre:"Gestión usuarios",descripcion:"Crear, editar y eliminar usuarios"},{id:3,nombre:"Configuración sistema",descripcion:"Modificar configuraciones"},{id:4,nombre:"Backups",descripcion:"Gestionar copias de seguridad"},{id:5,nombre:"Ver clientes",descripcion:"Acceso de lectura a clientes"},{id:6,nombre:"Crear facturas",descripcion:"Generar nuevas facturas"},{id:7,nombre:"Ver reportes",descripcion:"Acceso a reportes básicos"},{id:8,nombre:"Gestión servicios",descripcion:"Administrar servicios/productos"},{id:9,nombre:"Ver empleados",descripcion:"Acceso de lectura a empleados"},{id:10,nombre:"Reportes técnicos",descripcion:"Acceso a reportes avanzados"}]),u=Object(s["ref"])([{id:1,nombre:"backup_2024_01_20_10_00.sql","tamaño":"45.2 MB",fecha:"2024-01-20T10:00:00",tipo:"automático"},{id:2,nombre:"backup_2024_01_19_10_00.sql","tamaño":"44.8 MB",fecha:"2024-01-19T10:00:00",tipo:"automático"},{id:3,nombre:"backup_manual_2024_01_18.sql","tamaño":"44.5 MB",fecha:"2024-01-18T15:30:00",tipo:"manual"}]),p=Object(s["ref"])({frecuencia:"diario",hora:"02:00",retener:"30"}),m=Object(s["ref"])({inactividad:30,advertencia:5,forzarCierre:!0,cambioPassword:"90",maxIntentos:5,tiempoBloqueo:15}),v=Object(s["ref"])(!1),f=Object(s["ref"])({id:null,nombre:"",descripcion:"",permisos:[]});function C(t){return new Date(t).toLocaleString("es-ES")}function b(){alert("Exportando registro de actividad...")}function g(t=null){f.value=t?{...t,permisos:[...t.permisos]}:{id:null,nombre:"",descripcion:"",permisos:[]},v.value=!0}function h(){v.value=!1}function _(){if(f.value.id){const t=l.value.findIndex(t=>t.id===f.value.id);-1!==t&&(l.value[t]={...f.value,permisos:[...f.value.permisos]})}else f.value.id=Date.now(),l.value.push({...f.value,permisos:[...f.value.permisos]});v.value=!1}function y(t){confirm("¿Seguro que quieres eliminar este rol?")&&(l.value=l.value.filter(e=>e.id!==t))}function w(){alert("Creando backup manual...")}function k(){alert("Configuración de backup guardada")}function A(t){alert("Descargando backup: "+t.nombre)}function x(t){confirm(`¿Seguro que quieres restaurar el backup: ${t.nombre}?`)&&alert("Restaurando backup...")}function S(t){confirm("¿Seguro que quieres eliminar este backup?")&&(u.value=u.value.filter(e=>e.id!==t))}function O(){alert("Configuración de sesión guardada")}return{__sfc:!0,activeTab:e,tabs:a,actividades:i,usuarios:o,filtroUsuario:n,filtroAccion:c,actividadesFiltradas:r,roles:l,permisosDisponibles:d,backups:u,configBackup:p,configSesion:m,showRolForm:v,formRol:f,formatDateTime:C,exportarActividad:b,openRolForm:g,closeRolForm:h,saveRol:_,deleteRol:y,crearBackupManual:w,guardarConfigBackup:k,descargarBackup:A,restaurarBackup:x,deleteBackup:S,guardarConfigSesion:O}}},Ni=Ei,Ti=(a("f174"),Object(b["a"])(Ni,Pi,ji,!1,null,"f044376a",null)),Ii=Ti.exports,Fi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"crm-dinamico-container"},[t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"table-section"},[t._m(1),e("div",{staticClass:"add-section-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"nuevaSeccion"}},[t._v("Nombre de la nueva sección")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.nuevaSeccion,expression:"nuevaSeccion"}],staticClass:"form-control",attrs:{id:"nuevaSeccion",type:"text",placeholder:"Ej: Clientes, Productos, Ventas..."},domProps:{value:t.nuevaSeccion},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.crearSeccion.apply(null,arguments)},input:function(e){e.target.composing||(t.nuevaSeccion=e.target.value)}}})])]),e("div",{staticClass:"col-md-6 d-flex align-items-end"},[e("button",{staticClass:"btn-add",on:{click:t.crearSeccion}},[e("i",{staticClass:"ti-plus"}),t._v(" Crear Nueva Sección\n            ")])])])])]),t._l(t.secciones,(function(a,s){return e("div",{key:s,staticClass:"table-section"},[e("div",{staticClass:"section-header"},[e("div",{staticClass:"section-title"},[e("h3",[e("i",{staticClass:"ti-folder"}),t._v("\n            "+t._s(a.nombre)+"\n          ")]),e("span",{staticClass:"record-count"},[t._v(t._s(a.datos?a.datos.length:0)+" registros")])]),e("div",{staticClass:"section-actions"},[e("button",{staticClass:"btn-view",attrs:{title:"Ver sección"},on:{click:function(e){t.navegarASeccion(a.slug||t.slugify(a.nombre))}}},[e("i",{staticClass:"ti-eye"})]),e("button",{staticClass:"btn-advanced",attrs:{title:"Registros avanzados"},on:{click:function(e){return t.navegarARegistrosPaginados(a._id||a.id)}}},[e("i",{staticClass:"ti-database"})]),e("button",{staticClass:"btn-edit",attrs:{title:"Editar nombre"},on:{click:function(e){return t.editarNombreSeccion(s)}}},[e("i",{staticClass:"ti-pencil"})]),e("button",{staticClass:"btn-delete",attrs:{title:"Eliminar sección"},on:{click:function(e){return t.eliminarSeccion(s)}}},[e("i",{staticClass:"ti-trash"})])])]),e("div",{staticClass:"fields-management"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Nombre del campo")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.nuevoCampoNombre,expression:"seccion.nuevoCampoNombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ej: nombre, email, categoría..."},domProps:{value:a.nuevoCampoNombre},on:{input:function(e){e.target.composing||t.$set(a,"nuevoCampoNombre",e.target.value)}}})])]),e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Tipo de campo")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.nuevoCampoTipo,expression:"seccion.nuevoCampoTipo"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"nuevoCampoTipo",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"texto"}},[t._v("Texto")]),e("option",{attrs:{value:"relacional"}},[t._v("Relacional")])])])]),"relacional"===a.nuevoCampoTipo?e("div",{staticClass:"col-md-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Sección relacionada")]),e("select",{directives:[{name:"model",rawName:"v-model",value:a.nuevoCampoSeccion,expression:"seccion.nuevoCampoSeccion"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"nuevoCampoSeccion",e.target.multiple?s:s[0])}}},t._l(t.secciones,(function(s){return(s.slug||t.slugify(s.nombre))!==(a.slug||t.slugify(a.nombre))?e("option",{key:s.slug||t.slugify(s.nombre),domProps:{value:s.slug||t.slugify(s.nombre)}},[t._v(t._s(s.nombre))]):t._e()})),0)])]):t._e(),e("div",{staticClass:"col-md-2 d-flex align-items-end"},[e("button",{staticClass:"btn-secondary",on:{click:function(e){return t.agregarCampo(s)}}},[e("i",{staticClass:"ti-plus"}),t._v(" Agregar Campo\n            ")])])])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-striped table-hover"},[e("thead",[e("tr",[t._l(a.columnas,(function(a){return e("th",{key:a.nombre,staticClass:"text-capitalize"},[t._v("\n                "+t._s(a.nombre.charAt(0).toUpperCase()+a.nombre.slice(1))+"\n              ")])})),e("th",{staticClass:"text-center"},[t._v("Acciones")])],2)]),e("tbody",t._l(a.datos,(function(i,o){return e("tr",{key:o},[t._l(a.columnas,(function(a){return e("td",{key:a.nombre},["relacional"===a.tipo?[e("select",{directives:[{name:"model",rawName:"v-model",value:i[a.nombre],expression:"fila[col.nombre]"}],staticClass:"form-control form-control-sm",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(i,a.nombre,e.target.multiple?s:s[0])},function(t){i._editando=!0}]}},[e("option",{attrs:{value:""}},[t._v("Selecciona...")]),t._l(t.getOpcionesRelacionadas(a.seccion),(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(t._s(a))])}))],2)]:[e("input",{directives:[{name:"model",rawName:"v-model",value:i[a.nombre],expression:"fila[col.nombre]"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Ingrese "+a.nombre},domProps:{value:i[a.nombre]},on:{input:[function(e){e.target.composing||t.$set(i,a.nombre,e.target.value)},function(t){i._editando=!0}]}})]],2)})),e("td",{staticClass:"text-center"},[e("button",{staticClass:"btn-delete",attrs:{title:"Eliminar fila"},on:{click:function(e){return t.eliminarFila(s,o)}}},[e("i",{staticClass:"ti-trash"})]),i._editando?e("button",{staticClass:"btn-add",attrs:{title:"Guardar cambios"},on:{click:function(e){return t.guardarFilaEditada(s,o)}}},[e("i",{staticClass:"ti-save"})]):t._e()])],2)})),0),e("tfoot",[e("tr",{staticClass:"new-row"},[t._l(a.columnas,(function(i){return e("td",{key:i.nombre},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.nuevaFila[i.nombre],expression:"seccion.nuevaFila[col.nombre]"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Nuevo "+i.nombre},domProps:{value:a.nuevaFila[i.nombre]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.agregarFila(s)},input:function(e){e.target.composing||t.$set(a.nuevaFila,i.nombre,e.target.value)}}})])})),e("td",{staticClass:"text-center"},[e("button",{staticClass:"btn-add",attrs:{title:"Agregar fila"},on:{click:function(e){return t.agregarFila(s)}}},[e("i",{staticClass:"ti-plus"})])])],2)])])])])}))],2),e("b-modal",{attrs:{title:"Editar nombre de sección","hide-footer":""},model:{value:t.showEditModal,callback:function(e){t.showEditModal=e},expression:"showEditModal"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v("Nuevo nombre de la sección")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.seccionEditando.nuevoNombre,expression:"seccionEditando.nuevoNombre"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ingrese el nuevo nombre"},domProps:{value:t.seccionEditando.nuevoNombre},on:{input:function(e){e.target.composing||t.$set(t.seccionEditando,"nuevoNombre",e.target.value)}}})])]),e("div",{staticClass:"col-12 mt-3"},[e("b-button",{staticClass:"mr-2",attrs:{variant:"primary"},on:{click:t.confirmarEditarSeccion}},[t._v("Guardar")]),e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.showEditModal=!1}}},[t._v("Cancelar")])],1)])]),e("b-modal",{attrs:{title:"Confirmar acción","hide-footer":""},model:{value:t.showClearModal,callback:function(e){t.showClearModal=e},expression:"showClearModal"}},[e("div",{staticClass:"text-center"},[e("p",[t._v("¿Estás seguro de que quieres eliminar todas las secciones y datos?")]),e("p",{staticClass:"text-danger"},[t._v("Esta acción no se puede deshacer.")]),e("div",{staticClass:"mt-3"},[e("b-button",{staticClass:"mr-2",attrs:{variant:"danger"},on:{click:t.confirmarLimpiarTodo}},[t._v("Eliminar Todo")]),e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){t.showClearModal=!1}}},[t._v("Cancelar")])],1)])]),e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".json"},on:{change:t.procesarArchivoImportado}})],1)},$i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-settings"}),t._v("\n        CRM con Secciones Personalizables\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Gestión dinámica de datos organizados en secciones")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-header"},[e("h2",[t._v("Gestión de Secciones")])])}],Mi={name:"CrmDinamico",setup(){const t=Object(s["ref"])([]),e=Object(s["ref"])(""),a=Object(s["ref"])(!1),i=Object(s["ref"])(!1),o=Object(s["ref"])(null),n=Object(s["reactive"])({index:-1,nuevoNombre:""}),c=async()=>{try{const e=await B["g"].getAll();t.value=(Array.isArray(e)?e:e.data||[]).map(t=>({...t,slug:t.slug||r(t.nombre)})),console.log("SECCIONES:",JSON.stringify(t.value,null,2))}catch(e){alert("Error al cargar secciones"),t.value=[]}};function r(t){return t.toString().toLowerCase().normalize("NFD").replace(/[ \u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}const l=async()=>{const a=e.value.trim(),s=r(a);if(a&&!t.value.find(t=>(t.slug||r(t.nombre))===s))try{await B["g"].create({nombre:a,slug:s,columnas:[],datos:[]}),e.value="",await c(),window.dispatchEvent(new CustomEvent("crmSectionsUpdated"))}catch(i){alert("Error al crear sección")}},d=e=>{n.index=e,n.nuevoNombre=t.value[e].nombre,a.value=!0},u=async()=>{const e=n.nuevoNombre.trim();if(!e||n.index<0)return;const s=t.value[n.index];try{await B["g"].update(s._id||s.id,{...s,nombre:e}),a.value=!1,await c(),window.dispatchEvent(new CustomEvent("crmSectionsUpdated"))}catch(i){alert("Error al editar sección")}},p=t=>{const e="/crm-seccion/"+t;console.log("NAVEGAR: slug",t,"URL",e),window.location.href=e},m=t=>{const e="/registros-paginados/"+t;console.log("NAVEGAR A REGISTROS PAGINADOS: seccionId",t,"URL",e),window.location.href=e},v=async e=>{const a=t.value[e];if(confirm(`¿Estás seguro de que quieres eliminar la sección "${a.nombre}"?`))try{await B["g"].delete(a._id||a.id),await c(),window.dispatchEvent(new CustomEvent("crmSectionsUpdated"))}catch(s){alert("Error al eliminar sección")}},f=async e=>{const a=t.value[e],s=(a.nuevoCampoNombre||"").trim().toLowerCase(),i=a.nuevoCampoTipo||"texto",o=a.nuevoCampoSeccion||"";if(console.log("AGREGAR CAMPO: slug relacionado:",o,"nombre:",s),!s||a.columnas.some(t=>t.nombre===s))return;const n={nombre:s,tipo:i};"relacional"===i&&o&&(n.seccion=o),"archivo"===i&&(n.configuracion={maxSize:10485760,allowedTypes:["*/*"],multiple:!0,autoOrganize:!0}),a.columnas.push(n),a.datos.forEach(t=>{s in t||(t[s]="archivo"===i?[]:"")}),s in a.nuevaFila||(a.nuevaFila[s]="archivo"===i?[]:""),a.nuevoCampoNombre="",a.nuevoCampoTipo="texto",a.nuevoCampoSeccion="";try{await B["g"].update(a._id||a.id,a),await c()}catch(r){alert("Error al agregar campo")}},C=async e=>{const a=t.value[e],s={};a.columnas.forEach(t=>{const e=t.tipo||"texto";s[t.nombre]="archivo"===e?a.nuevaFila[t.nombre]||[]:a.nuevaFila[t.nombre]||""});try{await B["g"].createRegistro(a._id||a.id,s),a.columnas.forEach(t=>{const e=t.tipo||"texto";a.nuevaFila[t.nombre]="archivo"===e?[]:""}),await c()}catch(i){alert("Error al agregar fila")}},b=async(e,a)=>{const s=t.value[e],i=s.datos[a];try{await B["g"].deleteRegistro(s._id||s.id,i._id||i.id),await c()}catch(o){alert("Error al eliminar fila")}},g=()=>{const e=JSON.stringify(t.value,null,2),a=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download="crm-secciones.json",i.click(),URL.revokeObjectURL(s)},h=()=>{o.value.click()},_=async e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onload=async e=>{try{const a=JSON.parse(e.target.result);if(Array.isArray(a)){for(const e of t.value)await B["g"].delete(e._id||e.id);for(const t of a)await B["g"].create(t);await c()}}catch(a){alert("Error al procesar el archivo")}},e.readAsText(a)}},y=()=>{i.value=!0},w=async()=>{try{for(const e of t.value)await B["g"].delete(e._id||e.id);t.value=[],i.value=!1,await c()}catch(e){alert("Error al limpiar todo")}},k=async()=>{try{for(const e of t.value)await B["g"].update(e._id||e.id,e);alert("Configuración guardada correctamente")}catch(e){alert("Error al guardar configuración")}},A=()=>{window.dispatchEvent(new CustomEvent("crmSectionsUpdated")),alert("Evento de actualización enviado")},x=e=>{const a=t.value.find(t=>(t.slug||r(t.nombre))===(e?r(e):""));if(!a)return[];if(0===a.columnas.length)return[];const s=a.columnas[0].nombre;return[...new Set(a.datos.map(t=>t[s]).filter(Boolean))]},S=async(e,a)=>{const s=t.value[e],i=s.datos[a];try{await B["g"].updateRegistro(s._id||s.id,i._id||i.id,i),i._editando=!1,await c()}catch(o){alert("Error al guardar los cambios de la fila")}};return Object(s["onMounted"])(()=>{c()}),{secciones:t,nuevaSeccion:e,showEditModal:a,showClearModal:i,fileInput:o,seccionEditando:n,crearSeccion:l,editarNombreSeccion:d,confirmarEditarSeccion:u,eliminarSeccion:v,agregarCampo:f,agregarFila:C,eliminarFila:b,exportarTodo:g,importarTodo:h,procesarArchivoImportado:_,limpiarTodo:y,confirmarLimpiarTodo:w,guardarConfiguracion:k,navegarASeccion:p,navegarARegistrosPaginados:m,forzarActualizacionMenu:A,getOpcionesRelacionadas:x,slugify:r,guardarFilaEditada:S}}},Li=Mi,Ri=(a("dbe5"),Object(b["a"])(Li,Fi,$i,!1,null,"241b1aef",null)),zi=Ri.exports,Bi=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"registro-usuario-container"},[t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"table-section",staticStyle:{"max-width":"400px",margin:"0 auto"}},[e("form",{staticClass:"form-registro",on:{submit:function(t){return t.preventDefault(),a.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",[t._v("Nombre")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.nombre,expression:"form.nombre"}],staticClass:"form-control",class:{"is-invalid":a.submitted&&!a.form.nombre},attrs:{type:"text",placeholder:"Nombre"},domProps:{value:a.form.nombre},on:{input:function(e){e.target.composing||t.$set(a.form,"nombre",e.target.value)}}}),a.submitted&&!a.form.nombre?e("div",{staticClass:"invalid-feedback"},[t._v("El nombre es obligatorio")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":a.submitted&&!a.form.email},attrs:{type:"email",placeholder:"Email"},domProps:{value:a.form.email},on:{input:function(e){e.target.composing||t.$set(a.form,"email",e.target.value)}}}),a.submitted&&!a.form.email?e("div",{staticClass:"invalid-feedback"},[t._v("El email es obligatorio")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",[t._v("Contraseña")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":a.submitted&&!a.form.password},attrs:{type:"password",placeholder:"Contraseña"},domProps:{value:a.form.password},on:{input:function(e){e.target.composing||t.$set(a.form,"password",e.target.value)}}}),a.submitted&&!a.form.password?e("div",{staticClass:"invalid-feedback"},[t._v("La contraseña es obligatoria")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",[t._v("Plataforma")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.plataforma,expression:"form.plataforma"}],staticClass:"form-control",class:{"is-invalid":a.submitted&&!a.form.plataforma},attrs:{type:"text",placeholder:"Plataforma"},domProps:{value:a.form.plataforma},on:{input:function(e){e.target.composing||t.$set(a.form,"plataforma",e.target.value)}}}),a.submitted&&!a.form.plataforma?e("div",{staticClass:"invalid-feedback"},[t._v("La plataforma es obligatoria")]):t._e()]),e("button",{staticClass:"btn-add",attrs:{type:"submit",disabled:a.loading}},[a.loading?e("span",[t._v("Registrando...")]):e("span",[t._v("Registrarse")])])]),a.error?e("div",{staticClass:"alert alert-danger q-mt-md"},[t._v(t._s(a.error))]):t._e(),a.success?e("div",{staticClass:"alert alert-success q-mt-md"},[t._v("Usuario registrado correctamente")]):t._e()])])])},Ui=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-user"}),t._v("\n        Registro de Usuario\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Crea tu cuenta y asóciate a una plataforma")])])])}],qi=a("1cfd"),Vi={__name:"RegistroUsuario",setup(t){const e=Object(s["ref"])({nombre:"",email:"",password:"",plataforma:""}),a=Object(s["ref"])(!1),i=Object(s["ref"])(""),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=async()=>{if(n.value=!0,i.value="",o.value=!1,e.value.nombre&&e.value.email&&e.value.password&&e.value.plataforma){a.value=!0;try{const t=Object(v["b"])();await Object(v["a"])(t,e.value.email,e.value.password);const{nombre:s,email:i,plataforma:c}=e.value;await Object(qi["c"])({nombre:s,email:i,plataforma:c}),o.value=!0,Object.assign(e.value,{nombre:"",email:"",password:"",plataforma:""}),n.value=!1}catch(t){i.value=t.response&&t.response.data&&t.response.data.message||t.message||"Error al registrar usuario"}finally{a.value=!1}}};return{__sfc:!0,form:e,loading:a,error:i,success:o,submitted:n,onSubmit:c}}},Hi=Vi,Gi=(a("715a"),Object(b["a"])(Hi,Bi,Ui,!1,null,"663c9216",null)),Ji=Gi.exports,Qi=function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"registro-usuario-container"},[t._m(0),e("div",{staticClass:"main-content"},[e("div",{staticClass:"table-section",staticStyle:{"max-width":"400px",margin:"0 auto"}},[e("form",{staticClass:"form-registro",on:{submit:function(t){return t.preventDefault(),a.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"form-group"},[e("label",[t._v("Nombre de la plataforma")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.nombre,expression:"form.nombre"}],staticClass:"form-control",class:{"is-invalid":a.submitted&&!a.form.nombre},attrs:{type:"text",placeholder:"Nombre"},domProps:{value:a.form.nombre},on:{input:function(e){e.target.composing||t.$set(a.form,"nombre",e.target.value)}}}),a.submitted&&!a.form.nombre?e("div",{staticClass:"invalid-feedback"},[t._v("El nombre es obligatorio")]):t._e()]),e("div",{staticClass:"form-group"},[e("label",[t._v("Descripción")]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.form.descripcion,expression:"form.descripcion"}],staticClass:"form-control",class:{"is-invalid":a.submitted&&!a.form.descripcion},attrs:{type:"text",placeholder:"Descripción"},domProps:{value:a.form.descripcion},on:{input:function(e){e.target.composing||t.$set(a.form,"descripcion",e.target.value)}}}),a.submitted&&!a.form.descripcion?e("div",{staticClass:"invalid-feedback"},[t._v("La descripción es obligatoria")]):t._e()]),e("button",{staticClass:"btn-add",attrs:{type:"submit",disabled:a.loading}},[a.loading?e("span",[t._v("Registrando...")]):e("span",[t._v("Registrar Plataforma")])])]),a.error?e("div",{staticClass:"alert alert-danger q-mt-md"},[t._v(t._s(a.error))]):t._e(),a.success?e("div",{staticClass:"alert alert-success q-mt-md"},[t._v("Plataforma registrada correctamente")]):t._e()])])])},Yi=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"page-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"page-title"},[e("i",{staticClass:"ti-layers"}),t._v("\n        Registro de Plataforma\n      ")]),e("p",{staticClass:"page-subtitle"},[t._v("Crea una nueva plataforma")])])])}],Wi={__name:"RegistroPlataforma",setup(t){const e=Object(s["ref"])({nombre:"",descripcion:""}),a=Object(s["ref"])(!1),i=Object(s["ref"])(""),o=Object(s["ref"])(!1),n=Object(s["ref"])(!1),c=async()=>{if(n.value=!0,i.value="",o.value=!1,e.value.nombre&&e.value.descripcion){a.value=!0;try{await Object(qi["b"])(e.value),o.value=!0,Object.assign(e.value,{nombre:"",descripcion:""}),n.value=!1}catch(t){i.value=t.response&&t.response.data&&t.response.data.message||"Error al registrar plataforma"}finally{a.value=!1}}};return{__sfc:!0,form:e,loading:a,error:i,success:o,submitted:n,onSubmit:c}}},Ki=Wi,Zi=(a("b965"),Object(b["a"])(Ki,Qi,Yi,!1,null,"c8f2b922",null)),Xi=Zi.exports;s["default"].use(_["a"]);const to=[{path:"/",component:H,redirect:"/login",meta:{requiresAuth:!1},children:[{path:"dashboard",name:"dashboard",component:ve,meta:{requiresAuth:!0}},{path:"login",name:"login",component:ms,meta:{requiresAuth:!1}},{path:"/perfil/:id",name:"UserProfile",component:cs,meta:{requiresAuth:!0}},{path:"listado-clientes",name:"listado-clientes",component:Te,meta:{requiresAuth:!0}},{path:"listado-citas",name:"listado-citas",component:la,meta:{requiresAuth:!0}},{path:"agenda",name:"agenda",component:fa,meta:{requiresAuth:!0}},{path:"agenda-citas",name:"agenda-citas",component:ya,meta:{requiresAuth:!0}},{path:"listado-servicios",name:"listado-servicios",component:Zs,meta:{requiresAuth:!0}},{path:"listado-productos",name:"listado-productos",component:ii,meta:{requiresAuth:!0}},{path:"listado-categorias",name:"listado-categorias",component:di,meta:{requiresAuth:!0}},{path:"facturacion",name:"facturacion",component:wi,meta:{requiresAuth:!0}},{path:"cobros-pagos",name:"cobros-pagos",component:Di,meta:{requiresAuth:!0}},{path:"empleados-usuarios",name:"empleados-usuarios",component:Ci,meta:{requiresAuth:!0}},{path:"seguridad-permisos",name:"seguridad-permisos",component:Ii,meta:{requiresAuth:!0}},{path:"crm-dinamico",name:"crm-dinamico",component:zi,meta:{requiresAuth:!0}},{path:"crm-seccion/:sectionName",name:"crm-seccion",component:()=>a.e("chunk-2d067b96").then(a.bind(null,"c2af")),props:!0,meta:{requiresAuth:!0}},{path:"registros-paginados/:seccionId",name:"registros-paginados",component:()=>a.e("chunk-cd879d44").then(a.bind(null,"ff20")),props:!0,meta:{requiresAuth:!0}}]},{path:"/registro-usuario",name:"registro-usuario",component:Ji,meta:{requiresAuth:!1}},{path:"/registro-plataforma",name:"registro-plataforma",component:Xi,meta:{requiresAuth:!1}},{path:"*",component:K}];var eo=to;s["default"].use(_["a"]);const ao=new _["a"]({routes:eo});let so=null;const io=Object(v["b"])();function oo(){return new Promise((t,e)=>{const a=Object(v["c"])(io,e=>{a(),t(e)},e)})}ao.beforeEach(async(t,e,a)=>{try{so=await oo();const e=t.matched.some(t=>t.meta.requiresAuth);if("login"===t.name)return void a();if(e&&!so)return void a({name:"login"});a()}catch(s){console.error("Error en el guard de navegación:",s),a({name:"login"})}});var no=ao,co=a("5f5b"),ro=a("b1e0"),lo=a("7346"),uo=a.n(lo);const po={install(t){t.component("fg-input",ot),t.component("drop-down",ut),t.component("card",Pt),t.component("p-button",kt)}};var mo=po,vo=a("c7db");const fo={install(t){t.directive("click-outside",vo["directive"])}};var Co=fo,bo=(a("54ba"),a("f9e3"),a("0e00"),a("e454"),{install(t){t.use(mo),t.use(Co),t.use(re),t.use(uo.a)}}),go=(a("72e0"),a("2dd8"),a("9483"));Object(go["a"])("/crms-dev/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(t){console.log("New content is available; refreshing automatically."),t.waiting&&t.waiting.postMessage({type:"SKIP_WAITING"})},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),
/*!

 =========================================================
 * Vue Paper Dashboard - v1.0.1
 =========================================================

 * Product Page: http://www.creative-tim.com/product/paper-dashboard
 * Copyright 2023 Creative Tim (http://www.creative-tim.com)
 * Licensed under MIT (https://github.com/creativetimofficial/paper-dashboard/blob/master/LICENSE.md)

 =========================================================

 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

 */
s["default"].use(co["a"]),s["default"].use(ro["a"]),s["default"].use(bo),s["default"].use(mo);const ho=localStorage.getItem("tenantId");ho&&Object(Pe["f"])(ho),new s["default"]({router:no,render:t=>t(h)}).$mount("#app")},"580a":function(t,e,a){},5979:function(t,e,a){"use strict";a("5cb7")},"59e7":function(t,e,a){},"5a82":function(t,e,a){"use strict";a("28e6")},"5bf6":function(t,e,a){},"5cb7":function(t,e,a){},"5ec6":function(t,e,a){"use strict";a("2f60")},"5eed":function(t,e,a){},6908:function(t,e,a){},6972:function(t,e,a){"use strict";a("9658")},"715a":function(t,e,a){"use strict";a("9f5c")},"73f6":function(t,e,a){"use strict";a("9903")},"77ef":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAbsAAAG7AEedTg1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAspQTFRF////8VZC4uXn4uXn4uXn8VZC4uXn4uXn8VZC4uXn8VZC4uXn4uXn8VZC8VZCwMbL4uXn4uXn4uXn4uXn8VZC4uXn4uXn8VZCsLe9s7m/s7q/trzCt73Eu8LGvMPHxMnOxcrOyc/TytHYy9LZzNPazdHX0dfc0dfd09fb1tvf1tvg17/A2Nzg2bi32d3f3uHj3+Pk4eTm4peR4pmS4uTm4uXn5NHQ6Keg6Z6V7G5f7IF07YBz72BN8FxI8GRS8VZC8VdD8VhE8VlF8VlG8VpG8VtH8VtI8VxJ8l1J8l1K8l5L8l9M8mFO8mFP8mJP8mNQ8mRS8mVS8mVT8mZU8mdV8mhW82lX82pY82tZ82ta82xa821b829d83Bf83Fg83Ji9HRk9HVl9HZm9Hho9Hlp9Hpr9Hts9Hxs9Hxt9H5u9H5v9H9w9IBx9YBx9YJz9YJ09YN09YV39YZ39YZ49Yh69Yp89Yt99ox/9o2A9o6A9o6B9o+C9pCC9pCD9pKF9pSH9paJ9paK9peL9piL9piM95qO95uP95yR952R96CU96CV96GW96OY96SZ+KWa+Kac+Kec+Kmf+Kqg+Kui+Kyi+K2j+K2k+K6l+K+l+K+m+LCn+bGo+bOq+bOr+bWs+bWt+bat+bev+biw+bmx+buz+by0+r22+r62+sC5+sG6+sK7+sO8+sS9+sW++sW/+sfB+8nD+8rE+8vE+8vF+8zG+83H+87I+8/J+9DK+9HL+9HM+9LN+9PN/NbR/NfT/NjT/NnU/NnV/NrV/NvW/NvX/N3Y/N7a/N/b/ODc/OHd/eLe/ePg/eTh/eXi/ebk/ejl/ejm/enn/ern/ero/evp/ezq/u3r/u7s/u/t/vDu/vDv/vHv/vLw/vLx/vPy/vTy/vX0/vb1/vf2/vj3/vj4//n4//r5//r6//v7//z7//z8//39//7+////nuyNngAAABh0Uk5TAAEGBxckLUlufX6WmLK0wMHE2uLm8vP1v+XjuQAAB2lJREFUeNrt3fl71EQYB/DQLpTSoj3osihyFJBLLBXCJTArIBZaRCmIKNYKigoiAp6g4gGCCiqeKMWzXqCgRVRUDi9AKApqQUErRW66/4MIm3SPJDtLjnln5v3+2HeSZ+azSTOz6TNVlLNOalpmVo5f9TjnKkDiy8hTWSQAQyAl3a+ySQCEgC9bVZkBABBokquyBGAu4GM4/tMAjAVSslXWAGwF0lX2ACwFfH4IAAwFMlQQAMwEUvOAALASSFOhADASyIQDwEYgCxAAE4EcSAAsBPygABgIqLAAvBeABuC5ADgArwXgAXgsABDAWwGIAJ4KgATwUgAmgIcCQAG8E4AK4JkAWACvBOACeCQAGMAbAcgAngiABvBCADaABwLAAdwXgA7gugB4ALcF4AO4LMABgLsCPAC4KsAFgJsCfAC4KMAJgHsCvAC4JsANgFsC/AC4JMARgDsCPAG4IsAVgBsCfAG4IMAaoBVrAdYArQOMBVgDtAkwFmAN0DbAWIA1QJcAYwHWAIXnMRZgDaC2C7AVYA5Q0IqtAHMAtX2AqQB7gMILmAqwB1ALzmcpAABAvZilAAQAtYDhXQACQC1sz+xZoAJJQTtGMyIVTAq7tG3T2vvVsQosXfOTi3AAyQqIB5CkgIAAyQmICJCUgJAAyQiICZCEgKAA9AKiAlALCAtAKyAuAKWAwAB0AiIDUAkIDUAjIDYAhYDgAIkFRAdIKCA8QCIB8QESCEgAYC0gA4ClgBQAVgJyAFgISAJgLiALgKmANABmAvIAmAhIBGAsIBOAoYBUAEYCcgEYCEgGEC8gG0CcgHQAsQLyAcQISAgQLSAjQJSAlACRAnICRAhICtAgICuALiAtgCYgL0BYQGKAMwIyA5wWkBrgfwG5AU4JSA6gdpUdQEUABEAABEAABEAA6zRu1rwF4SyDB/Tr4xBAo6YtCZcZ1Le3EwCNziHc5tLeDgA0JRynr32Axi15BhjUxzZAM8J1+tkGaM43wADbAC34BhhsG4BwHgRAAARAAARAAARAAARAAARAAARAAARAAARAABcALlv4SfXOqGz5cuWzNwcNG4+dOj0yd0y+Zqj12S8vnznLKDOuDQIBGLExZJjaFWPj2k7fFt+uvnbHR3NGmpy8+I3jIbPUPAQD4GXTHh55vSi66a2mozm67mHDD3RtyCr3gQDYZ9HD7WVRTb+zGs2W2+LPPdly/KGfIACMseziv9Mib5YT1uNZVRp78vnWBxwLAgCYYN3H2hsampaGEuS3iTEnf8q6fQ2BDxDaVUwPEPpzUlIAb/IAEHo+CYDQgVuSANg+EhTAkil6HqjYVK93s+6qOIDPX9PzzmdbD0UO6vcSWoBfYp8xrAHujfrxtBq9p6/EATwS1bTo/tURvx0/NgKoK4nLCCgzQRMAMmq9VtiRAOBUyr9tEJhnAHAA8FTYDIBc/Y9WuT4hAAku1wH2DRcEgCzQKgsTAxDyqi4wXxSA4J5wpYIGgHyqVauDggCQqnBlJRVAaa1Wni0KwNJw5SsqAPKkVq4UBWBeuPIDHUDxwXB5pygAFeHKOjoA8q5WLxUEYFO48h4lgP7YmCsGwISj4cpLlAAz9Fl1LMDJ72PyxXOj4QN8o1XuoQQYr9WXU6wF9k6FDrBIKxy+ghIgqF0y79MshvaPBQ0w/C29p2sJJQCpDterqJbDK+ACBG98fHtDR2dTA2gryDVUAJuBAexpeC9QF9nPrwktQEncTMgSYDUwAJOcvIka4Pa4bxCsAI5P5wNgAaEGeEKrP00B8PccwgXAMkIP8LZWnxkLcKwyJhWPjSI8AJxYEqQHGLZbu7iLuJwJGn3PH/2yh3Y1uJGIAVD96DCSBEDxX1r5Bf4B6ms3LJ0S997KGmCZfnAZnwCLyvSYvPO3BJhwOBSzeuZ/OZwMwPhd+uVzp4wA5b/q499K5AMoWt7waujEZNkArpz1wQHDd6kCA9Rs07PrSPTz48chMgCY5+fxRGqAbWMIdwDjtM7fbR9gcwnhDyCo/QYrS9h06BHL4R9cPCT2iAe1OwMwAFkTfqs9JHHTDZZf8IwzmB6F/7DwQ8gAY/aensDPpWg66ZDpwunFcsMjFp+5Nq6DDEBGV+6u2ziDqj9lq2rqY5ZNf2xZV/mM+e1z1/q9+6smEtAAkIMACIAACIAACIAACIAACIAACIAACIAA0m2o2F/2LTV7yb6pag/Jt9Ud2EnyjZW758u9tfYl+Q4A8Lu5+sDu+Y4A8Lm9fv9ePTrlOwVglXzY6Sg7QGfZAbpJDtChp+QAF6lyA1yoSg3QIfHnLzBAx87deqpeAOB/mkIABEAABEAABEAABEAABEAABEAABJAPwM/3+P22AXL4BsixDZDFN0CWbYBMvgEybQOk8Q2QZhsgNY/n8eel2gZQMngGyLA/fsXH8YPQ73MAQEnnFyDdifErKdm8jj87xREAxZfL5/hzfYpDacKlQG4TxbH4OLwLsn2Kg0lJ5+xZ4E9PUZyNL4OjGVFehk9xPqlpmVk54C8Ef05WZprF/O8/D8lk0cSN2SYAAAAASUVORK5CYII="},"88d5":function(t,e,a){},"8cba":function(t,e,a){"use strict";a("5bf6")},9658:function(t,e,a){},9903:function(t,e,a){},"9a98":function(t,e,a){},"9f5c":function(t,e,a){},a09a:function(t,e,a){"use strict";a("88d5")},a6d7:function(t,e,a){"use strict";a("a7e1")},a7e1:function(t,e,a){},b14e:function(t,e,a){"use strict";a("4502")},b965:function(t,e,a){"use strict";a("198f")},b9d1:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"f",(function(){return o})),a.d(e,"a",(function(){return n})),a.d(e,"h",(function(){return c})),a.d(e,"d",(function(){return r})),a.d(e,"g",(function(){return l})),a.d(e,"e",(function(){return d}));var s=a("1cfd");const i={getAll:(t={})=>s["a"].get("/clientes",t),getById:t=>s["a"].get("/clientes/"+t),create:t=>s["a"].post("/clientes",t),update:(t,e)=>s["a"].put("/clientes/"+t,e),delete:t=>s["a"].delete("/clientes/"+t)},o={getAll:(t={})=>s["a"].get("/productos",t),getById:t=>s["a"].get("/productos/"+t),create:t=>s["a"].post("/productos",t),update:(t,e)=>s["a"].put("/productos/"+t,e),delete:t=>s["a"].delete("/productos/"+t)},n={getAll:(t={})=>s["a"].get("/categorias",t),getById:t=>s["a"].get("/categorias/"+t),create:t=>s["a"].post("/categorias",t),update:(t,e)=>s["a"].put("/categorias/"+t,e),delete:t=>s["a"].delete("/categorias/"+t)},c={getAll:(t={})=>s["a"].get("/servicios",t),getById:t=>s["a"].get("/servicios/"+t),create:t=>s["a"].post("/servicios",t),update:(t,e)=>s["a"].put("/servicios/"+t,e),delete:t=>s["a"].delete("/servicios/"+t)},r={getAll:(t={})=>s["a"].get("/facturas",t),getById:t=>s["a"].get("/facturas/"+t),create:t=>s["a"].post("/facturas",t),update:(t,e)=>s["a"].put("/facturas/"+t,e),delete:t=>s["a"].delete("/facturas/"+t)},l={getAll:(t={})=>s["a"].get("/secciones-dinamicas",t),getById:t=>s["a"].get("/secciones-dinamicas/"+t),create:t=>s["a"].post("/secciones-dinamicas",t),update:(t,e)=>s["a"].put("/secciones-dinamicas/"+t,e),delete:t=>s["a"].delete("/secciones-dinamicas/"+t),getRegistros:(t,e={})=>s["a"].get(`/secciones-dinamicas/${t}/registros`,e),getRegistrosPaginados:(t,e={})=>s["a"].get(`/secciones-dinamicas/${t}/registros-paginados`,e),createRegistro:(t,e)=>s["a"].post(`/secciones-dinamicas/${t}/registros`,e),updateRegistro:(t,e,a)=>s["a"].put(`/secciones-dinamicas/${t}/registros/${e}`,a),updateRegistroArchivos:(t,e,a)=>s["a"].put(`/secciones-dinamicas/${t}/registros/${e}/archivos`,{archivos:a}),deleteRegistro:(t,e)=>s["a"].delete(`/secciones-dinamicas/${t}/registros/${e}`),saveCalendarConfig:(t,e)=>s["a"].post(`/secciones-dinamicas/${t}/calendar-config`,e),getCalendarConfigs:t=>s["a"].get(`/secciones-dinamicas/${t}/calendar-config`),updateCalendarConfig:(t,e,a)=>s["a"].put(`/secciones-dinamicas/${t}/calendar-config/${e}`,a),deleteCalendarConfig:(t,e)=>s["a"].delete(`/secciones-dinamicas/${t}/calendar-config/${e}`),getCalendarData:(t,e={})=>s["a"].get(`/secciones-dinamicas/${t}/citas`,e)},d=t=>s["a"].post("/usuarios/plataforma-lookup",{email:t})},c374:function(t,e,a){"use strict";a("d2bd")},c5b7:function(t,e,a){},c83f:function(t,e,a){},cd2f:function(t,e,a){},ce76:function(t,e,a){},d2bd:function(t,e,a){},d61b:function(t,e,a){"use strict";a("06eb")},dbe5:function(t,e,a){"use strict";a("59e7")},e454:function(t,e,a){},e7b5:function(t,e,a){"use strict";a("9a98")},e891:function(t,e,a){"use strict";a("ce76")},ed15:function(t,e,a){},ee0e:function(t,e,a){},f174:function(t,e,a){"use strict";a("ed15")},f912:function(t,e,a){},ffa1:function(t,e,a){"use strict";a("ee0e")}});